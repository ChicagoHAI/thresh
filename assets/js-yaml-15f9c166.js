import{e as jr,g as M0,r as I0,o as Ge,c as Ye,d as ae,t as Rt,F as bi,f as xi,n as wn,a as Si,b as Pn,h as kt,i as ea,j as Co,m as wi}from"./index-d6b84fed.js";var ns={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */ns.exports;(function(t,r){(function(){var i,h="4.17.21",c=200,p="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",_="Expected a function",b="Invalid `variable` option passed into `_.template`",S="__lodash_hash_undefined__",H=500,j="__lodash_placeholder__",z=1,_e=2,ge=4,Ce=1,Le=2,Fe=1,Qe=2,Re=4,Pt=8,nt=16,Bt=32,zn=64,Je=128,Wt=256,Xt=512,Nn=30,En="...",qi=800,aa=16,kr=1,Ar=2,Cr=3,Dn=1/0,kn=9007199254740991,fn=17976931348623157e292,zi=0/0,dn=4294967295,Yi=dn-1,Or=dn>>>1,Ki=[["ary",Je],["bind",Fe],["bindKey",Qe],["curry",Pt],["curryRight",nt],["flip",Xt],["partial",Bt],["partialRight",zn],["rearg",Wt]],Bn="[object Arguments]",pn="[object Array]",sa="[object AsyncFunction]",Ai="[object Boolean]",si="[object Date]",fs="[object DOMException]",Zi="[object Error]",Ci="[object Function]",oa="[object GeneratorFunction]",Ct="[object Map]",Ft="[object Number]",Xi="[object Null]",An="[object Object]",Mr="[object Promise]",Se="[object Proxy]",St="[object RegExp]",Ot="[object Set]",_n="[object String]",at="[object Symbol]",la="[object Undefined]",yt="[object WeakMap]",Cn="[object WeakSet]",pt="[object ArrayBuffer]",it="[object DataView]",Ir="[object Float32Array]",Wn="[object Float64Array]",Oi="[object Int8Array]",ji="[object Int16Array]",Qi="[object Int32Array]",Mi="[object Uint8Array]",_t="[object Uint8ClampedArray]",Lr="[object Uint16Array]",ct="[object Uint32Array]",ds=/\b__p \+= '';/g,Mt=/\b(__p \+=) '' \+/g,ua=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$r=/&(?:amp|lt|gt|quot|#39);/g,Hn=/[&<>"']/g,It=RegExp($r.source),Ii=RegExp(Hn.source),Li=/<%-([\s\S]+?)%>/g,Ji=/<%([\s\S]+?)%>/g,er=/<%=([\s\S]+?)%>/g,$i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rn=/^\w*$/,Ti=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oi=/[\\^$.*+?()[\]{}|]/g,li=RegExp(oi.source),Yn=/^\s+/,Tr=/\s/,Rr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ca=/\{\n\/\* \[wrapped with (.+)\] \*/,tr=/,? & /,ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ft=/[()=,{}\[\]\/\s]/,ui=/\\(\\)?/g,st=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Pr=/\w*$/,ha=/^[-+]0x[0-9a-f]+$/i,fa=/^0b[01]+$/i,bt=/^\[object .+?Constructor\]$/,ce=/^0o[0-7]+$/i,da=/^(?:0|[1-9]\d*)$/,pa=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,nr=/($^)/,ci=/['\n\r\u2028\u2029\\]/g,Lt="\\ud800-\\udfff",ir="\\u0300-\\u036f",rr="\\ufe20-\\ufe2f",_a="\\u20d0-\\u20ff",Ri=ir+rr+_a,Pi="\\u2700-\\u27bf",Ht="a-z\\xdf-\\xf6\\xf8-\\xff",ar="\\xac\\xb1\\xd7\\xf7",ga="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",a="\\u2000-\\u206f",l=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",u="A-Z\\xc0-\\xd6\\xd8-\\xde",f="\\ufe0e\\ufe0f",y=ar+ga+a+l,m="['’]",E="["+Lt+"]",L="["+y+"]",O="["+Ri+"]",K="\\d+",V="["+Pi+"]",U="["+Ht+"]",M="[^"+Lt+y+K+Pi+Ht+u+"]",A="\\ud83c[\\udffb-\\udfff]",I="(?:"+O+"|"+A+")",F="[^"+Lt+"]",C="(?:\\ud83c[\\udde6-\\uddff]){2}",T="[\\ud800-\\udbff][\\udc00-\\udfff]",R="["+u+"]",ie="\\u200d",le="(?:"+U+"|"+M+")",J="(?:"+R+"|"+M+")",G="(?:"+m+"(?:d|ll|m|re|s|t|ve))?",ee="(?:"+m+"(?:D|LL|M|RE|S|T|VE))?",W=I+"?",x="["+f+"]?",B="(?:"+ie+"(?:"+[F,C,T].join("|")+")"+x+W+")*",Q="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",N="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",se=x+W+B,oe="(?:"+[V,C,T].join("|")+")"+se,Oe="(?:"+[F+O+"?",O,C,T,E].join("|")+")",De=RegExp(m,"g"),be=RegExp(O,"g"),Me=RegExp(A+"(?="+A+")|"+Oe+se,"g"),ye=RegExp([R+"?"+U+"+"+G+"(?="+[L,R,"$"].join("|")+")",J+"+"+ee+"(?="+[L,R+le,"$"].join("|")+")",R+"?"+le+"+"+G,R+"+"+ee,N,Q,K,oe].join("|"),"g"),pe=RegExp("["+ie+Lt+Ri+f+"]"),ue=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,X=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ie=-1,he={};he[Ir]=he[Wn]=he[Oi]=he[ji]=he[Qi]=he[Mi]=he[_t]=he[Lr]=he[ct]=!0,he[Bn]=he[pn]=he[pt]=he[Ai]=he[it]=he[si]=he[Zi]=he[Ci]=he[Ct]=he[Ft]=he[An]=he[St]=he[Ot]=he[_n]=he[yt]=!1;var $e={};$e[Bn]=$e[pn]=$e[pt]=$e[it]=$e[Ai]=$e[si]=$e[Ir]=$e[Wn]=$e[Oi]=$e[ji]=$e[Qi]=$e[Ct]=$e[Ft]=$e[An]=$e[St]=$e[Ot]=$e[_n]=$e[at]=$e[Mi]=$e[_t]=$e[Lr]=$e[ct]=!0,$e[Zi]=$e[Ci]=$e[yt]=!1;var et={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Kn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},rt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ze={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},q=parseFloat,Ae=parseInt,Ze=typeof jr=="object"&&jr&&jr.Object===Object&&jr,qt=typeof self=="object"&&self&&self.Object===Object&&self,Be=Ze||qt||Function("return this")(),jt=r&&!r.nodeType&&r,On=jt&&!0&&t&&!t.nodeType&&t,sr=On&&On.exports===jt,Mn=sr&&Ze.process,$t=function(){try{var P=On&&On.require&&On.require("util").types;return P||Mn&&Mn.binding&&Mn.binding("util")}catch{}}(),Ro=$t&&$t.isArrayBuffer,Po=$t&&$t.isDate,Fo=$t&&$t.isMap,No=$t&&$t.isRegExp,Do=$t&&$t.isSet,Bo=$t&&$t.isTypedArray;function an(P,Z,Y){switch(Y.length){case 0:return P.call(Z);case 1:return P.call(Z,Y[0]);case 2:return P.call(Z,Y[0],Y[1]);case 3:return P.call(Z,Y[0],Y[1],Y[2])}return P.apply(Z,Y)}function jc(P,Z,Y,de){for(var Te=-1,Ke=P==null?0:P.length;++Te<Ke;){var wt=P[Te];Z(de,wt,Y(wt),P)}return de}function gn(P,Z){for(var Y=-1,de=P==null?0:P.length;++Y<de&&Z(P[Y],Y,P)!==!1;);return P}function Qc(P,Z){for(var Y=P==null?0:P.length;Y--&&Z(P[Y],Y,P)!==!1;);return P}function Wo(P,Z){for(var Y=-1,de=P==null?0:P.length;++Y<de;)if(!Z(P[Y],Y,P))return!1;return!0}function hi(P,Z){for(var Y=-1,de=P==null?0:P.length,Te=0,Ke=[];++Y<de;){var wt=P[Y];Z(wt,Y,P)&&(Ke[Te++]=wt)}return Ke}function ma(P,Z){var Y=P==null?0:P.length;return!!Y&&or(P,Z,0)>-1}function ps(P,Z,Y){for(var de=-1,Te=P==null?0:P.length;++de<Te;)if(Y(Z,P[de]))return!0;return!1}function ot(P,Z){for(var Y=-1,de=P==null?0:P.length,Te=Array(de);++Y<de;)Te[Y]=Z(P[Y],Y,P);return Te}function fi(P,Z){for(var Y=-1,de=Z.length,Te=P.length;++Y<de;)P[Te+Y]=Z[Y];return P}function _s(P,Z,Y,de){var Te=-1,Ke=P==null?0:P.length;for(de&&Ke&&(Y=P[++Te]);++Te<Ke;)Y=Z(Y,P[Te],Te,P);return Y}function Jc(P,Z,Y,de){var Te=P==null?0:P.length;for(de&&Te&&(Y=P[--Te]);Te--;)Y=Z(Y,P[Te],Te,P);return Y}function gs(P,Z){for(var Y=-1,de=P==null?0:P.length;++Y<de;)if(Z(P[Y],Y,P))return!0;return!1}var eh=ms("length");function th(P){return P.split("")}function nh(P){return P.match(ht)||[]}function Ho(P,Z,Y){var de;return Y(P,function(Te,Ke,wt){if(Z(Te,Ke,wt))return de=Ke,!1}),de}function va(P,Z,Y,de){for(var Te=P.length,Ke=Y+(de?1:-1);de?Ke--:++Ke<Te;)if(Z(P[Ke],Ke,P))return Ke;return-1}function or(P,Z,Y){return Z===Z?ph(P,Z,Y):va(P,Vo,Y)}function ih(P,Z,Y,de){for(var Te=Y-1,Ke=P.length;++Te<Ke;)if(de(P[Te],Z))return Te;return-1}function Vo(P){return P!==P}function Go(P,Z){var Y=P==null?0:P.length;return Y?ys(P,Z)/Y:zi}function ms(P){return function(Z){return Z==null?i:Z[P]}}function vs(P){return function(Z){return P==null?i:P[Z]}}function Uo(P,Z,Y,de,Te){return Te(P,function(Ke,wt,tt){Y=de?(de=!1,Ke):Z(Y,Ke,wt,tt)}),Y}function rh(P,Z){var Y=P.length;for(P.sort(Z);Y--;)P[Y]=P[Y].value;return P}function ys(P,Z){for(var Y,de=-1,Te=P.length;++de<Te;){var Ke=Z(P[de]);Ke!==i&&(Y=Y===i?Ke:Y+Ke)}return Y}function bs(P,Z){for(var Y=-1,de=Array(P);++Y<P;)de[Y]=Z(Y);return de}function ah(P,Z){return ot(Z,function(Y){return[Y,P[Y]]})}function qo(P){return P&&P.slice(0,Zo(P)+1).replace(Yn,"")}function sn(P){return function(Z){return P(Z)}}function xs(P,Z){return ot(Z,function(Y){return P[Y]})}function Fr(P,Z){return P.has(Z)}function zo(P,Z){for(var Y=-1,de=P.length;++Y<de&&or(Z,P[Y],0)>-1;);return Y}function Yo(P,Z){for(var Y=P.length;Y--&&or(Z,P[Y],0)>-1;);return Y}function sh(P,Z){for(var Y=P.length,de=0;Y--;)P[Y]===Z&&++de;return de}var oh=vs(et),lh=vs(Kn);function uh(P){return"\\"+ze[P]}function ch(P,Z){return P==null?i:P[Z]}function lr(P){return pe.test(P)}function hh(P){return ue.test(P)}function fh(P){for(var Z,Y=[];!(Z=P.next()).done;)Y.push(Z.value);return Y}function Ss(P){var Z=-1,Y=Array(P.size);return P.forEach(function(de,Te){Y[++Z]=[Te,de]}),Y}function Ko(P,Z){return function(Y){return P(Z(Y))}}function di(P,Z){for(var Y=-1,de=P.length,Te=0,Ke=[];++Y<de;){var wt=P[Y];(wt===Z||wt===j)&&(P[Y]=j,Ke[Te++]=Y)}return Ke}function ya(P){var Z=-1,Y=Array(P.size);return P.forEach(function(de){Y[++Z]=de}),Y}function dh(P){var Z=-1,Y=Array(P.size);return P.forEach(function(de){Y[++Z]=[de,de]}),Y}function ph(P,Z,Y){for(var de=Y-1,Te=P.length;++de<Te;)if(P[de]===Z)return de;return-1}function _h(P,Z,Y){for(var de=Y+1;de--;)if(P[de]===Z)return de;return de}function ur(P){return lr(P)?mh(P):eh(P)}function In(P){return lr(P)?vh(P):th(P)}function Zo(P){for(var Z=P.length;Z--&&Tr.test(P.charAt(Z)););return Z}var gh=vs(rt);function mh(P){for(var Z=Me.lastIndex=0;Me.test(P);)++Z;return Z}function vh(P){return P.match(Me)||[]}function yh(P){return P.match(ye)||[]}var bh=function P(Z){Z=Z==null?Be:cr.defaults(Be.Object(),Z,cr.pick(Be,X));var Y=Z.Array,de=Z.Date,Te=Z.Error,Ke=Z.Function,wt=Z.Math,tt=Z.Object,ws=Z.RegExp,xh=Z.String,mn=Z.TypeError,ba=Y.prototype,Sh=Ke.prototype,hr=tt.prototype,xa=Z["__core-js_shared__"],Sa=Sh.toString,je=hr.hasOwnProperty,wh=0,Xo=function(){var e=/[^.]+$/.exec(xa&&xa.keys&&xa.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),wa=hr.toString,Eh=Sa.call(tt),kh=Be._,Ah=ws("^"+Sa.call(je).replace(oi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ea=sr?Z.Buffer:i,pi=Z.Symbol,ka=Z.Uint8Array,jo=Ea?Ea.allocUnsafe:i,Aa=Ko(tt.getPrototypeOf,tt),Qo=tt.create,Jo=hr.propertyIsEnumerable,Ca=ba.splice,el=pi?pi.isConcatSpreadable:i,Nr=pi?pi.iterator:i,Fi=pi?pi.toStringTag:i,Oa=function(){try{var e=Hi(tt,"defineProperty");return e({},"",{}),e}catch{}}(),Ch=Z.clearTimeout!==Be.clearTimeout&&Z.clearTimeout,Oh=de&&de.now!==Be.Date.now&&de.now,Mh=Z.setTimeout!==Be.setTimeout&&Z.setTimeout,Ma=wt.ceil,Ia=wt.floor,Es=tt.getOwnPropertySymbols,Ih=Ea?Ea.isBuffer:i,tl=Z.isFinite,Lh=ba.join,$h=Ko(tt.keys,tt),Et=wt.max,Vt=wt.min,Th=de.now,Rh=Z.parseInt,nl=wt.random,Ph=ba.reverse,ks=Hi(Z,"DataView"),Dr=Hi(Z,"Map"),As=Hi(Z,"Promise"),fr=Hi(Z,"Set"),Br=Hi(Z,"WeakMap"),Wr=Hi(tt,"create"),La=Br&&new Br,dr={},Fh=Vi(ks),Nh=Vi(Dr),Dh=Vi(As),Bh=Vi(fr),Wh=Vi(Br),$a=pi?pi.prototype:i,Hr=$a?$a.valueOf:i,il=$a?$a.toString:i;function g(e){if(dt(e)&&!Pe(e)&&!(e instanceof Ue)){if(e instanceof vn)return e;if(je.call(e,"__wrapped__"))return ru(e)}return new vn(e)}var pr=function(){function e(){}return function(n){if(!ut(n))return{};if(Qo)return Qo(n);e.prototype=n;var s=new e;return e.prototype=i,s}}();function Ta(){}function vn(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=i}g.templateSettings={escape:Li,evaluate:Ji,interpolate:er,variable:"",imports:{_:g}},g.prototype=Ta.prototype,g.prototype.constructor=g,vn.prototype=pr(Ta.prototype),vn.prototype.constructor=vn;function Ue(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=dn,this.__views__=[]}function Hh(){var e=new Ue(this.__wrapped__);return e.__actions__=Qt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Qt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Qt(this.__views__),e}function Vh(){if(this.__filtered__){var e=new Ue(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Gh(){var e=this.__wrapped__.value(),n=this.__dir__,s=Pe(e),o=n<0,d=s?e.length:0,v=nd(0,d,this.__views__),w=v.start,k=v.end,D=k-w,te=o?k:w-1,ne=this.__iteratees__,re=ne.length,fe=0,me=Vt(D,this.__takeCount__);if(!s||!o&&d==D&&me==D)return Cl(e,this.__actions__);var Ee=[];e:for(;D--&&fe<me;){te+=n;for(var We=-1,ke=e[te];++We<re;){var Ve=ne[We],qe=Ve.iteratee,un=Ve.type,Kt=qe(ke);if(un==Ar)ke=Kt;else if(!Kt){if(un==kr)continue e;break e}}Ee[fe++]=ke}return Ee}Ue.prototype=pr(Ta.prototype),Ue.prototype.constructor=Ue;function Ni(e){var n=-1,s=e==null?0:e.length;for(this.clear();++n<s;){var o=e[n];this.set(o[0],o[1])}}function Uh(){this.__data__=Wr?Wr(null):{},this.size=0}function qh(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function zh(e){var n=this.__data__;if(Wr){var s=n[e];return s===S?i:s}return je.call(n,e)?n[e]:i}function Yh(e){var n=this.__data__;return Wr?n[e]!==i:je.call(n,e)}function Kh(e,n){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=Wr&&n===i?S:n,this}Ni.prototype.clear=Uh,Ni.prototype.delete=qh,Ni.prototype.get=zh,Ni.prototype.has=Yh,Ni.prototype.set=Kh;function Zn(e){var n=-1,s=e==null?0:e.length;for(this.clear();++n<s;){var o=e[n];this.set(o[0],o[1])}}function Zh(){this.__data__=[],this.size=0}function Xh(e){var n=this.__data__,s=Ra(n,e);if(s<0)return!1;var o=n.length-1;return s==o?n.pop():Ca.call(n,s,1),--this.size,!0}function jh(e){var n=this.__data__,s=Ra(n,e);return s<0?i:n[s][1]}function Qh(e){return Ra(this.__data__,e)>-1}function Jh(e,n){var s=this.__data__,o=Ra(s,e);return o<0?(++this.size,s.push([e,n])):s[o][1]=n,this}Zn.prototype.clear=Zh,Zn.prototype.delete=Xh,Zn.prototype.get=jh,Zn.prototype.has=Qh,Zn.prototype.set=Jh;function Xn(e){var n=-1,s=e==null?0:e.length;for(this.clear();++n<s;){var o=e[n];this.set(o[0],o[1])}}function ef(){this.size=0,this.__data__={hash:new Ni,map:new(Dr||Zn),string:new Ni}}function tf(e){var n=za(this,e).delete(e);return this.size-=n?1:0,n}function nf(e){return za(this,e).get(e)}function rf(e){return za(this,e).has(e)}function af(e,n){var s=za(this,e),o=s.size;return s.set(e,n),this.size+=s.size==o?0:1,this}Xn.prototype.clear=ef,Xn.prototype.delete=tf,Xn.prototype.get=nf,Xn.prototype.has=rf,Xn.prototype.set=af;function Di(e){var n=-1,s=e==null?0:e.length;for(this.__data__=new Xn;++n<s;)this.add(e[n])}function sf(e){return this.__data__.set(e,S),this}function of(e){return this.__data__.has(e)}Di.prototype.add=Di.prototype.push=sf,Di.prototype.has=of;function Ln(e){var n=this.__data__=new Zn(e);this.size=n.size}function lf(){this.__data__=new Zn,this.size=0}function uf(e){var n=this.__data__,s=n.delete(e);return this.size=n.size,s}function cf(e){return this.__data__.get(e)}function hf(e){return this.__data__.has(e)}function ff(e,n){var s=this.__data__;if(s instanceof Zn){var o=s.__data__;if(!Dr||o.length<c-1)return o.push([e,n]),this.size=++s.size,this;s=this.__data__=new Xn(o)}return s.set(e,n),this.size=s.size,this}Ln.prototype.clear=lf,Ln.prototype.delete=uf,Ln.prototype.get=cf,Ln.prototype.has=hf,Ln.prototype.set=ff;function rl(e,n){var s=Pe(e),o=!s&&Gi(e),d=!s&&!o&&yi(e),v=!s&&!o&&!d&&vr(e),w=s||o||d||v,k=w?bs(e.length,xh):[],D=k.length;for(var te in e)(n||je.call(e,te))&&!(w&&(te=="length"||d&&(te=="offset"||te=="parent")||v&&(te=="buffer"||te=="byteLength"||te=="byteOffset")||ei(te,D)))&&k.push(te);return k}function al(e){var n=e.length;return n?e[Ns(0,n-1)]:i}function df(e,n){return Ya(Qt(e),Bi(n,0,e.length))}function pf(e){return Ya(Qt(e))}function Cs(e,n,s){(s!==i&&!$n(e[n],s)||s===i&&!(n in e))&&jn(e,n,s)}function Vr(e,n,s){var o=e[n];(!(je.call(e,n)&&$n(o,s))||s===i&&!(n in e))&&jn(e,n,s)}function Ra(e,n){for(var s=e.length;s--;)if($n(e[s][0],n))return s;return-1}function _f(e,n,s,o){return _i(e,function(d,v,w){n(o,d,s(d),w)}),o}function sl(e,n){return e&&Gn(n,Tt(n),e)}function gf(e,n){return e&&Gn(n,en(n),e)}function jn(e,n,s){n=="__proto__"&&Oa?Oa(e,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[n]=s}function Os(e,n){for(var s=-1,o=n.length,d=Y(o),v=e==null;++s<o;)d[s]=v?i:lo(e,n[s]);return d}function Bi(e,n,s){return e===e&&(s!==i&&(e=e<=s?e:s),n!==i&&(e=e>=n?e:n)),e}function yn(e,n,s,o,d,v){var w,k=n&z,D=n&_e,te=n&ge;if(s&&(w=d?s(e,o,d,v):s(e)),w!==i)return w;if(!ut(e))return e;var ne=Pe(e);if(ne){if(w=rd(e),!k)return Qt(e,w)}else{var re=Gt(e),fe=re==Ci||re==oa;if(yi(e))return Il(e,k);if(re==An||re==Bn||fe&&!d){if(w=D||fe?{}:Zl(e),!k)return D?Yf(e,gf(w,e)):zf(e,sl(w,e))}else{if(!$e[re])return d?e:{};w=ad(e,re,k)}}v||(v=new Ln);var me=v.get(e);if(me)return me;v.set(e,w),Eu(e)?e.forEach(function(ke){w.add(yn(ke,n,s,ke,e,v))}):Su(e)&&e.forEach(function(ke,Ve){w.set(Ve,yn(ke,n,s,Ve,e,v))});var Ee=te?D?Ks:Ys:D?en:Tt,We=ne?i:Ee(e);return gn(We||e,function(ke,Ve){We&&(Ve=ke,ke=e[Ve]),Vr(w,Ve,yn(ke,n,s,Ve,e,v))}),w}function mf(e){var n=Tt(e);return function(s){return ol(s,e,n)}}function ol(e,n,s){var o=s.length;if(e==null)return!o;for(e=tt(e);o--;){var d=s[o],v=n[d],w=e[d];if(w===i&&!(d in e)||!v(w))return!1}return!0}function ll(e,n,s){if(typeof e!="function")throw new mn(_);return Zr(function(){e.apply(i,s)},n)}function Gr(e,n,s,o){var d=-1,v=ma,w=!0,k=e.length,D=[],te=n.length;if(!k)return D;s&&(n=ot(n,sn(s))),o?(v=ps,w=!1):n.length>=c&&(v=Fr,w=!1,n=new Di(n));e:for(;++d<k;){var ne=e[d],re=s==null?ne:s(ne);if(ne=o||ne!==0?ne:0,w&&re===re){for(var fe=te;fe--;)if(n[fe]===re)continue e;D.push(ne)}else v(n,re,o)||D.push(ne)}return D}var _i=Pl(Vn),ul=Pl(Is,!0);function vf(e,n){var s=!0;return _i(e,function(o,d,v){return s=!!n(o,d,v),s}),s}function Pa(e,n,s){for(var o=-1,d=e.length;++o<d;){var v=e[o],w=n(v);if(w!=null&&(k===i?w===w&&!ln(w):s(w,k)))var k=w,D=v}return D}function yf(e,n,s,o){var d=e.length;for(s=Ne(s),s<0&&(s=-s>d?0:d+s),o=o===i||o>d?d:Ne(o),o<0&&(o+=d),o=s>o?0:Au(o);s<o;)e[s++]=n;return e}function cl(e,n){var s=[];return _i(e,function(o,d,v){n(o,d,v)&&s.push(o)}),s}function Nt(e,n,s,o,d){var v=-1,w=e.length;for(s||(s=od),d||(d=[]);++v<w;){var k=e[v];n>0&&s(k)?n>1?Nt(k,n-1,s,o,d):fi(d,k):o||(d[d.length]=k)}return d}var Ms=Fl(),hl=Fl(!0);function Vn(e,n){return e&&Ms(e,n,Tt)}function Is(e,n){return e&&hl(e,n,Tt)}function Fa(e,n){return hi(n,function(s){return ti(e[s])})}function Wi(e,n){n=mi(n,e);for(var s=0,o=n.length;e!=null&&s<o;)e=e[Un(n[s++])];return s&&s==o?e:i}function fl(e,n,s){var o=n(e);return Pe(e)?o:fi(o,s(e))}function zt(e){return e==null?e===i?la:Xi:Fi&&Fi in tt(e)?td(e):pd(e)}function Ls(e,n){return e>n}function bf(e,n){return e!=null&&je.call(e,n)}function xf(e,n){return e!=null&&n in tt(e)}function Sf(e,n,s){return e>=Vt(n,s)&&e<Et(n,s)}function $s(e,n,s){for(var o=s?ps:ma,d=e[0].length,v=e.length,w=v,k=Y(v),D=1/0,te=[];w--;){var ne=e[w];w&&n&&(ne=ot(ne,sn(n))),D=Vt(ne.length,D),k[w]=!s&&(n||d>=120&&ne.length>=120)?new Di(w&&ne):i}ne=e[0];var re=-1,fe=k[0];e:for(;++re<d&&te.length<D;){var me=ne[re],Ee=n?n(me):me;if(me=s||me!==0?me:0,!(fe?Fr(fe,Ee):o(te,Ee,s))){for(w=v;--w;){var We=k[w];if(!(We?Fr(We,Ee):o(e[w],Ee,s)))continue e}fe&&fe.push(Ee),te.push(me)}}return te}function wf(e,n,s,o){return Vn(e,function(d,v,w){n(o,s(d),v,w)}),o}function Ur(e,n,s){n=mi(n,e),e=Jl(e,n);var o=e==null?e:e[Un(xn(n))];return o==null?i:an(o,e,s)}function dl(e){return dt(e)&&zt(e)==Bn}function Ef(e){return dt(e)&&zt(e)==pt}function kf(e){return dt(e)&&zt(e)==si}function qr(e,n,s,o,d){return e===n?!0:e==null||n==null||!dt(e)&&!dt(n)?e!==e&&n!==n:Af(e,n,s,o,qr,d)}function Af(e,n,s,o,d,v){var w=Pe(e),k=Pe(n),D=w?pn:Gt(e),te=k?pn:Gt(n);D=D==Bn?An:D,te=te==Bn?An:te;var ne=D==An,re=te==An,fe=D==te;if(fe&&yi(e)){if(!yi(n))return!1;w=!0,ne=!1}if(fe&&!ne)return v||(v=new Ln),w||vr(e)?zl(e,n,s,o,d,v):Jf(e,n,D,s,o,d,v);if(!(s&Ce)){var me=ne&&je.call(e,"__wrapped__"),Ee=re&&je.call(n,"__wrapped__");if(me||Ee){var We=me?e.value():e,ke=Ee?n.value():n;return v||(v=new Ln),d(We,ke,s,o,v)}}return fe?(v||(v=new Ln),ed(e,n,s,o,d,v)):!1}function Cf(e){return dt(e)&&Gt(e)==Ct}function Ts(e,n,s,o){var d=s.length,v=d,w=!o;if(e==null)return!v;for(e=tt(e);d--;){var k=s[d];if(w&&k[2]?k[1]!==e[k[0]]:!(k[0]in e))return!1}for(;++d<v;){k=s[d];var D=k[0],te=e[D],ne=k[1];if(w&&k[2]){if(te===i&&!(D in e))return!1}else{var re=new Ln;if(o)var fe=o(te,ne,D,e,n,re);if(!(fe===i?qr(ne,te,Ce|Le,o,re):fe))return!1}}return!0}function pl(e){if(!ut(e)||ud(e))return!1;var n=ti(e)?Ah:bt;return n.test(Vi(e))}function Of(e){return dt(e)&&zt(e)==St}function Mf(e){return dt(e)&&Gt(e)==Ot}function If(e){return dt(e)&&Ja(e.length)&&!!he[zt(e)]}function _l(e){return typeof e=="function"?e:e==null?tn:typeof e=="object"?Pe(e)?vl(e[0],e[1]):ml(e):Nu(e)}function Rs(e){if(!Kr(e))return $h(e);var n=[];for(var s in tt(e))je.call(e,s)&&s!="constructor"&&n.push(s);return n}function Lf(e){if(!ut(e))return dd(e);var n=Kr(e),s=[];for(var o in e)o=="constructor"&&(n||!je.call(e,o))||s.push(o);return s}function Ps(e,n){return e<n}function gl(e,n){var s=-1,o=Jt(e)?Y(e.length):[];return _i(e,function(d,v,w){o[++s]=n(d,v,w)}),o}function ml(e){var n=Xs(e);return n.length==1&&n[0][2]?jl(n[0][0],n[0][1]):function(s){return s===e||Ts(s,e,n)}}function vl(e,n){return Qs(e)&&Xl(n)?jl(Un(e),n):function(s){var o=lo(s,e);return o===i&&o===n?uo(s,e):qr(n,o,Ce|Le)}}function Na(e,n,s,o,d){e!==n&&Ms(n,function(v,w){if(d||(d=new Ln),ut(v))$f(e,n,w,s,Na,o,d);else{var k=o?o(eo(e,w),v,w+"",e,n,d):i;k===i&&(k=v),Cs(e,w,k)}},en)}function $f(e,n,s,o,d,v,w){var k=eo(e,s),D=eo(n,s),te=w.get(D);if(te){Cs(e,s,te);return}var ne=v?v(k,D,s+"",e,n,w):i,re=ne===i;if(re){var fe=Pe(D),me=!fe&&yi(D),Ee=!fe&&!me&&vr(D);ne=D,fe||me||Ee?Pe(k)?ne=k:gt(k)?ne=Qt(k):me?(re=!1,ne=Il(D,!0)):Ee?(re=!1,ne=Ll(D,!0)):ne=[]:Xr(D)||Gi(D)?(ne=k,Gi(k)?ne=Cu(k):(!ut(k)||ti(k))&&(ne=Zl(D))):re=!1}re&&(w.set(D,ne),d(ne,D,o,v,w),w.delete(D)),Cs(e,s,ne)}function yl(e,n){var s=e.length;if(s)return n+=n<0?s:0,ei(n,s)?e[n]:i}function bl(e,n,s){n.length?n=ot(n,function(v){return Pe(v)?function(w){return Wi(w,v.length===1?v[0]:v)}:v}):n=[tn];var o=-1;n=ot(n,sn(we()));var d=gl(e,function(v,w,k){var D=ot(n,function(te){return te(v)});return{criteria:D,index:++o,value:v}});return rh(d,function(v,w){return qf(v,w,s)})}function Tf(e,n){return xl(e,n,function(s,o){return uo(e,o)})}function xl(e,n,s){for(var o=-1,d=n.length,v={};++o<d;){var w=n[o],k=Wi(e,w);s(k,w)&&zr(v,mi(w,e),k)}return v}function Rf(e){return function(n){return Wi(n,e)}}function Fs(e,n,s,o){var d=o?ih:or,v=-1,w=n.length,k=e;for(e===n&&(n=Qt(n)),s&&(k=ot(e,sn(s)));++v<w;)for(var D=0,te=n[v],ne=s?s(te):te;(D=d(k,ne,D,o))>-1;)k!==e&&Ca.call(k,D,1),Ca.call(e,D,1);return e}function Sl(e,n){for(var s=e?n.length:0,o=s-1;s--;){var d=n[s];if(s==o||d!==v){var v=d;ei(d)?Ca.call(e,d,1):Ws(e,d)}}return e}function Ns(e,n){return e+Ia(nl()*(n-e+1))}function Pf(e,n,s,o){for(var d=-1,v=Et(Ma((n-e)/(s||1)),0),w=Y(v);v--;)w[o?v:++d]=e,e+=s;return w}function Ds(e,n){var s="";if(!e||n<1||n>kn)return s;do n%2&&(s+=e),n=Ia(n/2),n&&(e+=e);while(n);return s}function He(e,n){return to(Ql(e,n,tn),e+"")}function Ff(e){return al(yr(e))}function Nf(e,n){var s=yr(e);return Ya(s,Bi(n,0,s.length))}function zr(e,n,s,o){if(!ut(e))return e;n=mi(n,e);for(var d=-1,v=n.length,w=v-1,k=e;k!=null&&++d<v;){var D=Un(n[d]),te=s;if(D==="__proto__"||D==="constructor"||D==="prototype")return e;if(d!=w){var ne=k[D];te=o?o(ne,D,k):i,te===i&&(te=ut(ne)?ne:ei(n[d+1])?[]:{})}Vr(k,D,te),k=k[D]}return e}var wl=La?function(e,n){return La.set(e,n),e}:tn,Df=Oa?function(e,n){return Oa(e,"toString",{configurable:!0,enumerable:!1,value:ho(n),writable:!0})}:tn;function Bf(e){return Ya(yr(e))}function bn(e,n,s){var o=-1,d=e.length;n<0&&(n=-n>d?0:d+n),s=s>d?d:s,s<0&&(s+=d),d=n>s?0:s-n>>>0,n>>>=0;for(var v=Y(d);++o<d;)v[o]=e[o+n];return v}function Wf(e,n){var s;return _i(e,function(o,d,v){return s=n(o,d,v),!s}),!!s}function Da(e,n,s){var o=0,d=e==null?o:e.length;if(typeof n=="number"&&n===n&&d<=Or){for(;o<d;){var v=o+d>>>1,w=e[v];w!==null&&!ln(w)&&(s?w<=n:w<n)?o=v+1:d=v}return d}return Bs(e,n,tn,s)}function Bs(e,n,s,o){var d=0,v=e==null?0:e.length;if(v===0)return 0;n=s(n);for(var w=n!==n,k=n===null,D=ln(n),te=n===i;d<v;){var ne=Ia((d+v)/2),re=s(e[ne]),fe=re!==i,me=re===null,Ee=re===re,We=ln(re);if(w)var ke=o||Ee;else te?ke=Ee&&(o||fe):k?ke=Ee&&fe&&(o||!me):D?ke=Ee&&fe&&!me&&(o||!We):me||We?ke=!1:ke=o?re<=n:re<n;ke?d=ne+1:v=ne}return Vt(v,Yi)}function El(e,n){for(var s=-1,o=e.length,d=0,v=[];++s<o;){var w=e[s],k=n?n(w):w;if(!s||!$n(k,D)){var D=k;v[d++]=w===0?0:w}}return v}function kl(e){return typeof e=="number"?e:ln(e)?zi:+e}function on(e){if(typeof e=="string")return e;if(Pe(e))return ot(e,on)+"";if(ln(e))return il?il.call(e):"";var n=e+"";return n=="0"&&1/e==-Dn?"-0":n}function gi(e,n,s){var o=-1,d=ma,v=e.length,w=!0,k=[],D=k;if(s)w=!1,d=ps;else if(v>=c){var te=n?null:jf(e);if(te)return ya(te);w=!1,d=Fr,D=new Di}else D=n?[]:k;e:for(;++o<v;){var ne=e[o],re=n?n(ne):ne;if(ne=s||ne!==0?ne:0,w&&re===re){for(var fe=D.length;fe--;)if(D[fe]===re)continue e;n&&D.push(re),k.push(ne)}else d(D,re,s)||(D!==k&&D.push(re),k.push(ne))}return k}function Ws(e,n){return n=mi(n,e),e=Jl(e,n),e==null||delete e[Un(xn(n))]}function Al(e,n,s,o){return zr(e,n,s(Wi(e,n)),o)}function Ba(e,n,s,o){for(var d=e.length,v=o?d:-1;(o?v--:++v<d)&&n(e[v],v,e););return s?bn(e,o?0:v,o?v+1:d):bn(e,o?v+1:0,o?d:v)}function Cl(e,n){var s=e;return s instanceof Ue&&(s=s.value()),_s(n,function(o,d){return d.func.apply(d.thisArg,fi([o],d.args))},s)}function Hs(e,n,s){var o=e.length;if(o<2)return o?gi(e[0]):[];for(var d=-1,v=Y(o);++d<o;)for(var w=e[d],k=-1;++k<o;)k!=d&&(v[d]=Gr(v[d]||w,e[k],n,s));return gi(Nt(v,1),n,s)}function Ol(e,n,s){for(var o=-1,d=e.length,v=n.length,w={};++o<d;){var k=o<v?n[o]:i;s(w,e[o],k)}return w}function Vs(e){return gt(e)?e:[]}function Gs(e){return typeof e=="function"?e:tn}function mi(e,n){return Pe(e)?e:Qs(e,n)?[e]:iu(Xe(e))}var Hf=He;function vi(e,n,s){var o=e.length;return s=s===i?o:s,!n&&s>=o?e:bn(e,n,s)}var Ml=Ch||function(e){return Be.clearTimeout(e)};function Il(e,n){if(n)return e.slice();var s=e.length,o=jo?jo(s):new e.constructor(s);return e.copy(o),o}function Us(e){var n=new e.constructor(e.byteLength);return new ka(n).set(new ka(e)),n}function Vf(e,n){var s=n?Us(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}function Gf(e){var n=new e.constructor(e.source,Pr.exec(e));return n.lastIndex=e.lastIndex,n}function Uf(e){return Hr?tt(Hr.call(e)):{}}function Ll(e,n){var s=n?Us(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}function $l(e,n){if(e!==n){var s=e!==i,o=e===null,d=e===e,v=ln(e),w=n!==i,k=n===null,D=n===n,te=ln(n);if(!k&&!te&&!v&&e>n||v&&w&&D&&!k&&!te||o&&w&&D||!s&&D||!d)return 1;if(!o&&!v&&!te&&e<n||te&&s&&d&&!o&&!v||k&&s&&d||!w&&d||!D)return-1}return 0}function qf(e,n,s){for(var o=-1,d=e.criteria,v=n.criteria,w=d.length,k=s.length;++o<w;){var D=$l(d[o],v[o]);if(D){if(o>=k)return D;var te=s[o];return D*(te=="desc"?-1:1)}}return e.index-n.index}function Tl(e,n,s,o){for(var d=-1,v=e.length,w=s.length,k=-1,D=n.length,te=Et(v-w,0),ne=Y(D+te),re=!o;++k<D;)ne[k]=n[k];for(;++d<w;)(re||d<v)&&(ne[s[d]]=e[d]);for(;te--;)ne[k++]=e[d++];return ne}function Rl(e,n,s,o){for(var d=-1,v=e.length,w=-1,k=s.length,D=-1,te=n.length,ne=Et(v-k,0),re=Y(ne+te),fe=!o;++d<ne;)re[d]=e[d];for(var me=d;++D<te;)re[me+D]=n[D];for(;++w<k;)(fe||d<v)&&(re[me+s[w]]=e[d++]);return re}function Qt(e,n){var s=-1,o=e.length;for(n||(n=Y(o));++s<o;)n[s]=e[s];return n}function Gn(e,n,s,o){var d=!s;s||(s={});for(var v=-1,w=n.length;++v<w;){var k=n[v],D=o?o(s[k],e[k],k,s,e):i;D===i&&(D=e[k]),d?jn(s,k,D):Vr(s,k,D)}return s}function zf(e,n){return Gn(e,js(e),n)}function Yf(e,n){return Gn(e,Yl(e),n)}function Wa(e,n){return function(s,o){var d=Pe(s)?jc:_f,v=n?n():{};return d(s,e,we(o,2),v)}}function _r(e){return He(function(n,s){var o=-1,d=s.length,v=d>1?s[d-1]:i,w=d>2?s[2]:i;for(v=e.length>3&&typeof v=="function"?(d--,v):i,w&&Yt(s[0],s[1],w)&&(v=d<3?i:v,d=1),n=tt(n);++o<d;){var k=s[o];k&&e(n,k,o,v)}return n})}function Pl(e,n){return function(s,o){if(s==null)return s;if(!Jt(s))return e(s,o);for(var d=s.length,v=n?d:-1,w=tt(s);(n?v--:++v<d)&&o(w[v],v,w)!==!1;);return s}}function Fl(e){return function(n,s,o){for(var d=-1,v=tt(n),w=o(n),k=w.length;k--;){var D=w[e?k:++d];if(s(v[D],D,v)===!1)break}return n}}function Kf(e,n,s){var o=n&Fe,d=Yr(e);function v(){var w=this&&this!==Be&&this instanceof v?d:e;return w.apply(o?s:this,arguments)}return v}function Nl(e){return function(n){n=Xe(n);var s=lr(n)?In(n):i,o=s?s[0]:n.charAt(0),d=s?vi(s,1).join(""):n.slice(1);return o[e]()+d}}function gr(e){return function(n){return _s(Pu(Ru(n).replace(De,"")),e,"")}}function Yr(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var s=pr(e.prototype),o=e.apply(s,n);return ut(o)?o:s}}function Zf(e,n,s){var o=Yr(e);function d(){for(var v=arguments.length,w=Y(v),k=v,D=mr(d);k--;)w[k]=arguments[k];var te=v<3&&w[0]!==D&&w[v-1]!==D?[]:di(w,D);if(v-=te.length,v<s)return Vl(e,n,Ha,d.placeholder,i,w,te,i,i,s-v);var ne=this&&this!==Be&&this instanceof d?o:e;return an(ne,this,w)}return d}function Dl(e){return function(n,s,o){var d=tt(n);if(!Jt(n)){var v=we(s,3);n=Tt(n),s=function(k){return v(d[k],k,d)}}var w=e(n,s,o);return w>-1?d[v?n[w]:w]:i}}function Bl(e){return Jn(function(n){var s=n.length,o=s,d=vn.prototype.thru;for(e&&n.reverse();o--;){var v=n[o];if(typeof v!="function")throw new mn(_);if(d&&!w&&qa(v)=="wrapper")var w=new vn([],!0)}for(o=w?o:s;++o<s;){v=n[o];var k=qa(v),D=k=="wrapper"?Zs(v):i;D&&Js(D[0])&&D[1]==(Je|Pt|Bt|Wt)&&!D[4].length&&D[9]==1?w=w[qa(D[0])].apply(w,D[3]):w=v.length==1&&Js(v)?w[k]():w.thru(v)}return function(){var te=arguments,ne=te[0];if(w&&te.length==1&&Pe(ne))return w.plant(ne).value();for(var re=0,fe=s?n[re].apply(this,te):ne;++re<s;)fe=n[re].call(this,fe);return fe}})}function Ha(e,n,s,o,d,v,w,k,D,te){var ne=n&Je,re=n&Fe,fe=n&Qe,me=n&(Pt|nt),Ee=n&Xt,We=fe?i:Yr(e);function ke(){for(var Ve=arguments.length,qe=Y(Ve),un=Ve;un--;)qe[un]=arguments[un];if(me)var Kt=mr(ke),cn=sh(qe,Kt);if(o&&(qe=Tl(qe,o,d,me)),v&&(qe=Rl(qe,v,w,me)),Ve-=cn,me&&Ve<te){var mt=di(qe,Kt);return Vl(e,n,Ha,ke.placeholder,s,qe,mt,k,D,te-Ve)}var Tn=re?s:this,ii=fe?Tn[e]:e;return Ve=qe.length,k?qe=_d(qe,k):Ee&&Ve>1&&qe.reverse(),ne&&D<Ve&&(qe.length=D),this&&this!==Be&&this instanceof ke&&(ii=We||Yr(ii)),ii.apply(Tn,qe)}return ke}function Wl(e,n){return function(s,o){return wf(s,e,n(o),{})}}function Va(e,n){return function(s,o){var d;if(s===i&&o===i)return n;if(s!==i&&(d=s),o!==i){if(d===i)return o;typeof s=="string"||typeof o=="string"?(s=on(s),o=on(o)):(s=kl(s),o=kl(o)),d=e(s,o)}return d}}function qs(e){return Jn(function(n){return n=ot(n,sn(we())),He(function(s){var o=this;return e(n,function(d){return an(d,o,s)})})})}function Ga(e,n){n=n===i?" ":on(n);var s=n.length;if(s<2)return s?Ds(n,e):n;var o=Ds(n,Ma(e/ur(n)));return lr(n)?vi(In(o),0,e).join(""):o.slice(0,e)}function Xf(e,n,s,o){var d=n&Fe,v=Yr(e);function w(){for(var k=-1,D=arguments.length,te=-1,ne=o.length,re=Y(ne+D),fe=this&&this!==Be&&this instanceof w?v:e;++te<ne;)re[te]=o[te];for(;D--;)re[te++]=arguments[++k];return an(fe,d?s:this,re)}return w}function Hl(e){return function(n,s,o){return o&&typeof o!="number"&&Yt(n,s,o)&&(s=o=i),n=ni(n),s===i?(s=n,n=0):s=ni(s),o=o===i?n<s?1:-1:ni(o),Pf(n,s,o,e)}}function Ua(e){return function(n,s){return typeof n=="string"&&typeof s=="string"||(n=Sn(n),s=Sn(s)),e(n,s)}}function Vl(e,n,s,o,d,v,w,k,D,te){var ne=n&Pt,re=ne?w:i,fe=ne?i:w,me=ne?v:i,Ee=ne?i:v;n|=ne?Bt:zn,n&=~(ne?zn:Bt),n&Re||(n&=~(Fe|Qe));var We=[e,n,d,me,re,Ee,fe,k,D,te],ke=s.apply(i,We);return Js(e)&&eu(ke,We),ke.placeholder=o,tu(ke,e,n)}function zs(e){var n=wt[e];return function(s,o){if(s=Sn(s),o=o==null?0:Vt(Ne(o),292),o&&tl(s)){var d=(Xe(s)+"e").split("e"),v=n(d[0]+"e"+(+d[1]+o));return d=(Xe(v)+"e").split("e"),+(d[0]+"e"+(+d[1]-o))}return n(s)}}var jf=fr&&1/ya(new fr([,-0]))[1]==Dn?function(e){return new fr(e)}:_o;function Gl(e){return function(n){var s=Gt(n);return s==Ct?Ss(n):s==Ot?dh(n):ah(n,e(n))}}function Qn(e,n,s,o,d,v,w,k){var D=n&Qe;if(!D&&typeof e!="function")throw new mn(_);var te=o?o.length:0;if(te||(n&=~(Bt|zn),o=d=i),w=w===i?w:Et(Ne(w),0),k=k===i?k:Ne(k),te-=d?d.length:0,n&zn){var ne=o,re=d;o=d=i}var fe=D?i:Zs(e),me=[e,n,s,o,d,ne,re,v,w,k];if(fe&&fd(me,fe),e=me[0],n=me[1],s=me[2],o=me[3],d=me[4],k=me[9]=me[9]===i?D?0:e.length:Et(me[9]-te,0),!k&&n&(Pt|nt)&&(n&=~(Pt|nt)),!n||n==Fe)var Ee=Kf(e,n,s);else n==Pt||n==nt?Ee=Zf(e,n,k):(n==Bt||n==(Fe|Bt))&&!d.length?Ee=Xf(e,n,s,o):Ee=Ha.apply(i,me);var We=fe?wl:eu;return tu(We(Ee,me),e,n)}function Ul(e,n,s,o){return e===i||$n(e,hr[s])&&!je.call(o,s)?n:e}function ql(e,n,s,o,d,v){return ut(e)&&ut(n)&&(v.set(n,e),Na(e,n,i,ql,v),v.delete(n)),e}function Qf(e){return Xr(e)?i:e}function zl(e,n,s,o,d,v){var w=s&Ce,k=e.length,D=n.length;if(k!=D&&!(w&&D>k))return!1;var te=v.get(e),ne=v.get(n);if(te&&ne)return te==n&&ne==e;var re=-1,fe=!0,me=s&Le?new Di:i;for(v.set(e,n),v.set(n,e);++re<k;){var Ee=e[re],We=n[re];if(o)var ke=w?o(We,Ee,re,n,e,v):o(Ee,We,re,e,n,v);if(ke!==i){if(ke)continue;fe=!1;break}if(me){if(!gs(n,function(Ve,qe){if(!Fr(me,qe)&&(Ee===Ve||d(Ee,Ve,s,o,v)))return me.push(qe)})){fe=!1;break}}else if(!(Ee===We||d(Ee,We,s,o,v))){fe=!1;break}}return v.delete(e),v.delete(n),fe}function Jf(e,n,s,o,d,v,w){switch(s){case it:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case pt:return!(e.byteLength!=n.byteLength||!v(new ka(e),new ka(n)));case Ai:case si:case Ft:return $n(+e,+n);case Zi:return e.name==n.name&&e.message==n.message;case St:case _n:return e==n+"";case Ct:var k=Ss;case Ot:var D=o&Ce;if(k||(k=ya),e.size!=n.size&&!D)return!1;var te=w.get(e);if(te)return te==n;o|=Le,w.set(e,n);var ne=zl(k(e),k(n),o,d,v,w);return w.delete(e),ne;case at:if(Hr)return Hr.call(e)==Hr.call(n)}return!1}function ed(e,n,s,o,d,v){var w=s&Ce,k=Ys(e),D=k.length,te=Ys(n),ne=te.length;if(D!=ne&&!w)return!1;for(var re=D;re--;){var fe=k[re];if(!(w?fe in n:je.call(n,fe)))return!1}var me=v.get(e),Ee=v.get(n);if(me&&Ee)return me==n&&Ee==e;var We=!0;v.set(e,n),v.set(n,e);for(var ke=w;++re<D;){fe=k[re];var Ve=e[fe],qe=n[fe];if(o)var un=w?o(qe,Ve,fe,n,e,v):o(Ve,qe,fe,e,n,v);if(!(un===i?Ve===qe||d(Ve,qe,s,o,v):un)){We=!1;break}ke||(ke=fe=="constructor")}if(We&&!ke){var Kt=e.constructor,cn=n.constructor;Kt!=cn&&"constructor"in e&&"constructor"in n&&!(typeof Kt=="function"&&Kt instanceof Kt&&typeof cn=="function"&&cn instanceof cn)&&(We=!1)}return v.delete(e),v.delete(n),We}function Jn(e){return to(Ql(e,i,ou),e+"")}function Ys(e){return fl(e,Tt,js)}function Ks(e){return fl(e,en,Yl)}var Zs=La?function(e){return La.get(e)}:_o;function qa(e){for(var n=e.name+"",s=dr[n],o=je.call(dr,n)?s.length:0;o--;){var d=s[o],v=d.func;if(v==null||v==e)return d.name}return n}function mr(e){var n=je.call(g,"placeholder")?g:e;return n.placeholder}function we(){var e=g.iteratee||fo;return e=e===fo?_l:e,arguments.length?e(arguments[0],arguments[1]):e}function za(e,n){var s=e.__data__;return ld(n)?s[typeof n=="string"?"string":"hash"]:s.map}function Xs(e){for(var n=Tt(e),s=n.length;s--;){var o=n[s],d=e[o];n[s]=[o,d,Xl(d)]}return n}function Hi(e,n){var s=ch(e,n);return pl(s)?s:i}function td(e){var n=je.call(e,Fi),s=e[Fi];try{e[Fi]=i;var o=!0}catch{}var d=wa.call(e);return o&&(n?e[Fi]=s:delete e[Fi]),d}var js=Es?function(e){return e==null?[]:(e=tt(e),hi(Es(e),function(n){return Jo.call(e,n)}))}:go,Yl=Es?function(e){for(var n=[];e;)fi(n,js(e)),e=Aa(e);return n}:go,Gt=zt;(ks&&Gt(new ks(new ArrayBuffer(1)))!=it||Dr&&Gt(new Dr)!=Ct||As&&Gt(As.resolve())!=Mr||fr&&Gt(new fr)!=Ot||Br&&Gt(new Br)!=yt)&&(Gt=function(e){var n=zt(e),s=n==An?e.constructor:i,o=s?Vi(s):"";if(o)switch(o){case Fh:return it;case Nh:return Ct;case Dh:return Mr;case Bh:return Ot;case Wh:return yt}return n});function nd(e,n,s){for(var o=-1,d=s.length;++o<d;){var v=s[o],w=v.size;switch(v.type){case"drop":e+=w;break;case"dropRight":n-=w;break;case"take":n=Vt(n,e+w);break;case"takeRight":e=Et(e,n-w);break}}return{start:e,end:n}}function id(e){var n=e.match(ca);return n?n[1].split(tr):[]}function Kl(e,n,s){n=mi(n,e);for(var o=-1,d=n.length,v=!1;++o<d;){var w=Un(n[o]);if(!(v=e!=null&&s(e,w)))break;e=e[w]}return v||++o!=d?v:(d=e==null?0:e.length,!!d&&Ja(d)&&ei(w,d)&&(Pe(e)||Gi(e)))}function rd(e){var n=e.length,s=new e.constructor(n);return n&&typeof e[0]=="string"&&je.call(e,"index")&&(s.index=e.index,s.input=e.input),s}function Zl(e){return typeof e.constructor=="function"&&!Kr(e)?pr(Aa(e)):{}}function ad(e,n,s){var o=e.constructor;switch(n){case pt:return Us(e);case Ai:case si:return new o(+e);case it:return Vf(e,s);case Ir:case Wn:case Oi:case ji:case Qi:case Mi:case _t:case Lr:case ct:return Ll(e,s);case Ct:return new o;case Ft:case _n:return new o(e);case St:return Gf(e);case Ot:return new o;case at:return Uf(e)}}function sd(e,n){var s=n.length;if(!s)return e;var o=s-1;return n[o]=(s>1?"& ":"")+n[o],n=n.join(s>2?", ":" "),e.replace(Rr,`{
/* [wrapped with `+n+`] */
`)}function od(e){return Pe(e)||Gi(e)||!!(el&&e&&e[el])}function ei(e,n){var s=typeof e;return n=n??kn,!!n&&(s=="number"||s!="symbol"&&da.test(e))&&e>-1&&e%1==0&&e<n}function Yt(e,n,s){if(!ut(s))return!1;var o=typeof n;return(o=="number"?Jt(s)&&ei(n,s.length):o=="string"&&n in s)?$n(s[n],e):!1}function Qs(e,n){if(Pe(e))return!1;var s=typeof e;return s=="number"||s=="symbol"||s=="boolean"||e==null||ln(e)?!0:rn.test(e)||!$i.test(e)||n!=null&&e in tt(n)}function ld(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function Js(e){var n=qa(e),s=g[n];if(typeof s!="function"||!(n in Ue.prototype))return!1;if(e===s)return!0;var o=Zs(s);return!!o&&e===o[0]}function ud(e){return!!Xo&&Xo in e}var cd=xa?ti:mo;function Kr(e){var n=e&&e.constructor,s=typeof n=="function"&&n.prototype||hr;return e===s}function Xl(e){return e===e&&!ut(e)}function jl(e,n){return function(s){return s==null?!1:s[e]===n&&(n!==i||e in tt(s))}}function hd(e){var n=ja(e,function(o){return s.size===H&&s.clear(),o}),s=n.cache;return n}function fd(e,n){var s=e[1],o=n[1],d=s|o,v=d<(Fe|Qe|Je),w=o==Je&&s==Pt||o==Je&&s==Wt&&e[7].length<=n[8]||o==(Je|Wt)&&n[7].length<=n[8]&&s==Pt;if(!(v||w))return e;o&Fe&&(e[2]=n[2],d|=s&Fe?0:Re);var k=n[3];if(k){var D=e[3];e[3]=D?Tl(D,k,n[4]):k,e[4]=D?di(e[3],j):n[4]}return k=n[5],k&&(D=e[5],e[5]=D?Rl(D,k,n[6]):k,e[6]=D?di(e[5],j):n[6]),k=n[7],k&&(e[7]=k),o&Je&&(e[8]=e[8]==null?n[8]:Vt(e[8],n[8])),e[9]==null&&(e[9]=n[9]),e[0]=n[0],e[1]=d,e}function dd(e){var n=[];if(e!=null)for(var s in tt(e))n.push(s);return n}function pd(e){return wa.call(e)}function Ql(e,n,s){return n=Et(n===i?e.length-1:n,0),function(){for(var o=arguments,d=-1,v=Et(o.length-n,0),w=Y(v);++d<v;)w[d]=o[n+d];d=-1;for(var k=Y(n+1);++d<n;)k[d]=o[d];return k[n]=s(w),an(e,this,k)}}function Jl(e,n){return n.length<2?e:Wi(e,bn(n,0,-1))}function _d(e,n){for(var s=e.length,o=Vt(n.length,s),d=Qt(e);o--;){var v=n[o];e[o]=ei(v,s)?d[v]:i}return e}function eo(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var eu=nu(wl),Zr=Mh||function(e,n){return Be.setTimeout(e,n)},to=nu(Df);function tu(e,n,s){var o=n+"";return to(e,sd(o,gd(id(o),s)))}function nu(e){var n=0,s=0;return function(){var o=Th(),d=aa-(o-s);if(s=o,d>0){if(++n>=qi)return arguments[0]}else n=0;return e.apply(i,arguments)}}function Ya(e,n){var s=-1,o=e.length,d=o-1;for(n=n===i?o:n;++s<n;){var v=Ns(s,d),w=e[v];e[v]=e[s],e[s]=w}return e.length=n,e}var iu=hd(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(Ti,function(s,o,d,v){n.push(d?v.replace(ui,"$1"):o||s)}),n});function Un(e){if(typeof e=="string"||ln(e))return e;var n=e+"";return n=="0"&&1/e==-Dn?"-0":n}function Vi(e){if(e!=null){try{return Sa.call(e)}catch{}try{return e+""}catch{}}return""}function gd(e,n){return gn(Ki,function(s){var o="_."+s[0];n&s[1]&&!ma(e,o)&&e.push(o)}),e.sort()}function ru(e){if(e instanceof Ue)return e.clone();var n=new vn(e.__wrapped__,e.__chain__);return n.__actions__=Qt(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}function md(e,n,s){(s?Yt(e,n,s):n===i)?n=1:n=Et(Ne(n),0);var o=e==null?0:e.length;if(!o||n<1)return[];for(var d=0,v=0,w=Y(Ma(o/n));d<o;)w[v++]=bn(e,d,d+=n);return w}function vd(e){for(var n=-1,s=e==null?0:e.length,o=0,d=[];++n<s;){var v=e[n];v&&(d[o++]=v)}return d}function yd(){var e=arguments.length;if(!e)return[];for(var n=Y(e-1),s=arguments[0],o=e;o--;)n[o-1]=arguments[o];return fi(Pe(s)?Qt(s):[s],Nt(n,1))}var bd=He(function(e,n){return gt(e)?Gr(e,Nt(n,1,gt,!0)):[]}),xd=He(function(e,n){var s=xn(n);return gt(s)&&(s=i),gt(e)?Gr(e,Nt(n,1,gt,!0),we(s,2)):[]}),Sd=He(function(e,n){var s=xn(n);return gt(s)&&(s=i),gt(e)?Gr(e,Nt(n,1,gt,!0),i,s):[]});function wd(e,n,s){var o=e==null?0:e.length;return o?(n=s||n===i?1:Ne(n),bn(e,n<0?0:n,o)):[]}function Ed(e,n,s){var o=e==null?0:e.length;return o?(n=s||n===i?1:Ne(n),n=o-n,bn(e,0,n<0?0:n)):[]}function kd(e,n){return e&&e.length?Ba(e,we(n,3),!0,!0):[]}function Ad(e,n){return e&&e.length?Ba(e,we(n,3),!0):[]}function Cd(e,n,s,o){var d=e==null?0:e.length;return d?(s&&typeof s!="number"&&Yt(e,n,s)&&(s=0,o=d),yf(e,n,s,o)):[]}function au(e,n,s){var o=e==null?0:e.length;if(!o)return-1;var d=s==null?0:Ne(s);return d<0&&(d=Et(o+d,0)),va(e,we(n,3),d)}function su(e,n,s){var o=e==null?0:e.length;if(!o)return-1;var d=o-1;return s!==i&&(d=Ne(s),d=s<0?Et(o+d,0):Vt(d,o-1)),va(e,we(n,3),d,!0)}function ou(e){var n=e==null?0:e.length;return n?Nt(e,1):[]}function Od(e){var n=e==null?0:e.length;return n?Nt(e,Dn):[]}function Md(e,n){var s=e==null?0:e.length;return s?(n=n===i?1:Ne(n),Nt(e,n)):[]}function Id(e){for(var n=-1,s=e==null?0:e.length,o={};++n<s;){var d=e[n];o[d[0]]=d[1]}return o}function lu(e){return e&&e.length?e[0]:i}function Ld(e,n,s){var o=e==null?0:e.length;if(!o)return-1;var d=s==null?0:Ne(s);return d<0&&(d=Et(o+d,0)),or(e,n,d)}function $d(e){var n=e==null?0:e.length;return n?bn(e,0,-1):[]}var Td=He(function(e){var n=ot(e,Vs);return n.length&&n[0]===e[0]?$s(n):[]}),Rd=He(function(e){var n=xn(e),s=ot(e,Vs);return n===xn(s)?n=i:s.pop(),s.length&&s[0]===e[0]?$s(s,we(n,2)):[]}),Pd=He(function(e){var n=xn(e),s=ot(e,Vs);return n=typeof n=="function"?n:i,n&&s.pop(),s.length&&s[0]===e[0]?$s(s,i,n):[]});function Fd(e,n){return e==null?"":Lh.call(e,n)}function xn(e){var n=e==null?0:e.length;return n?e[n-1]:i}function Nd(e,n,s){var o=e==null?0:e.length;if(!o)return-1;var d=o;return s!==i&&(d=Ne(s),d=d<0?Et(o+d,0):Vt(d,o-1)),n===n?_h(e,n,d):va(e,Vo,d,!0)}function Dd(e,n){return e&&e.length?yl(e,Ne(n)):i}var Bd=He(uu);function uu(e,n){return e&&e.length&&n&&n.length?Fs(e,n):e}function Wd(e,n,s){return e&&e.length&&n&&n.length?Fs(e,n,we(s,2)):e}function Hd(e,n,s){return e&&e.length&&n&&n.length?Fs(e,n,i,s):e}var Vd=Jn(function(e,n){var s=e==null?0:e.length,o=Os(e,n);return Sl(e,ot(n,function(d){return ei(d,s)?+d:d}).sort($l)),o});function Gd(e,n){var s=[];if(!(e&&e.length))return s;var o=-1,d=[],v=e.length;for(n=we(n,3);++o<v;){var w=e[o];n(w,o,e)&&(s.push(w),d.push(o))}return Sl(e,d),s}function no(e){return e==null?e:Ph.call(e)}function Ud(e,n,s){var o=e==null?0:e.length;return o?(s&&typeof s!="number"&&Yt(e,n,s)?(n=0,s=o):(n=n==null?0:Ne(n),s=s===i?o:Ne(s)),bn(e,n,s)):[]}function qd(e,n){return Da(e,n)}function zd(e,n,s){return Bs(e,n,we(s,2))}function Yd(e,n){var s=e==null?0:e.length;if(s){var o=Da(e,n);if(o<s&&$n(e[o],n))return o}return-1}function Kd(e,n){return Da(e,n,!0)}function Zd(e,n,s){return Bs(e,n,we(s,2),!0)}function Xd(e,n){var s=e==null?0:e.length;if(s){var o=Da(e,n,!0)-1;if($n(e[o],n))return o}return-1}function jd(e){return e&&e.length?El(e):[]}function Qd(e,n){return e&&e.length?El(e,we(n,2)):[]}function Jd(e){var n=e==null?0:e.length;return n?bn(e,1,n):[]}function ep(e,n,s){return e&&e.length?(n=s||n===i?1:Ne(n),bn(e,0,n<0?0:n)):[]}function tp(e,n,s){var o=e==null?0:e.length;return o?(n=s||n===i?1:Ne(n),n=o-n,bn(e,n<0?0:n,o)):[]}function np(e,n){return e&&e.length?Ba(e,we(n,3),!1,!0):[]}function ip(e,n){return e&&e.length?Ba(e,we(n,3)):[]}var rp=He(function(e){return gi(Nt(e,1,gt,!0))}),ap=He(function(e){var n=xn(e);return gt(n)&&(n=i),gi(Nt(e,1,gt,!0),we(n,2))}),sp=He(function(e){var n=xn(e);return n=typeof n=="function"?n:i,gi(Nt(e,1,gt,!0),i,n)});function op(e){return e&&e.length?gi(e):[]}function lp(e,n){return e&&e.length?gi(e,we(n,2)):[]}function up(e,n){return n=typeof n=="function"?n:i,e&&e.length?gi(e,i,n):[]}function io(e){if(!(e&&e.length))return[];var n=0;return e=hi(e,function(s){if(gt(s))return n=Et(s.length,n),!0}),bs(n,function(s){return ot(e,ms(s))})}function cu(e,n){if(!(e&&e.length))return[];var s=io(e);return n==null?s:ot(s,function(o){return an(n,i,o)})}var cp=He(function(e,n){return gt(e)?Gr(e,n):[]}),hp=He(function(e){return Hs(hi(e,gt))}),fp=He(function(e){var n=xn(e);return gt(n)&&(n=i),Hs(hi(e,gt),we(n,2))}),dp=He(function(e){var n=xn(e);return n=typeof n=="function"?n:i,Hs(hi(e,gt),i,n)}),pp=He(io);function _p(e,n){return Ol(e||[],n||[],Vr)}function gp(e,n){return Ol(e||[],n||[],zr)}var mp=He(function(e){var n=e.length,s=n>1?e[n-1]:i;return s=typeof s=="function"?(e.pop(),s):i,cu(e,s)});function hu(e){var n=g(e);return n.__chain__=!0,n}function vp(e,n){return n(e),e}function Ka(e,n){return n(e)}var yp=Jn(function(e){var n=e.length,s=n?e[0]:0,o=this.__wrapped__,d=function(v){return Os(v,e)};return n>1||this.__actions__.length||!(o instanceof Ue)||!ei(s)?this.thru(d):(o=o.slice(s,+s+(n?1:0)),o.__actions__.push({func:Ka,args:[d],thisArg:i}),new vn(o,this.__chain__).thru(function(v){return n&&!v.length&&v.push(i),v}))});function bp(){return hu(this)}function xp(){return new vn(this.value(),this.__chain__)}function Sp(){this.__values__===i&&(this.__values__=ku(this.value()));var e=this.__index__>=this.__values__.length,n=e?i:this.__values__[this.__index__++];return{done:e,value:n}}function wp(){return this}function Ep(e){for(var n,s=this;s instanceof Ta;){var o=ru(s);o.__index__=0,o.__values__=i,n?d.__wrapped__=o:n=o;var d=o;s=s.__wrapped__}return d.__wrapped__=e,n}function kp(){var e=this.__wrapped__;if(e instanceof Ue){var n=e;return this.__actions__.length&&(n=new Ue(this)),n=n.reverse(),n.__actions__.push({func:Ka,args:[no],thisArg:i}),new vn(n,this.__chain__)}return this.thru(no)}function Ap(){return Cl(this.__wrapped__,this.__actions__)}var Cp=Wa(function(e,n,s){je.call(e,s)?++e[s]:jn(e,s,1)});function Op(e,n,s){var o=Pe(e)?Wo:vf;return s&&Yt(e,n,s)&&(n=i),o(e,we(n,3))}function Mp(e,n){var s=Pe(e)?hi:cl;return s(e,we(n,3))}var Ip=Dl(au),Lp=Dl(su);function $p(e,n){return Nt(Za(e,n),1)}function Tp(e,n){return Nt(Za(e,n),Dn)}function Rp(e,n,s){return s=s===i?1:Ne(s),Nt(Za(e,n),s)}function fu(e,n){var s=Pe(e)?gn:_i;return s(e,we(n,3))}function du(e,n){var s=Pe(e)?Qc:ul;return s(e,we(n,3))}var Pp=Wa(function(e,n,s){je.call(e,s)?e[s].push(n):jn(e,s,[n])});function Fp(e,n,s,o){e=Jt(e)?e:yr(e),s=s&&!o?Ne(s):0;var d=e.length;return s<0&&(s=Et(d+s,0)),es(e)?s<=d&&e.indexOf(n,s)>-1:!!d&&or(e,n,s)>-1}var Np=He(function(e,n,s){var o=-1,d=typeof n=="function",v=Jt(e)?Y(e.length):[];return _i(e,function(w){v[++o]=d?an(n,w,s):Ur(w,n,s)}),v}),Dp=Wa(function(e,n,s){jn(e,s,n)});function Za(e,n){var s=Pe(e)?ot:gl;return s(e,we(n,3))}function Bp(e,n,s,o){return e==null?[]:(Pe(n)||(n=n==null?[]:[n]),s=o?i:s,Pe(s)||(s=s==null?[]:[s]),bl(e,n,s))}var Wp=Wa(function(e,n,s){e[s?0:1].push(n)},function(){return[[],[]]});function Hp(e,n,s){var o=Pe(e)?_s:Uo,d=arguments.length<3;return o(e,we(n,4),s,d,_i)}function Vp(e,n,s){var o=Pe(e)?Jc:Uo,d=arguments.length<3;return o(e,we(n,4),s,d,ul)}function Gp(e,n){var s=Pe(e)?hi:cl;return s(e,Qa(we(n,3)))}function Up(e){var n=Pe(e)?al:Ff;return n(e)}function qp(e,n,s){(s?Yt(e,n,s):n===i)?n=1:n=Ne(n);var o=Pe(e)?df:Nf;return o(e,n)}function zp(e){var n=Pe(e)?pf:Bf;return n(e)}function Yp(e){if(e==null)return 0;if(Jt(e))return es(e)?ur(e):e.length;var n=Gt(e);return n==Ct||n==Ot?e.size:Rs(e).length}function Kp(e,n,s){var o=Pe(e)?gs:Wf;return s&&Yt(e,n,s)&&(n=i),o(e,we(n,3))}var Zp=He(function(e,n){if(e==null)return[];var s=n.length;return s>1&&Yt(e,n[0],n[1])?n=[]:s>2&&Yt(n[0],n[1],n[2])&&(n=[n[0]]),bl(e,Nt(n,1),[])}),Xa=Oh||function(){return Be.Date.now()};function Xp(e,n){if(typeof n!="function")throw new mn(_);return e=Ne(e),function(){if(--e<1)return n.apply(this,arguments)}}function pu(e,n,s){return n=s?i:n,n=e&&n==null?e.length:n,Qn(e,Je,i,i,i,i,n)}function _u(e,n){var s;if(typeof n!="function")throw new mn(_);return e=Ne(e),function(){return--e>0&&(s=n.apply(this,arguments)),e<=1&&(n=i),s}}var ro=He(function(e,n,s){var o=Fe;if(s.length){var d=di(s,mr(ro));o|=Bt}return Qn(e,o,n,s,d)}),gu=He(function(e,n,s){var o=Fe|Qe;if(s.length){var d=di(s,mr(gu));o|=Bt}return Qn(n,o,e,s,d)});function mu(e,n,s){n=s?i:n;var o=Qn(e,Pt,i,i,i,i,i,n);return o.placeholder=mu.placeholder,o}function vu(e,n,s){n=s?i:n;var o=Qn(e,nt,i,i,i,i,i,n);return o.placeholder=vu.placeholder,o}function yu(e,n,s){var o,d,v,w,k,D,te=0,ne=!1,re=!1,fe=!0;if(typeof e!="function")throw new mn(_);n=Sn(n)||0,ut(s)&&(ne=!!s.leading,re="maxWait"in s,v=re?Et(Sn(s.maxWait)||0,n):v,fe="trailing"in s?!!s.trailing:fe);function me(mt){var Tn=o,ii=d;return o=d=i,te=mt,w=e.apply(ii,Tn),w}function Ee(mt){return te=mt,k=Zr(Ve,n),ne?me(mt):w}function We(mt){var Tn=mt-D,ii=mt-te,Du=n-Tn;return re?Vt(Du,v-ii):Du}function ke(mt){var Tn=mt-D,ii=mt-te;return D===i||Tn>=n||Tn<0||re&&ii>=v}function Ve(){var mt=Xa();if(ke(mt))return qe(mt);k=Zr(Ve,We(mt))}function qe(mt){return k=i,fe&&o?me(mt):(o=d=i,w)}function un(){k!==i&&Ml(k),te=0,o=D=d=k=i}function Kt(){return k===i?w:qe(Xa())}function cn(){var mt=Xa(),Tn=ke(mt);if(o=arguments,d=this,D=mt,Tn){if(k===i)return Ee(D);if(re)return Ml(k),k=Zr(Ve,n),me(D)}return k===i&&(k=Zr(Ve,n)),w}return cn.cancel=un,cn.flush=Kt,cn}var jp=He(function(e,n){return ll(e,1,n)}),Qp=He(function(e,n,s){return ll(e,Sn(n)||0,s)});function Jp(e){return Qn(e,Xt)}function ja(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new mn(_);var s=function(){var o=arguments,d=n?n.apply(this,o):o[0],v=s.cache;if(v.has(d))return v.get(d);var w=e.apply(this,o);return s.cache=v.set(d,w)||v,w};return s.cache=new(ja.Cache||Xn),s}ja.Cache=Xn;function Qa(e){if(typeof e!="function")throw new mn(_);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}function e_(e){return _u(2,e)}var t_=Hf(function(e,n){n=n.length==1&&Pe(n[0])?ot(n[0],sn(we())):ot(Nt(n,1),sn(we()));var s=n.length;return He(function(o){for(var d=-1,v=Vt(o.length,s);++d<v;)o[d]=n[d].call(this,o[d]);return an(e,this,o)})}),ao=He(function(e,n){var s=di(n,mr(ao));return Qn(e,Bt,i,n,s)}),bu=He(function(e,n){var s=di(n,mr(bu));return Qn(e,zn,i,n,s)}),n_=Jn(function(e,n){return Qn(e,Wt,i,i,i,n)});function i_(e,n){if(typeof e!="function")throw new mn(_);return n=n===i?n:Ne(n),He(e,n)}function r_(e,n){if(typeof e!="function")throw new mn(_);return n=n==null?0:Et(Ne(n),0),He(function(s){var o=s[n],d=vi(s,0,n);return o&&fi(d,o),an(e,this,d)})}function a_(e,n,s){var o=!0,d=!0;if(typeof e!="function")throw new mn(_);return ut(s)&&(o="leading"in s?!!s.leading:o,d="trailing"in s?!!s.trailing:d),yu(e,n,{leading:o,maxWait:n,trailing:d})}function s_(e){return pu(e,1)}function o_(e,n){return ao(Gs(n),e)}function l_(){if(!arguments.length)return[];var e=arguments[0];return Pe(e)?e:[e]}function u_(e){return yn(e,ge)}function c_(e,n){return n=typeof n=="function"?n:i,yn(e,ge,n)}function h_(e){return yn(e,z|ge)}function f_(e,n){return n=typeof n=="function"?n:i,yn(e,z|ge,n)}function d_(e,n){return n==null||ol(e,n,Tt(n))}function $n(e,n){return e===n||e!==e&&n!==n}var p_=Ua(Ls),__=Ua(function(e,n){return e>=n}),Gi=dl(function(){return arguments}())?dl:function(e){return dt(e)&&je.call(e,"callee")&&!Jo.call(e,"callee")},Pe=Y.isArray,g_=Ro?sn(Ro):Ef;function Jt(e){return e!=null&&Ja(e.length)&&!ti(e)}function gt(e){return dt(e)&&Jt(e)}function m_(e){return e===!0||e===!1||dt(e)&&zt(e)==Ai}var yi=Ih||mo,v_=Po?sn(Po):kf;function y_(e){return dt(e)&&e.nodeType===1&&!Xr(e)}function b_(e){if(e==null)return!0;if(Jt(e)&&(Pe(e)||typeof e=="string"||typeof e.splice=="function"||yi(e)||vr(e)||Gi(e)))return!e.length;var n=Gt(e);if(n==Ct||n==Ot)return!e.size;if(Kr(e))return!Rs(e).length;for(var s in e)if(je.call(e,s))return!1;return!0}function x_(e,n){return qr(e,n)}function S_(e,n,s){s=typeof s=="function"?s:i;var o=s?s(e,n):i;return o===i?qr(e,n,i,s):!!o}function so(e){if(!dt(e))return!1;var n=zt(e);return n==Zi||n==fs||typeof e.message=="string"&&typeof e.name=="string"&&!Xr(e)}function w_(e){return typeof e=="number"&&tl(e)}function ti(e){if(!ut(e))return!1;var n=zt(e);return n==Ci||n==oa||n==sa||n==Se}function xu(e){return typeof e=="number"&&e==Ne(e)}function Ja(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=kn}function ut(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function dt(e){return e!=null&&typeof e=="object"}var Su=Fo?sn(Fo):Cf;function E_(e,n){return e===n||Ts(e,n,Xs(n))}function k_(e,n,s){return s=typeof s=="function"?s:i,Ts(e,n,Xs(n),s)}function A_(e){return wu(e)&&e!=+e}function C_(e){if(cd(e))throw new Te(p);return pl(e)}function O_(e){return e===null}function M_(e){return e==null}function wu(e){return typeof e=="number"||dt(e)&&zt(e)==Ft}function Xr(e){if(!dt(e)||zt(e)!=An)return!1;var n=Aa(e);if(n===null)return!0;var s=je.call(n,"constructor")&&n.constructor;return typeof s=="function"&&s instanceof s&&Sa.call(s)==Eh}var oo=No?sn(No):Of;function I_(e){return xu(e)&&e>=-kn&&e<=kn}var Eu=Do?sn(Do):Mf;function es(e){return typeof e=="string"||!Pe(e)&&dt(e)&&zt(e)==_n}function ln(e){return typeof e=="symbol"||dt(e)&&zt(e)==at}var vr=Bo?sn(Bo):If;function L_(e){return e===i}function $_(e){return dt(e)&&Gt(e)==yt}function T_(e){return dt(e)&&zt(e)==Cn}var R_=Ua(Ps),P_=Ua(function(e,n){return e<=n});function ku(e){if(!e)return[];if(Jt(e))return es(e)?In(e):Qt(e);if(Nr&&e[Nr])return fh(e[Nr]());var n=Gt(e),s=n==Ct?Ss:n==Ot?ya:yr;return s(e)}function ni(e){if(!e)return e===0?e:0;if(e=Sn(e),e===Dn||e===-Dn){var n=e<0?-1:1;return n*fn}return e===e?e:0}function Ne(e){var n=ni(e),s=n%1;return n===n?s?n-s:n:0}function Au(e){return e?Bi(Ne(e),0,dn):0}function Sn(e){if(typeof e=="number")return e;if(ln(e))return zi;if(ut(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=ut(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=qo(e);var s=fa.test(e);return s||ce.test(e)?Ae(e.slice(2),s?2:8):ha.test(e)?zi:+e}function Cu(e){return Gn(e,en(e))}function F_(e){return e?Bi(Ne(e),-kn,kn):e===0?e:0}function Xe(e){return e==null?"":on(e)}var N_=_r(function(e,n){if(Kr(n)||Jt(n)){Gn(n,Tt(n),e);return}for(var s in n)je.call(n,s)&&Vr(e,s,n[s])}),Ou=_r(function(e,n){Gn(n,en(n),e)}),ts=_r(function(e,n,s,o){Gn(n,en(n),e,o)}),D_=_r(function(e,n,s,o){Gn(n,Tt(n),e,o)}),B_=Jn(Os);function W_(e,n){var s=pr(e);return n==null?s:sl(s,n)}var H_=He(function(e,n){e=tt(e);var s=-1,o=n.length,d=o>2?n[2]:i;for(d&&Yt(n[0],n[1],d)&&(o=1);++s<o;)for(var v=n[s],w=en(v),k=-1,D=w.length;++k<D;){var te=w[k],ne=e[te];(ne===i||$n(ne,hr[te])&&!je.call(e,te))&&(e[te]=v[te])}return e}),V_=He(function(e){return e.push(i,ql),an(Mu,i,e)});function G_(e,n){return Ho(e,we(n,3),Vn)}function U_(e,n){return Ho(e,we(n,3),Is)}function q_(e,n){return e==null?e:Ms(e,we(n,3),en)}function z_(e,n){return e==null?e:hl(e,we(n,3),en)}function Y_(e,n){return e&&Vn(e,we(n,3))}function K_(e,n){return e&&Is(e,we(n,3))}function Z_(e){return e==null?[]:Fa(e,Tt(e))}function X_(e){return e==null?[]:Fa(e,en(e))}function lo(e,n,s){var o=e==null?i:Wi(e,n);return o===i?s:o}function j_(e,n){return e!=null&&Kl(e,n,bf)}function uo(e,n){return e!=null&&Kl(e,n,xf)}var Q_=Wl(function(e,n,s){n!=null&&typeof n.toString!="function"&&(n=wa.call(n)),e[n]=s},ho(tn)),J_=Wl(function(e,n,s){n!=null&&typeof n.toString!="function"&&(n=wa.call(n)),je.call(e,n)?e[n].push(s):e[n]=[s]},we),eg=He(Ur);function Tt(e){return Jt(e)?rl(e):Rs(e)}function en(e){return Jt(e)?rl(e,!0):Lf(e)}function tg(e,n){var s={};return n=we(n,3),Vn(e,function(o,d,v){jn(s,n(o,d,v),o)}),s}function ng(e,n){var s={};return n=we(n,3),Vn(e,function(o,d,v){jn(s,d,n(o,d,v))}),s}var ig=_r(function(e,n,s){Na(e,n,s)}),Mu=_r(function(e,n,s,o){Na(e,n,s,o)}),rg=Jn(function(e,n){var s={};if(e==null)return s;var o=!1;n=ot(n,function(v){return v=mi(v,e),o||(o=v.length>1),v}),Gn(e,Ks(e),s),o&&(s=yn(s,z|_e|ge,Qf));for(var d=n.length;d--;)Ws(s,n[d]);return s});function ag(e,n){return Iu(e,Qa(we(n)))}var sg=Jn(function(e,n){return e==null?{}:Tf(e,n)});function Iu(e,n){if(e==null)return{};var s=ot(Ks(e),function(o){return[o]});return n=we(n),xl(e,s,function(o,d){return n(o,d[0])})}function og(e,n,s){n=mi(n,e);var o=-1,d=n.length;for(d||(d=1,e=i);++o<d;){var v=e==null?i:e[Un(n[o])];v===i&&(o=d,v=s),e=ti(v)?v.call(e):v}return e}function lg(e,n,s){return e==null?e:zr(e,n,s)}function ug(e,n,s,o){return o=typeof o=="function"?o:i,e==null?e:zr(e,n,s,o)}var Lu=Gl(Tt),$u=Gl(en);function cg(e,n,s){var o=Pe(e),d=o||yi(e)||vr(e);if(n=we(n,4),s==null){var v=e&&e.constructor;d?s=o?new v:[]:ut(e)?s=ti(v)?pr(Aa(e)):{}:s={}}return(d?gn:Vn)(e,function(w,k,D){return n(s,w,k,D)}),s}function hg(e,n){return e==null?!0:Ws(e,n)}function fg(e,n,s){return e==null?e:Al(e,n,Gs(s))}function dg(e,n,s,o){return o=typeof o=="function"?o:i,e==null?e:Al(e,n,Gs(s),o)}function yr(e){return e==null?[]:xs(e,Tt(e))}function pg(e){return e==null?[]:xs(e,en(e))}function _g(e,n,s){return s===i&&(s=n,n=i),s!==i&&(s=Sn(s),s=s===s?s:0),n!==i&&(n=Sn(n),n=n===n?n:0),Bi(Sn(e),n,s)}function gg(e,n,s){return n=ni(n),s===i?(s=n,n=0):s=ni(s),e=Sn(e),Sf(e,n,s)}function mg(e,n,s){if(s&&typeof s!="boolean"&&Yt(e,n,s)&&(n=s=i),s===i&&(typeof n=="boolean"?(s=n,n=i):typeof e=="boolean"&&(s=e,e=i)),e===i&&n===i?(e=0,n=1):(e=ni(e),n===i?(n=e,e=0):n=ni(n)),e>n){var o=e;e=n,n=o}if(s||e%1||n%1){var d=nl();return Vt(e+d*(n-e+q("1e-"+((d+"").length-1))),n)}return Ns(e,n)}var vg=gr(function(e,n,s){return n=n.toLowerCase(),e+(s?Tu(n):n)});function Tu(e){return co(Xe(e).toLowerCase())}function Ru(e){return e=Xe(e),e&&e.replace(pa,oh).replace(be,"")}function yg(e,n,s){e=Xe(e),n=on(n);var o=e.length;s=s===i?o:Bi(Ne(s),0,o);var d=s;return s-=n.length,s>=0&&e.slice(s,d)==n}function bg(e){return e=Xe(e),e&&Ii.test(e)?e.replace(Hn,lh):e}function xg(e){return e=Xe(e),e&&li.test(e)?e.replace(oi,"\\$&"):e}var Sg=gr(function(e,n,s){return e+(s?"-":"")+n.toLowerCase()}),wg=gr(function(e,n,s){return e+(s?" ":"")+n.toLowerCase()}),Eg=Nl("toLowerCase");function kg(e,n,s){e=Xe(e),n=Ne(n);var o=n?ur(e):0;if(!n||o>=n)return e;var d=(n-o)/2;return Ga(Ia(d),s)+e+Ga(Ma(d),s)}function Ag(e,n,s){e=Xe(e),n=Ne(n);var o=n?ur(e):0;return n&&o<n?e+Ga(n-o,s):e}function Cg(e,n,s){e=Xe(e),n=Ne(n);var o=n?ur(e):0;return n&&o<n?Ga(n-o,s)+e:e}function Og(e,n,s){return s||n==null?n=0:n&&(n=+n),Rh(Xe(e).replace(Yn,""),n||0)}function Mg(e,n,s){return(s?Yt(e,n,s):n===i)?n=1:n=Ne(n),Ds(Xe(e),n)}function Ig(){var e=arguments,n=Xe(e[0]);return e.length<3?n:n.replace(e[1],e[2])}var Lg=gr(function(e,n,s){return e+(s?"_":"")+n.toLowerCase()});function $g(e,n,s){return s&&typeof s!="number"&&Yt(e,n,s)&&(n=s=i),s=s===i?dn:s>>>0,s?(e=Xe(e),e&&(typeof n=="string"||n!=null&&!oo(n))&&(n=on(n),!n&&lr(e))?vi(In(e),0,s):e.split(n,s)):[]}var Tg=gr(function(e,n,s){return e+(s?" ":"")+co(n)});function Rg(e,n,s){return e=Xe(e),s=s==null?0:Bi(Ne(s),0,e.length),n=on(n),e.slice(s,s+n.length)==n}function Pg(e,n,s){var o=g.templateSettings;s&&Yt(e,n,s)&&(n=i),e=Xe(e),n=ts({},n,o,Ul);var d=ts({},n.imports,o.imports,Ul),v=Tt(d),w=xs(d,v),k,D,te=0,ne=n.interpolate||nr,re="__p += '",fe=ws((n.escape||nr).source+"|"+ne.source+"|"+(ne===er?st:nr).source+"|"+(n.evaluate||nr).source+"|$","g"),me="//# sourceURL="+(je.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ie+"]")+`
`;e.replace(fe,function(ke,Ve,qe,un,Kt,cn){return qe||(qe=un),re+=e.slice(te,cn).replace(ci,uh),Ve&&(k=!0,re+=`' +
__e(`+Ve+`) +
'`),Kt&&(D=!0,re+=`';
`+Kt+`;
__p += '`),qe&&(re+=`' +
((__t = (`+qe+`)) == null ? '' : __t) +
'`),te=cn+ke.length,ke}),re+=`';
`;var Ee=je.call(n,"variable")&&n.variable;if(!Ee)re=`with (obj) {
`+re+`
}
`;else if(ft.test(Ee))throw new Te(b);re=(D?re.replace(ds,""):re).replace(Mt,"$1").replace(ua,"$1;"),re="function("+(Ee||"obj")+`) {
`+(Ee?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(k?", __e = _.escape":"")+(D?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+re+`return __p
}`;var We=Fu(function(){return Ke(v,me+"return "+re).apply(i,w)});if(We.source=re,so(We))throw We;return We}function Fg(e){return Xe(e).toLowerCase()}function Ng(e){return Xe(e).toUpperCase()}function Dg(e,n,s){if(e=Xe(e),e&&(s||n===i))return qo(e);if(!e||!(n=on(n)))return e;var o=In(e),d=In(n),v=zo(o,d),w=Yo(o,d)+1;return vi(o,v,w).join("")}function Bg(e,n,s){if(e=Xe(e),e&&(s||n===i))return e.slice(0,Zo(e)+1);if(!e||!(n=on(n)))return e;var o=In(e),d=Yo(o,In(n))+1;return vi(o,0,d).join("")}function Wg(e,n,s){if(e=Xe(e),e&&(s||n===i))return e.replace(Yn,"");if(!e||!(n=on(n)))return e;var o=In(e),d=zo(o,In(n));return vi(o,d).join("")}function Hg(e,n){var s=Nn,o=En;if(ut(n)){var d="separator"in n?n.separator:d;s="length"in n?Ne(n.length):s,o="omission"in n?on(n.omission):o}e=Xe(e);var v=e.length;if(lr(e)){var w=In(e);v=w.length}if(s>=v)return e;var k=s-ur(o);if(k<1)return o;var D=w?vi(w,0,k).join(""):e.slice(0,k);if(d===i)return D+o;if(w&&(k+=D.length-k),oo(d)){if(e.slice(k).search(d)){var te,ne=D;for(d.global||(d=ws(d.source,Xe(Pr.exec(d))+"g")),d.lastIndex=0;te=d.exec(ne);)var re=te.index;D=D.slice(0,re===i?k:re)}}else if(e.indexOf(on(d),k)!=k){var fe=D.lastIndexOf(d);fe>-1&&(D=D.slice(0,fe))}return D+o}function Vg(e){return e=Xe(e),e&&It.test(e)?e.replace($r,gh):e}var Gg=gr(function(e,n,s){return e+(s?" ":"")+n.toUpperCase()}),co=Nl("toUpperCase");function Pu(e,n,s){return e=Xe(e),n=s?i:n,n===i?hh(e)?yh(e):nh(e):e.match(n)||[]}var Fu=He(function(e,n){try{return an(e,i,n)}catch(s){return so(s)?s:new Te(s)}}),Ug=Jn(function(e,n){return gn(n,function(s){s=Un(s),jn(e,s,ro(e[s],e))}),e});function qg(e){var n=e==null?0:e.length,s=we();return e=n?ot(e,function(o){if(typeof o[1]!="function")throw new mn(_);return[s(o[0]),o[1]]}):[],He(function(o){for(var d=-1;++d<n;){var v=e[d];if(an(v[0],this,o))return an(v[1],this,o)}})}function zg(e){return mf(yn(e,z))}function ho(e){return function(){return e}}function Yg(e,n){return e==null||e!==e?n:e}var Kg=Bl(),Zg=Bl(!0);function tn(e){return e}function fo(e){return _l(typeof e=="function"?e:yn(e,z))}function Xg(e){return ml(yn(e,z))}function jg(e,n){return vl(e,yn(n,z))}var Qg=He(function(e,n){return function(s){return Ur(s,e,n)}}),Jg=He(function(e,n){return function(s){return Ur(e,s,n)}});function po(e,n,s){var o=Tt(n),d=Fa(n,o);s==null&&!(ut(n)&&(d.length||!o.length))&&(s=n,n=e,e=this,d=Fa(n,Tt(n)));var v=!(ut(s)&&"chain"in s)||!!s.chain,w=ti(e);return gn(d,function(k){var D=n[k];e[k]=D,w&&(e.prototype[k]=function(){var te=this.__chain__;if(v||te){var ne=e(this.__wrapped__),re=ne.__actions__=Qt(this.__actions__);return re.push({func:D,args:arguments,thisArg:e}),ne.__chain__=te,ne}return D.apply(e,fi([this.value()],arguments))})}),e}function e0(){return Be._===this&&(Be._=kh),this}function _o(){}function t0(e){return e=Ne(e),He(function(n){return yl(n,e)})}var n0=qs(ot),i0=qs(Wo),r0=qs(gs);function Nu(e){return Qs(e)?ms(Un(e)):Rf(e)}function a0(e){return function(n){return e==null?i:Wi(e,n)}}var s0=Hl(),o0=Hl(!0);function go(){return[]}function mo(){return!1}function l0(){return{}}function u0(){return""}function c0(){return!0}function h0(e,n){if(e=Ne(e),e<1||e>kn)return[];var s=dn,o=Vt(e,dn);n=we(n),e-=dn;for(var d=bs(o,n);++s<e;)n(s);return d}function f0(e){return Pe(e)?ot(e,Un):ln(e)?[e]:Qt(iu(Xe(e)))}function d0(e){var n=++wh;return Xe(e)+n}var p0=Va(function(e,n){return e+n},0),_0=zs("ceil"),g0=Va(function(e,n){return e/n},1),m0=zs("floor");function v0(e){return e&&e.length?Pa(e,tn,Ls):i}function y0(e,n){return e&&e.length?Pa(e,we(n,2),Ls):i}function b0(e){return Go(e,tn)}function x0(e,n){return Go(e,we(n,2))}function S0(e){return e&&e.length?Pa(e,tn,Ps):i}function w0(e,n){return e&&e.length?Pa(e,we(n,2),Ps):i}var E0=Va(function(e,n){return e*n},1),k0=zs("round"),A0=Va(function(e,n){return e-n},0);function C0(e){return e&&e.length?ys(e,tn):0}function O0(e,n){return e&&e.length?ys(e,we(n,2)):0}return g.after=Xp,g.ary=pu,g.assign=N_,g.assignIn=Ou,g.assignInWith=ts,g.assignWith=D_,g.at=B_,g.before=_u,g.bind=ro,g.bindAll=Ug,g.bindKey=gu,g.castArray=l_,g.chain=hu,g.chunk=md,g.compact=vd,g.concat=yd,g.cond=qg,g.conforms=zg,g.constant=ho,g.countBy=Cp,g.create=W_,g.curry=mu,g.curryRight=vu,g.debounce=yu,g.defaults=H_,g.defaultsDeep=V_,g.defer=jp,g.delay=Qp,g.difference=bd,g.differenceBy=xd,g.differenceWith=Sd,g.drop=wd,g.dropRight=Ed,g.dropRightWhile=kd,g.dropWhile=Ad,g.fill=Cd,g.filter=Mp,g.flatMap=$p,g.flatMapDeep=Tp,g.flatMapDepth=Rp,g.flatten=ou,g.flattenDeep=Od,g.flattenDepth=Md,g.flip=Jp,g.flow=Kg,g.flowRight=Zg,g.fromPairs=Id,g.functions=Z_,g.functionsIn=X_,g.groupBy=Pp,g.initial=$d,g.intersection=Td,g.intersectionBy=Rd,g.intersectionWith=Pd,g.invert=Q_,g.invertBy=J_,g.invokeMap=Np,g.iteratee=fo,g.keyBy=Dp,g.keys=Tt,g.keysIn=en,g.map=Za,g.mapKeys=tg,g.mapValues=ng,g.matches=Xg,g.matchesProperty=jg,g.memoize=ja,g.merge=ig,g.mergeWith=Mu,g.method=Qg,g.methodOf=Jg,g.mixin=po,g.negate=Qa,g.nthArg=t0,g.omit=rg,g.omitBy=ag,g.once=e_,g.orderBy=Bp,g.over=n0,g.overArgs=t_,g.overEvery=i0,g.overSome=r0,g.partial=ao,g.partialRight=bu,g.partition=Wp,g.pick=sg,g.pickBy=Iu,g.property=Nu,g.propertyOf=a0,g.pull=Bd,g.pullAll=uu,g.pullAllBy=Wd,g.pullAllWith=Hd,g.pullAt=Vd,g.range=s0,g.rangeRight=o0,g.rearg=n_,g.reject=Gp,g.remove=Gd,g.rest=i_,g.reverse=no,g.sampleSize=qp,g.set=lg,g.setWith=ug,g.shuffle=zp,g.slice=Ud,g.sortBy=Zp,g.sortedUniq=jd,g.sortedUniqBy=Qd,g.split=$g,g.spread=r_,g.tail=Jd,g.take=ep,g.takeRight=tp,g.takeRightWhile=np,g.takeWhile=ip,g.tap=vp,g.throttle=a_,g.thru=Ka,g.toArray=ku,g.toPairs=Lu,g.toPairsIn=$u,g.toPath=f0,g.toPlainObject=Cu,g.transform=cg,g.unary=s_,g.union=rp,g.unionBy=ap,g.unionWith=sp,g.uniq=op,g.uniqBy=lp,g.uniqWith=up,g.unset=hg,g.unzip=io,g.unzipWith=cu,g.update=fg,g.updateWith=dg,g.values=yr,g.valuesIn=pg,g.without=cp,g.words=Pu,g.wrap=o_,g.xor=hp,g.xorBy=fp,g.xorWith=dp,g.zip=pp,g.zipObject=_p,g.zipObjectDeep=gp,g.zipWith=mp,g.entries=Lu,g.entriesIn=$u,g.extend=Ou,g.extendWith=ts,po(g,g),g.add=p0,g.attempt=Fu,g.camelCase=vg,g.capitalize=Tu,g.ceil=_0,g.clamp=_g,g.clone=u_,g.cloneDeep=h_,g.cloneDeepWith=f_,g.cloneWith=c_,g.conformsTo=d_,g.deburr=Ru,g.defaultTo=Yg,g.divide=g0,g.endsWith=yg,g.eq=$n,g.escape=bg,g.escapeRegExp=xg,g.every=Op,g.find=Ip,g.findIndex=au,g.findKey=G_,g.findLast=Lp,g.findLastIndex=su,g.findLastKey=U_,g.floor=m0,g.forEach=fu,g.forEachRight=du,g.forIn=q_,g.forInRight=z_,g.forOwn=Y_,g.forOwnRight=K_,g.get=lo,g.gt=p_,g.gte=__,g.has=j_,g.hasIn=uo,g.head=lu,g.identity=tn,g.includes=Fp,g.indexOf=Ld,g.inRange=gg,g.invoke=eg,g.isArguments=Gi,g.isArray=Pe,g.isArrayBuffer=g_,g.isArrayLike=Jt,g.isArrayLikeObject=gt,g.isBoolean=m_,g.isBuffer=yi,g.isDate=v_,g.isElement=y_,g.isEmpty=b_,g.isEqual=x_,g.isEqualWith=S_,g.isError=so,g.isFinite=w_,g.isFunction=ti,g.isInteger=xu,g.isLength=Ja,g.isMap=Su,g.isMatch=E_,g.isMatchWith=k_,g.isNaN=A_,g.isNative=C_,g.isNil=M_,g.isNull=O_,g.isNumber=wu,g.isObject=ut,g.isObjectLike=dt,g.isPlainObject=Xr,g.isRegExp=oo,g.isSafeInteger=I_,g.isSet=Eu,g.isString=es,g.isSymbol=ln,g.isTypedArray=vr,g.isUndefined=L_,g.isWeakMap=$_,g.isWeakSet=T_,g.join=Fd,g.kebabCase=Sg,g.last=xn,g.lastIndexOf=Nd,g.lowerCase=wg,g.lowerFirst=Eg,g.lt=R_,g.lte=P_,g.max=v0,g.maxBy=y0,g.mean=b0,g.meanBy=x0,g.min=S0,g.minBy=w0,g.stubArray=go,g.stubFalse=mo,g.stubObject=l0,g.stubString=u0,g.stubTrue=c0,g.multiply=E0,g.nth=Dd,g.noConflict=e0,g.noop=_o,g.now=Xa,g.pad=kg,g.padEnd=Ag,g.padStart=Cg,g.parseInt=Og,g.random=mg,g.reduce=Hp,g.reduceRight=Vp,g.repeat=Mg,g.replace=Ig,g.result=og,g.round=k0,g.runInContext=P,g.sample=Up,g.size=Yp,g.snakeCase=Lg,g.some=Kp,g.sortedIndex=qd,g.sortedIndexBy=zd,g.sortedIndexOf=Yd,g.sortedLastIndex=Kd,g.sortedLastIndexBy=Zd,g.sortedLastIndexOf=Xd,g.startCase=Tg,g.startsWith=Rg,g.subtract=A0,g.sum=C0,g.sumBy=O0,g.template=Pg,g.times=h0,g.toFinite=ni,g.toInteger=Ne,g.toLength=Au,g.toLower=Fg,g.toNumber=Sn,g.toSafeInteger=F_,g.toString=Xe,g.toUpper=Ng,g.trim=Dg,g.trimEnd=Bg,g.trimStart=Wg,g.truncate=Hg,g.unescape=Vg,g.uniqueId=d0,g.upperCase=Gg,g.upperFirst=co,g.each=fu,g.eachRight=du,g.first=lu,po(g,function(){var e={};return Vn(g,function(n,s){je.call(g.prototype,s)||(e[s]=n)}),e}(),{chain:!1}),g.VERSION=h,gn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){g[e].placeholder=g}),gn(["drop","take"],function(e,n){Ue.prototype[e]=function(s){s=s===i?1:Et(Ne(s),0);var o=this.__filtered__&&!n?new Ue(this):this.clone();return o.__filtered__?o.__takeCount__=Vt(s,o.__takeCount__):o.__views__.push({size:Vt(s,dn),type:e+(o.__dir__<0?"Right":"")}),o},Ue.prototype[e+"Right"]=function(s){return this.reverse()[e](s).reverse()}}),gn(["filter","map","takeWhile"],function(e,n){var s=n+1,o=s==kr||s==Cr;Ue.prototype[e]=function(d){var v=this.clone();return v.__iteratees__.push({iteratee:we(d,3),type:s}),v.__filtered__=v.__filtered__||o,v}}),gn(["head","last"],function(e,n){var s="take"+(n?"Right":"");Ue.prototype[e]=function(){return this[s](1).value()[0]}}),gn(["initial","tail"],function(e,n){var s="drop"+(n?"":"Right");Ue.prototype[e]=function(){return this.__filtered__?new Ue(this):this[s](1)}}),Ue.prototype.compact=function(){return this.filter(tn)},Ue.prototype.find=function(e){return this.filter(e).head()},Ue.prototype.findLast=function(e){return this.reverse().find(e)},Ue.prototype.invokeMap=He(function(e,n){return typeof e=="function"?new Ue(this):this.map(function(s){return Ur(s,e,n)})}),Ue.prototype.reject=function(e){return this.filter(Qa(we(e)))},Ue.prototype.slice=function(e,n){e=Ne(e);var s=this;return s.__filtered__&&(e>0||n<0)?new Ue(s):(e<0?s=s.takeRight(-e):e&&(s=s.drop(e)),n!==i&&(n=Ne(n),s=n<0?s.dropRight(-n):s.take(n-e)),s)},Ue.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ue.prototype.toArray=function(){return this.take(dn)},Vn(Ue.prototype,function(e,n){var s=/^(?:filter|find|map|reject)|While$/.test(n),o=/^(?:head|last)$/.test(n),d=g[o?"take"+(n=="last"?"Right":""):n],v=o||/^find/.test(n);d&&(g.prototype[n]=function(){var w=this.__wrapped__,k=o?[1]:arguments,D=w instanceof Ue,te=k[0],ne=D||Pe(w),re=function(Ve){var qe=d.apply(g,fi([Ve],k));return o&&fe?qe[0]:qe};ne&&s&&typeof te=="function"&&te.length!=1&&(D=ne=!1);var fe=this.__chain__,me=!!this.__actions__.length,Ee=v&&!fe,We=D&&!me;if(!v&&ne){w=We?w:new Ue(this);var ke=e.apply(w,k);return ke.__actions__.push({func:Ka,args:[re],thisArg:i}),new vn(ke,fe)}return Ee&&We?e.apply(this,k):(ke=this.thru(re),Ee?o?ke.value()[0]:ke.value():ke)})}),gn(["pop","push","shift","sort","splice","unshift"],function(e){var n=ba[e],s=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);g.prototype[e]=function(){var d=arguments;if(o&&!this.__chain__){var v=this.value();return n.apply(Pe(v)?v:[],d)}return this[s](function(w){return n.apply(Pe(w)?w:[],d)})}}),Vn(Ue.prototype,function(e,n){var s=g[n];if(s){var o=s.name+"";je.call(dr,o)||(dr[o]=[]),dr[o].push({name:n,func:s})}}),dr[Ha(i,Qe).name]=[{name:"wrapper",func:i}],Ue.prototype.clone=Hh,Ue.prototype.reverse=Vh,Ue.prototype.value=Gh,g.prototype.at=yp,g.prototype.chain=bp,g.prototype.commit=xp,g.prototype.next=Sp,g.prototype.plant=Ep,g.prototype.reverse=kp,g.prototype.toJSON=g.prototype.valueOf=g.prototype.value=Ap,g.prototype.first=g.prototype.head,Nr&&(g.prototype[Nr]=wp),g},cr=bh();On?((On.exports=cr)._=cr,jt._=cr):Be._=cr}).call(jr)})(ns,ns.exports);var L0=ns.exports;const vt=M0(L0),$0={key:0},T0={class:"mb3 b tracked-light"},R0={class:"tc"},P0=["name","id","value"],F0=["for"],N0={key:1},D0={class:"mb3 b tracked-light"},B0={class:"tc"},W0={class:"column-severity w-33"},H0=["name","id"],V0=["for"],G0={class:"column-severity w-33"},U0=["name","id"],q0=["for"],z0={class:"column-severity w-33"},Y0=["name","id"],K0=["for"],Z0={key:2},X0={class:"mt0 pt2 mb3 b tracked-light"},j0=["name","id"],Q0=["for"],J0=["name","id"],e1=["for"],t1={props:["edit_state","question","edit_type","parent_show_next_question","set_edit_state","update_edit_state_parent","question_state","isRoot","parent_div_name"],data(){let t=0;if("options"in this.question)switch(this.question.options.length){case 2:t=50;break;case 3:t=33;break;case 4:t=25;break;case 6:t=16;break}let r;return this.isRoot==="true"?r=`question-${this.edit_type.name}-${this.question.name}`:r=`${this.parent_div_name}-${this.question.name}`,{col_size:t,div_name:r}},methods:{has_children(){return this.isObject(this.question.options)},show_next_question(t){let r=t.target.value;if(this.has_children()){for(let h=0;h<this.question.options.length;h++){let c=this.question.options[h],p=`.${this.div_name}-${c.name}`;$(p).hide(400)}let i=`.${this.div_name}-${r}`;$(i).is(":visible")||$(i).slideDown(400)}},update_edit_state(t){if(t===""&&(t=null),this.isRoot==="true"){let r=vt.cloneDeep(this.edit_state);this.has_children()?r[this.edit_type.name][this.question.name].val=t:r[this.edit_type.name][this.question.name]=t,this.set_edit_state(r)}else{let r=vt.cloneDeep(this.question_state);this.has_children()?r.val=t:r=t,this.update_edit_state_parent(this.question.name,r)}},update_edit_state_child(t,r){let i=vt.cloneDeep(this.question_state);if(i[t]=r,this.isRoot==="true"){let h=vt.cloneDeep(this.edit_state);h[this.edit_type.name][this.question.name]=i,this.set_edit_state(h)}else this.update_edit_state_parent(this.question.name,i)},getClassNames(){let t=[];return t.push(this.div_name),this.isRoot!=="true"&&t.push("child-question"),t},child_state(t){return this.has_children()&&typeof this.question.options!="string"?this.question_state[t.name]:this.question_state}},computed:{isObject(){return t=>typeof t=="object"&&t!==null}}},n1=Object.assign(t1,{__name:"Question",setup(t){return(r,i)=>{const h=I0("Question",!0);return Ge(),Ye("div",{class:wn(r.getClassNames())},[r.isObject(t.question.options)?(Ge(),Ye("div",$0,[ae("p",T0,Rt(t.question.question),1),ae("div",R0,[(Ge(!0),Ye(bi,null,xi(t.question.options,c=>(Ge(),Ye("div",{class:wn(`column-severity w-${r.col_size}`),key:c.id},[ae("input",{onClick:i[0]||(i[0]=(...p)=>r.show_next_question&&r.show_next_question(...p)),class:"checkbox-tools checkbox-tools-severity",type:"radio",name:t.question.name,id:`${r.div_name}-${c.name}`,value:c.name,onInput:i[1]||(i[1]=p=>r.update_edit_state(p.target.value))},null,40,P0),ae("label",{class:wn(`for-checkbox-tools-severity question-${t.edit_type.name}`),for:`${r.div_name}-${c.name}`},Rt(c.label),11,F0)],2))),128))]),(Ge(!0),Ye(bi,null,xi(t.question.options,c=>(Ge(),Ye("div",{key:c.id},[Si(h,{edit_state:t.edit_state,question_state:r.child_state(c),question:c,edit_type:t.edit_type,set_edit_state:t.set_edit_state,parent_show_next_question:r.show_next_question,isRoot:"false",update_edit_state_parent:r.update_edit_state_child,parent_div_name:r.div_name},null,8,["edit_state","question_state","question","edit_type","set_edit_state","parent_show_next_question","update_edit_state_parent","parent_div_name"])]))),128))])):Pn("",!0),t.question.options==="likert-3"?(Ge(),Ye("div",N0,[ae("p",D0,Rt(t.question.question),1),ae("div",B0,[ae("div",W0,[ae("input",{onClick:i[2]||(i[2]=(...c)=>r.show_next_question&&r.show_next_question(...c)),class:"checkbox-tools checkbox-tools-severity",type:"radio",name:`${r.div_name}-severity`,id:`${r.div_name}-severity-1`,value:"minor",onInput:i[3]||(i[3]=c=>r.update_edit_state(c.target.value))},null,40,H0),ae("label",{class:wn(`for-checkbox-tools-severity question-${t.edit_type.name}`),for:`${r.div_name}-severity-1`}," 1 - minor ",10,V0)]),ae("div",G0,[ae("input",{onClick:i[4]||(i[4]=(...c)=>r.show_next_question&&r.show_next_question(...c)),class:"checkbox-tools checkbox-tools-severity",type:"radio",name:`${r.div_name}-severity`,id:`${r.div_name}-severity-2`,value:"somewhat",onInput:i[5]||(i[5]=c=>r.update_edit_state(c.target.value))},null,40,U0),ae("label",{class:wn(`for-checkbox-tools-severity question-${t.edit_type.name}`),for:`${r.div_name}-severity-2`}," 2 - somewhat ",10,q0)]),ae("div",z0,[ae("input",{onClick:i[6]||(i[6]=(...c)=>r.show_next_question&&r.show_next_question(...c)),class:"checkbox-tools checkbox-tools-severity",type:"radio",name:`${r.div_name}-severity`,id:`${r.div_name}-severity-3`,value:"a lot",onInput:i[7]||(i[7]=c=>r.update_edit_state(c.target.value))},null,40,Y0),ae("label",{class:wn(`for-checkbox-tools-severity question-${t.edit_type.name}`),for:`${r.div_name}-severity-3`}," 3 - a lot ",10,K0)])])])):Pn("",!0),t.question.options==="binary"?(Ge(),Ye("div",Z0,[ae("p",X0,[kt(Rt(t.question.question)+" ",1),ae("input",{class:"checkbox-tools-yes-no",type:"radio",name:`${r.div_name}-yes-no`,id:`${r.div_name}-yes`,value:"yes",onInput:i[8]||(i[8]=c=>r.update_edit_state(c.target.value))},null,40,j0),ae("label",{class:wn(`normal for-checkbox-tools-yes-no question-${t.edit_type.name}`),for:`${r.div_name}-yes`},"yes",10,Q0),ae("input",{class:"checkbox-tools-yes-no",type:"radio",name:`${r.div_name}-yes-no`,id:`${r.div_name}-no`,value:"no",onInput:i[9]||(i[9]=c=>r.update_edit_state(c.target.value))},null,40,J0),ae("label",{class:wn(`normal for-checkbox-tools-yes-no question-${t.edit_type.name}`),for:`${r.div_name}-no`},"no",10,e1)])])):Pn("",!0)],2)}}}),i1={class:"quality-selection-divs"},r1={class:"quality-selection w-100",id:"add_an_edit"},a1=ae("p",{class:"f3 courier ttu mv1"},[kt("Adding an Edit "),ae("i",{class:"fa-solid fa-plus"})],-1),s1={id:"dropdown-button-container"},o1={class:"over-hide z-bigger mt2"},l1={class:"row"},u1=ae("p",{class:"mb2 b tracked-light"},[ae("i",null,"Select the Edit Category.")],-1),c1={class:"tc mb3"},h1=["id","value"],f1=["for"],d1=["data-category"],p1={key:0},_1={class:"mt0 mb2 b tracked-light"},g1={class:"tracked-light"},m1=["innerHTML"],v1={key:1},y1=["data-category"],b1={class:"mt0 mb2 b tracked-light"},x1={class:"tracked-light"},S1=["innerHTML"],w1={key:2},E1=["data-category"],k1={class:"mt0 mb2 b tracked-light"},A1={class:"tracked-light lh-paras-2"},C1=["innerHTML"],O1={class:"buttons tc mt2"},M1=ae("i",{class:"fa-solid fa-close"},null,-1),I1=ae("i",{class:"fa-solid fa-check"},null,-1),L1=["id","data-category"],$1=ae("p",{class:"f3 courier ttu mv1"},[kt("Annotating an Edit "),ae("i",{class:"fa-solid fa-pencil"})],-1),T1={class:"f4 mt0 mb2 tc"},R1=["innerHTML"],P1=["innerHTML"],F1=["innerHTML"],N1={id:"dropdown-button-container"},D1={class:"single_part over-hide z-bigger mt3"},B1={class:"row"},W1={class:"buttons tc"},H1=["onClick"],V1=ae("i",{class:"fa-solid fa-close"},null,-1),G1=["onClick"],U1=ae("i",{class:"fa-solid fa-check"},null,-1),q1={props:["edits_dict","hits_data","current_hit","selected_edits_html","selected_edits","selected_state","set_span_text","set_span_indices","set_hits_data","refresh_interface_edit","editor_open","set_editor_state","annotating_edit_span_category_id","set_annotating_edit_span_category_id","annotating_edit_span","set_annotating_edit_span","set_hit_box_config","config"],data(){return{edit_state:this.initalize_edit_state()}},methods:{parse_options(t){if(typeof t!="object")return null;let r={};for(const i in t)r.val=null,r[t[i].name]=this.parse_options(t[i].options);return r},initalize_edit_state(){let t={};for(const r of this.config.edits)t[r.name]=this.parse_options(r.annotation);return t},set_edit_state(t){console.log(t),this.edit_state=t},cancel_click(){$(".icon-default").removeClass("open"),this.refresh_edit()},save_click(){let t=vt.cloneDeep(this.hits_data);$(".icon-default").removeClass("open"),this.set_editor_state(!this.editor_open);let r=$("input[name=edit_cotegory]:checked").val();const i=t[this.current_hit-1].edits;let h=0;for(const _ of i)_.category==r&&parseInt(_.id)>h&&(h=parseInt(_.id));const c=this.config.edits.find(_=>_.name===r);let p={category:r,id:h+1,annotation:null};if(c.type=="primitive"){if(c.enable_input){let _=this.selected_state.original_idx;c.multi_span||(_=[_]),p.input_idx=_}if(c.enable_output){let _=this.selected_state.simplified_idx;c.multi_span||(_=[_]),p.output_idx=_}}if(c.type=="composite"){let _=[];for(let b of this.selected_edits){let S={id:b.id,category:b.category};b.input_idx&&(S.input_idx=b.input_idx),b.output_idx&&(S.output_idx=b.output_idx),_.push(S)}p.constituent_edits=_;for(let b of _)t[this.current_hit-1].edits=t[this.current_hit-1].edits.filter(S=>S.category!==b.category||S.id!==b.id)}t[this.current_hit-1].edits.push(p),this.set_hits_data(t),this.refresh_edit()},cancel_annotation_click(t,r){const i=this.annotating_edit_span_category_id;$(".icon-default").removeClass("open"),this.reset_annotation_colors(t,i),this.set_hits_data(vt.cloneDeep(this.hits_data)),this.refresh_edit()},save_annotation_click(t,r){let i=this.annotating_edit_span_category_id,h=vt.cloneDeep(this.hits_data),c=vt.cloneDeep(this.edit_state[t]),p=h[this.current_hit-1].edits.find(function(_){return _.category===t&&_.id===i});p.annotation=c,this.reset_annotation_colors(t,i),this.set_hits_data(h),this.refresh_edit()},reset_annotation_colors(t,r){let i=this.hits_data[this.current_hit-1].edits.find(function(b){return b.category===t&&b.id===r}),h,c;!i.annotation||i.annotation==null?(h=`txt-${t}-light`,c=`border-${t}-light`):(h=`txt-${t}`,c=`border-${t}`);let p=$(`.${t}[data-id=${t}-${r}]`),_=$(`.${t}_below[data-id=${t}-${r}]`);_.addClass(h),p.removeClass(`white bg-${t} bg-${t}-light`),p.addClass(c),_.removeClass(`white bg-${t} bg-${t}-light`)},getEditConfig(t){return this.config.edits.find(function(r){return r.name===t})},refresh_edit(){this.set_editor_state(!1);let t=this.config.edits.map(function(r){return`txt-${r.name}`}).join(" ");$(".annotation-icon").removeClass(t),$("input[name=edit_cotegory]").prop("checked",!1),$(".checkbox-tools").prop("checked",!1),$(".checkbox-tools-yes-no").prop("checked",!1),$(".quality-selection").hide(400),$(".span-selection-div").hide(400),$(".child-question").hide(),this.edit_state=this.initalize_edit_state(),this.refresh_interface_edit()},show_span_selection(t){$(".span-selection-div").hide(400),$(`.span-selection-div[data-category=${t.target.value}]`).slideDown(400);const r=this.getEditConfig(t.target.value);this.refresh_interface_edit();let i={enable_select_original_sentence:!1,enable_select_simplified_sentence:!1,enable_multi_select_original_sentence:!1,enable_multi_select_simplified_sentence:!1};r.enable_input&&(i.enable_select_original_sentence=!0,r.multi_span&&(i.enable_multi_select_original_sentence=!0)),r.enable_output&&(i.enable_select_simplified_sentence=!0,r.multi_span&&(i.enable_multi_select_simplified_sentence=!0)),this.set_hit_box_config(i),this.set_span_text("","original"),this.set_span_text("","simplified"),this.set_span_indices("","original"),this.set_span_indices("","simplified")}}},z1=Object.assign(q1,{__name:"AnnotationEditor",setup(t){return(r,i)=>(Ge(),Ye("div",i1,[ae("div",r1,[a1,ae("div",s1,[ae("div",o1,[ae("div",l1,[u1,ae("div",c1,[(Ge(!0),Ye(bi,null,xi(t.config.edits,h=>(Ge(),Ye("div",{key:h.id,class:"w-15 mr2 dib"},[ae("input",{onClick:i[0]||(i[0]=(...c)=>r.show_span_selection&&r.show_span_selection(...c)),class:"checkbox-tools-edit-category checkbox-tools",type:"radio",name:"edit_cotegory",id:`edit_cotegory-${h.name}`,value:h.name},null,8,h1),ae("label",{class:wn(`txt-${h.name}`),for:`edit_cotegory-${h.name}`},[ae("i",{class:wn(`fa-solid ${h.icon} fa-1-5x mb1`)},null,2),kt(" "+Rt(h.label),1)],10,f1)]))),128))]),(Ge(!0),Ye(bi,null,xi(t.config.edits,h=>(Ge(),Ye("div",{key:h.id,class:"span-selection-div","data-category":h.name},[h.enable_input?(Ge(),Ye("div",p1,[ae("p",_1,[kt("Select the text span from the "),ae("i",null,Rt(t.config.input_label),1),kt(".")]),ae("p",g1,[kt("Selected span: "),ae("span",{innerHTML:t.selected_state.original_span},null,8,m1)])])):Pn("",!0),h.enable_output?(Ge(),Ye("div",v1,[ae("div",{class:"span-selection-div","data-category":h.name},[ae("p",b1,[kt("Select the text span from the "),ae("i",null,Rt(t.config.output_label),1),kt(".")]),ae("p",x1,[kt("Selected span: "),ae("span",{innerHTML:t.selected_state.simplified_span},null,8,S1)])],8,y1)])):Pn("",!0),h.type=="composite"?(Ge(),Ye("div",w1,[ae("div",{class:"span-selection-div","data-category":h.name},[ae("p",k1,"Click the edits that associated with this "+Rt(h.name)+" change edit.",1),ae("p",A1,[kt("Selected edits: "),ae("span",{innerHTML:t.selected_edits_html},null,8,C1)])],8,E1)])):Pn("",!0)],8,d1))),128))])]),ae("div",O1,[ae("button",{onClick:i[1]||(i[1]=(...h)=>r.cancel_click&&r.cancel_click(...h)),class:"cancel-button b quality_button bw0 ba mr2 br-pill-ns grow",type:"button"},[kt("Cancel "),M1]),ae("button",{onClick:i[2]||(i[2]=(...h)=>r.save_click&&r.save_click(...h)),class:"confirm-button b quality_button bw0 ba ml2 br-pill-ns",type:"button"},[kt("Save "),I1])])])]),(Ge(!0),Ye(bi,null,xi(t.config.edits,h=>(Ge(),Ye("div",{key:h.id},[ae("div",{class:"quality-selection w-100",id:`${h.name}_edit_annotation`,"data-category":h.name},[$1,ae("div",T1,[ae("span",{class:wn(`edit-type txt-${h.name} f3`)},Rt(h.label)+": ",3),h.enable_input?(Ge(),Ye("span",{key:0,innerHTML:t.annotating_edit_span.original},null,8,R1)):Pn("",!0),h.enable_input&&h.enable_output?(Ge(),Ye("span",{key:1,class:wn(`edit-type txt-${h.name} f3`)}," with ",2)):Pn("",!0),h.enable_output?(Ge(),Ye("span",{key:2,innerHTML:t.annotating_edit_span.simplified},null,8,P1)):Pn("",!0),h.type=="composite"?(Ge(),Ye("span",{key:3,innerHTML:t.annotating_edit_span.composite},null,8,F1)):Pn("",!0)]),ae("div",N1,[ae("div",D1,[ae("div",B1,[(Ge(!0),Ye(bi,null,xi(h.annotation,c=>(Ge(),Ye("div",{key:c.id},[Si(n1,{edit_state:r.edit_state,question_state:r.edit_state[h.name][c.name],question:c,edit_type:h,set_edit_state:r.set_edit_state,parent_show_next_question:null,isRoot:"true"},null,8,["edit_state","question_state","question","edit_type","set_edit_state"])]))),128))])]),ae("div",W1,[ae("button",{onClick:c=>r.cancel_annotation_click(h.name,r.$e),class:"cancel-button b quality_button bw0 ba mr2 br-pill-ns grow",type:"button"},[kt("Cancel "),V1],8,H1),ae("button",{onClick:c=>r.save_annotation_click(h.name,r.$e),class:"confirm-button b quality_button bw0 ba ml2 br-pill-ns"},[kt("Save "),U1],8,G1)])])],8,L1)]))),128))]))}});/*! LeaderLine v1.0.7 (c) anseki https://anseki.github.io/leader-line/ */var Bu=function(){var t,r,i,h,c,p,_,b,S,H,j,z,_e,ge,Ce,Le,Fe,Qe,Re,Pt,nt,Bt,zn,Je="leader-line",Wt=1,Xt=2,Nn=3,En=4,qi={top:Wt,right:Xt,bottom:Nn,left:En},aa=1,kr=2,Ar=3,Cr=4,Dn=5,kn={straight:aa,arc:kr,fluid:Ar,magnet:Cr,grid:Dn},fn="behind",zi=Je+"-defs",dn='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="leader-line-defs"><style><![CDATA[.leader-line{position:absolute;overflow:visible!important;pointer-events:none!important;font-size:16px}#leader-line-defs{width:0;height:0;position:absolute;left:0;top:0}.leader-line-line-path{fill:none}.leader-line-mask-bg-rect{fill:white}.leader-line-caps-mask-anchor,.leader-line-caps-mask-marker-shape{fill:black}.leader-line-caps-mask-anchor{stroke:black}.leader-line-caps-mask-line,.leader-line-plugs-face{stroke:rgba(0,0,0,0)}.leader-line-line-mask-shape{stroke:white}.leader-line-line-outline-mask-shape{stroke:black}.leader-line-plug-mask-shape{fill:white;stroke:black}.leader-line-plug-outline-mask-shape{fill:black;stroke:white}.leader-line-areaAnchor{position:absolute;overflow:visible!important}]]></style><defs><circle id="leader-line-disc" cx="0" cy="0" r="5"/><rect id="leader-line-square" x="-5" y="-5" width="10" height="10"/><polygon id="leader-line-arrow1" points="-8,-8 8,0 -8,8 -5,0"/><polygon id="leader-line-arrow2" points="-4,-8 4,0 -4,8 -7,5 -2,0 -7,-5"/><polygon id="leader-line-arrow3" points="-4,-5 8,0 -4,5"/><g id="leader-line-hand"><path style="fill: #fcfcfc" d="M9.19 11.14h4.75c1.38 0 2.49-1.11 2.49-2.49 0-.51-.15-.98-.41-1.37h1.3c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.53-2.49-2.53h1.02c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49h14.96c1.37 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49H16.58C16-9.86 14.28-11.14 9.7-11.14c-4.79 0-6.55 3.42-7.87 4.73H-2.14v13.23h3.68C3.29 9.97 5.47 11.14 9.19 11.14L9.19 11.14Z"/><path style="fill: black" d="M13.95 12c1.85 0 3.35-1.5 3.35-3.35 0-.17-.02-.34-.04-.51h.07c1.85 0 3.35-1.5 3.35-3.35 0-.79-.27-1.51-.72-2.08 1.03-.57 1.74-1.67 1.74-2.93 0-.59-.16-1.15-.43-1.63h12.04c1.85 0 3.35-1.5 3.35-3.35 0-1.85-1.5-3.35-3.35-3.35H17.2C16.26-10.93 13.91-12 9.7-12 5.36-12 3.22-9.4 1.94-7.84c0 0-.29.33-.5.57-.63 0-3.58 0-3.58 0C-2.61-7.27-3-6.88-3-6.41v13.23c0 .47.39.86.86.86 0 0 2.48 0 3.2 0C2.9 10.73 5.29 12 9.19 12L13.95 12ZM9.19 10.28c-3.46 0-5.33-1.05-6.9-3.87-.15-.27-.44-.44-.75-.44 0 0-1.81 0-2.82 0V-5.55c1.06 0 3.11 0 3.11 0 .25 0 .44-.06.61-.25l.83-.95c1.23-1.49 2.91-3.53 6.43-3.53 3.45 0 4.9.74 5.57 1.72h-4.3c-.48 0-.86.38-.86.86s.39.86.86.86h22.34c.9 0 1.63.73 1.63 1.63 0 .9-.73 1.63-1.63 1.63H15.83c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.52c.9 0 1.63.73 1.63 1.63s-.73 1.63-1.63 1.63h-3.12c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.11c.88 0 1.63.76 1.63 1.67 0 .9-.73 1.63-1.63 1.63h-3.2c-.48 0-.86.39-.86.86 0 .47.39.86.86.86h1.36c.05.16.09.34.09.51 0 .9-.73 1.63-1.63 1.63C13.95 10.28 9.19 10.28 9.19 10.28Z"/></g><g id="leader-line-crosshair"><path d="M0-78.97c-43.54 0-78.97 35.43-78.97 78.97 0 43.54 35.43 78.97 78.97 78.97s78.97-35.43 78.97-78.97C78.97-43.54 43.55-78.97 0-78.97ZM76.51-1.21h-9.91v-9.11h-2.43v9.11h-11.45c-.64-28.12-23.38-50.86-51.5-51.5V-64.17h9.11V-66.6h-9.11v-9.91C42.46-75.86 75.86-42.45 76.51-1.21ZM-1.21-30.76h-9.11v2.43h9.11V-4.2c-1.44.42-2.57 1.54-2.98 2.98H-28.33v-9.11h-2.43v9.11H-50.29C-49.65-28-27.99-49.65-1.21-50.29V-30.76ZM-30.76 1.21v9.11h2.43v-9.11H-4.2c.42 1.44 1.54 2.57 2.98 2.98v24.13h-9.11v2.43h9.11v19.53C-27.99 49.65-49.65 28-50.29 1.21H-30.76ZM1.22 30.75h9.11v-2.43h-9.11V4.2c1.44-.42 2.56-1.54 2.98-2.98h24.13v9.11h2.43v-9.11h19.53C49.65 28 28 49.65 1.22 50.29V30.75ZM30.76-1.21v-9.11h-2.43v9.11H4.2c-.42-1.44-1.54-2.56-2.98-2.98V-28.33h9.11v-2.43h-9.11V-50.29C28-49.65 49.65-28 50.29-1.21H30.76ZM-1.21-76.51v9.91h-9.11v2.43h9.11v11.45c-28.12.64-50.86 23.38-51.5 51.5H-64.17v-9.11H-66.6v9.11h-9.91C-75.86-42.45-42.45-75.86-1.21-76.51ZM-76.51 1.21h9.91v9.11h2.43v-9.11h11.45c.64 28.12 23.38 50.86 51.5 51.5v11.45h-9.11v2.43h9.11v9.91C-42.45 75.86-75.86 42.45-76.51 1.21ZM1.22 76.51v-9.91h9.11v-2.43h-9.11v-11.45c28.12-.64 50.86-23.38 51.5-51.5h11.45v9.11h2.43v-9.11h9.91C75.86 42.45 42.45 75.86 1.22 76.51Z"/><path d="M0 83.58-7.1 96 7.1 96Z"/><path d="M0-83.58 7.1-96-7.1-96"/><path d="M83.58 0 96 7.1 96-7.1Z"/><path d="M-83.58 0-96-7.1-96 7.1Z"/></g></defs></svg>',Yi={disc:{elmId:"leader-line-disc",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},square:{elmId:"leader-line-square",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},arrow1:{elmId:"leader-line-arrow1",bBox:{left:-8,top:-8,width:16,height:16,right:8,bottom:8},widthR:4,heightR:4,bCircle:8,sideLen:8,backLen:8,overhead:8,outlineBase:2,outlineMax:1.5},arrow2:{elmId:"leader-line-arrow2",bBox:{left:-7,top:-8,width:11,height:16,right:4,bottom:8},widthR:2.75,heightR:4,bCircle:8,sideLen:8,backLen:7,overhead:4,outlineBase:1,outlineMax:1.75},arrow3:{elmId:"leader-line-arrow3",bBox:{left:-4,top:-5,width:12,height:10,right:8,bottom:5},widthR:3,heightR:2.5,bCircle:8,sideLen:5,backLen:4,overhead:8,outlineBase:1,outlineMax:2.5},hand:{elmId:"leader-line-hand",bBox:{left:-3,top:-12,width:40,height:24,right:37,bottom:12},widthR:10,heightR:6,bCircle:37,sideLen:12,backLen:3,overhead:37},crosshair:{elmId:"leader-line-crosshair",noRotate:!0,bBox:{left:-96,top:-96,width:192,height:192,right:96,bottom:96},widthR:48,heightR:48,bCircle:96,sideLen:96,backLen:96,overhead:0}},Or={behind:fn,disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},Ki={disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},Bn=[Wt,Xt,Nn,En],pn="auto",sa={x:"left",y:"top",width:"width",height:"height"},Ai=80,si=4,fs=5,Zi=120,Ci=8,oa=3.75,Ct=10,Ft=30,Xi=.5522847,An=.25*Math.PI,Mr=/^\s*(\-?[\d\.]+)\s*(\%)?\s*$/,Se="http://www.w3.org/2000/svg",Wn="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&!window.navigator.msPointerEnabled,St=!Wn&&!!document.uniqueID,Ot="MozAppearance"in document.documentElement.style,_n=!(Wn||Ot||!window.chrome||!window.CSS),at=!Wn&&!St&&!Ot&&!_n&&!window.chrome&&"WebkitAppearance"in document.documentElement.style,la=St||Wn?.2:.1,yt={path:Ar,lineColor:"coral",lineSize:4,plugSE:[fn,"arrow1"],plugSizeSE:[1,1],lineOutlineEnabled:!1,lineOutlineColor:"indianred",lineOutlineSize:.25,plugOutlineEnabledSE:[!1,!1],plugOutlineSizeSE:[1,1]},Cn=(nt={}.toString,Bt={}.hasOwnProperty.toString,zn=Bt.call(Object),function(a){return a&&nt.call(a)==="[object Object]"&&(!(a=Object.getPrototypeOf(a))||(a=a.hasOwnProperty("constructor")&&a.constructor)&&typeof a=="function"&&Bt.call(a)===zn)}),pt=Number.isFinite||function(a){return typeof a=="number"&&window.isFinite(a)},it=(ge={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},Ce=1e3/60/2,Le=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,Ce)},Fe=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(a){clearTimeout(a)},Qe=Number.isFinite||function(a){return typeof a=="number"&&window.isFinite(a)},Re=[],Pt=0,{add:function(a,l,u,f,y,m,E){var L,O,K,V,U,M,A,I,F,C,T=++Pt;function R(ie,le){return{value:a(le),timeRatio:ie,outputRatio:le}}if(typeof y=="string"&&(y=ge[y]),a=a||function(){},u<Ce)L=[R(0,0),R(1,1)];else{if(O=Ce/u,L=[R(0,0)],y[0]===0&&y[1]===0&&y[2]===1&&y[3]===1)for(V=O;V<=1;V+=O)L.push(R(V,V));else for(U=K=(V=O)/10;U<=1;U+=K)A=U,C=F=I=void 0,I=(C=U*U)*U,C*=3*(F=1-U),V<=(M={x:(A=3*(F*F)*U)*y[0]+C*y[2]+I,y:A*y[1]+C*y[3]+I}).x&&(L.push(R(M.x,M.y)),V+=O);L.push(R(1,1))}return Re.push(m={animId:T,frameCallback:l,duration:u,count:f,frames:L,reverse:!!m}),E!==!1&&$r(m,E),T},remove:function(a){var l;Re.some(function(u,f){return u.animId===a&&(l=f,!(u.framesStart=null))})&&Re.splice(l,1)},start:function(a,l,u){Re.some(function(f){return f.animId===a&&(f.reverse=!!l,$r(f,u),!0)})},stop:function(a,l){var u;return Re.some(function(f){return f.animId===a&&(l?f.lastFrame!=null&&(u=f.frames[f.lastFrame].timeRatio):(u=(Date.now()-f.framesStart)/f.duration,(u=f.reverse?1-u:u)<0?u=0:1<u&&(u=1)),!(f.framesStart=null))}),u},validTiming:function(a){return typeof a=="string"?ge[a]:Array.isArray(a)&&[0,1,2,3].every(function(l){return Qe(a[l])&&0<=a[l]&&a[l]<=1})?[a[0],a[1],a[2],a[3]]:null}}),Ir=function(a){a.SVGPathElement.prototype.getPathData&&a.SVGPathElement.prototype.setPathData||function(){function l(M){this._string=M,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()}var u={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},f=a.navigator.userAgent.indexOf("MSIE ")!==-1;l.prototype={parseSegment:function(){var I=this._string[this._currentIndex],M=u[I]||null;if(M===null){if(this._prevCommand===null||(M=(I==="+"||I==="-"||I==="."||"0"<=I&&I<="9")&&this._prevCommand!=="Z"?this._prevCommand==="M"?"L":this._prevCommand==="m"?"l":this._prevCommand:null)===null)return null}else this._currentIndex+=1;var A=null,I=(this._prevCommand=M).toUpperCase();return I==="H"||I==="V"?A=[this._parseNumber()]:I==="M"||I==="L"||I==="T"?A=[this._parseNumber(),this._parseNumber()]:I==="S"||I==="Q"?A=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:I==="C"?A=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:I==="A"?A=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:I==="Z"&&(this._skipOptionalSpaces(),A=[]),A===null||0<=A.indexOf(null)?null:{type:M,values:A}},hasMoreData:function(){return this._currentIndex<this._endIndex},peekSegmentType:function(){var M=this._string[this._currentIndex];return u[M]||null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;var M=this.peekSegmentType();return M==="M"||M==="m"},_isCurrentSpace:function(){var M=this._string[this._currentIndex];return M<=" "&&(M===" "||M===`
`||M==="	"||M==="\r"||M==="\f")},_skipOptionalSpaces:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string[this._currentIndex]!==",")&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&this._string[this._currentIndex]===","&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){var M=0,A=0,I=1,F=0,C=1,T=1,R=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&this._string[this._currentIndex]==="+"?this._currentIndex+=1:this._currentIndex<this._endIndex&&this._string[this._currentIndex]==="-"&&(this._currentIndex+=1,C=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])&&this._string[this._currentIndex]!==".")return null;for(var ie=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==ie)for(var le=this._currentIndex-1,J=1;ie<=le;)A+=J*(this._string[le]-"0"),--le,J*=10;if(this._currentIndex<this._endIndex&&this._string[this._currentIndex]==="."){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)I*=10,F+=(this._string.charAt(this._currentIndex)-"0")/I,this._currentIndex+=1}if(this._currentIndex!==R&&this._currentIndex+1<this._endIndex&&(this._string[this._currentIndex]==="e"||this._string[this._currentIndex]==="E")&&this._string[this._currentIndex+1]!=="x"&&this._string[this._currentIndex+1]!=="m"){if(this._currentIndex+=1,this._string[this._currentIndex]==="+"?this._currentIndex+=1:this._string[this._currentIndex]==="-"&&(this._currentIndex+=1,T=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)M*=10,M+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var G=A+F;return G*=C,M&&(G*=Math.pow(10,T*M)),R===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),G)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var M=null,A=this._string[this._currentIndex];if(this._currentIndex+=1,A==="0")M=0;else{if(A!=="1")return null;M=1}return this._skipOptionalSpacesOrDelimiter(),M}};function y(M){if(!M||M.length===0)return[];var A=new l(M),I=[];if(A.initialCommandIsMoveTo())for(;A.hasMoreData();){var F=A.parseSegment();if(F===null)break;I.push(F)}return I}function m(M){return M.map(function(A){return{type:A.type,values:Array.prototype.slice.call(A.values)}})}function E(M){var A=[],I=null,F=null,C=null,T=null,R=null,ie=null,le=null;return M.forEach(function(J){var G,ee,W,x,B,Q,N,se;J.type==="M"?(N=J.values[0],se=J.values[1],A.push({type:"M",values:[N,se]}),T=ie=N,R=le=se):J.type==="C"?(B=J.values[0],Q=J.values[1],G=J.values[2],ee=J.values[3],N=J.values[4],se=J.values[5],A.push({type:"C",values:[B,Q,G,ee,N,se]}),F=G,C=ee,T=N,R=se):J.type==="L"?(N=J.values[0],se=J.values[1],A.push({type:"L",values:[N,se]}),T=N,R=se):J.type==="H"?(N=J.values[0],A.push({type:"L",values:[N,R]}),T=N):J.type==="V"?(se=J.values[0],A.push({type:"L",values:[T,se]}),R=se):J.type==="S"?(G=J.values[0],ee=J.values[1],N=J.values[2],se=J.values[3],x=I==="C"||I==="S"?(W=T+(T-F),R+(R-C)):(W=T,R),A.push({type:"C",values:[W,x,G,ee,N,se]}),F=G,C=ee,T=N,R=se):J.type==="T"?(N=J.values[0],se=J.values[1],Q=I==="Q"||I==="T"?(B=T+(T-F),R+(R-C)):(B=T,R),A.push({type:"C",values:[W=T+2*(B-T)/3,x=R+2*(Q-R)/3,N+2*(B-N)/3,se+2*(Q-se)/3,N,se]}),F=B,C=Q,T=N,R=se):J.type==="Q"?(B=J.values[0],Q=J.values[1],N=J.values[2],se=J.values[3],A.push({type:"C",values:[W=T+2*(B-T)/3,x=R+2*(Q-R)/3,N+2*(B-N)/3,se+2*(Q-se)/3,N,se]}),F=B,C=Q,T=N,R=se):J.type==="A"?(ee=J.values[0],W=J.values[1],x=J.values[2],B=J.values[3],Q=J.values[4],N=J.values[5],se=J.values[6],ee===0||W===0?(A.push({type:"C",values:[T,R,N,se,N,se]}),T=N,R=se):T===N&&R===se||U(T,R,N,se,ee,W,x,B,Q).forEach(function(oe){A.push({type:"C",values:oe}),T=N,R=se})):J.type==="Z"&&(A.push(J),T=ie,R=le),I=J.type}),A}var L=a.SVGPathElement.prototype.setAttribute,O=a.SVGPathElement.prototype.removeAttribute,K=a.Symbol?a.Symbol():"__cachedPathData",V=a.Symbol?a.Symbol():"__cachedNormalizedPathData",U=function(M,A,I,Me,se,oe,R,ie,le,J){function G(X,Ie,he){return{x:X*Math.cos(he)-Ie*Math.sin(he),y:X*Math.sin(he)+Ie*Math.cos(he)}}var ee=Math.PI*R/180,ye=[];J?(be=J[0],N=J[1],De=J[2],Q=J[3]):(M=(Oe=G(M,A,-ee)).x,A=Oe.y,1<(Oe=(B=(M-(I=(x=G(I,Me,-ee)).x))/2)*B/(se*se)+(W=(A-(Me=x.y))/2)*W/(oe*oe))&&(se*=Oe=Math.sqrt(Oe),oe*=Oe),x=se*se,Oe=oe*oe,De=(x=(ie===le?-1:1)*Math.sqrt(Math.abs((x*Oe-x*W*W-Oe*B*B)/(x*W*W+Oe*B*B))))*se*W/oe+(M+I)/2,Q=x*-oe*B/se+(A+Me)/2,be=Math.asin(parseFloat(((A-Q)/oe).toFixed(9))),N=Math.asin(parseFloat(((Me-Q)/oe).toFixed(9))),M<De&&(be=Math.PI-be),I<De&&(N=Math.PI-N),be<0&&(be=2*Math.PI+be),N<0&&(N=2*Math.PI+N),le&&N<be&&(be-=2*Math.PI),!le&&be<N&&(N-=2*Math.PI));var W,x,B,Oe=N-be;Math.abs(Oe)>120*Math.PI/180&&(W=N,x=I,B=Me,N=le&&be<N?be+120*Math.PI/180*1:be+120*Math.PI/180*-1,I=De+se*Math.cos(N),Me=Q+oe*Math.sin(N),ye=U(I,Me,x,B,se,oe,R,0,le,[N,W,De,Q]));var Oe=N-be,De=Math.cos(be),Q=Math.sin(be),be=Math.cos(N),N=Math.sin(N),Oe=Math.tan(Oe/4),se=4/3*se*Oe,oe=4/3*oe*Oe,Oe=[M,A],De=[M+se*Q,A-oe*De],be=[I+se*N,Me-oe*be],Me=[I,Me];if(De[0]=2*Oe[0]-De[0],De[1]=2*Oe[1]-De[1],J)return[De,be,Me].concat(ye);var ye=[De,be,Me].concat(ye).join().split(","),pe=[],ue=[];return ye.forEach(function(X,Ie){Ie%2?ue.push(G(ye[Ie-1],ye[Ie],ee).y):ue.push(G(ye[Ie],ye[Ie+1],ee).x),ue.length===6&&(pe.push(ue),ue=[])}),pe};a.SVGPathElement.prototype.setAttribute=function(M,A){M==="d"&&(this[K]=null,this[V]=null),L.call(this,M,A)},a.SVGPathElement.prototype.removeAttribute=function(M,A){M==="d"&&(this[K]=null,this[V]=null),O.call(this,M)},a.SVGPathElement.prototype.getPathData=function(M){if(M&&M.normalize)return this[V]?m(this[V]):(this[K]?R=m(this[K]):(R=y(this.getAttribute("d")||""),this[K]=m(R)),M=E((A=[],T=C=F=I=null,R.forEach(function(ie){var le,J,G,ee,W,x,B=ie.type;B==="M"?(W=ie.values[0],x=ie.values[1],A.push({type:"M",values:[W,x]}),I=C=W,F=T=x):B==="m"?(W=I+ie.values[0],x=F+ie.values[1],A.push({type:"M",values:[W,x]}),I=C=W,F=T=x):B==="L"?(W=ie.values[0],x=ie.values[1],A.push({type:"L",values:[W,x]}),I=W,F=x):B==="l"?(W=I+ie.values[0],x=F+ie.values[1],A.push({type:"L",values:[W,x]}),I=W,F=x):B==="C"?(le=ie.values[0],J=ie.values[1],G=ie.values[2],ee=ie.values[3],W=ie.values[4],x=ie.values[5],A.push({type:"C",values:[le,J,G,ee,W,x]}),I=W,F=x):B==="c"?(le=I+ie.values[0],J=F+ie.values[1],G=I+ie.values[2],ee=F+ie.values[3],W=I+ie.values[4],x=F+ie.values[5],A.push({type:"C",values:[le,J,G,ee,W,x]}),I=W,F=x):B==="Q"?(le=ie.values[0],J=ie.values[1],W=ie.values[2],x=ie.values[3],A.push({type:"Q",values:[le,J,W,x]}),I=W,F=x):B==="q"?(le=I+ie.values[0],J=F+ie.values[1],W=I+ie.values[2],x=F+ie.values[3],A.push({type:"Q",values:[le,J,W,x]}),I=W,F=x):B==="A"?(W=ie.values[5],x=ie.values[6],A.push({type:"A",values:[ie.values[0],ie.values[1],ie.values[2],ie.values[3],ie.values[4],W,x]}),I=W,F=x):B==="a"?(W=I+ie.values[5],x=F+ie.values[6],A.push({type:"A",values:[ie.values[0],ie.values[1],ie.values[2],ie.values[3],ie.values[4],W,x]}),I=W,F=x):B==="H"?(W=ie.values[0],A.push({type:"H",values:[W]}),I=W):B==="h"?(W=I+ie.values[0],A.push({type:"H",values:[W]}),I=W):B==="V"?(x=ie.values[0],A.push({type:"V",values:[x]}),F=x):B==="v"?(x=F+ie.values[0],A.push({type:"V",values:[x]}),F=x):B==="S"?(G=ie.values[0],ee=ie.values[1],W=ie.values[2],x=ie.values[3],A.push({type:"S",values:[G,ee,W,x]}),I=W,F=x):B==="s"?(G=I+ie.values[0],ee=F+ie.values[1],W=I+ie.values[2],x=F+ie.values[3],A.push({type:"S",values:[G,ee,W,x]}),I=W,F=x):B==="T"?(W=ie.values[0],x=ie.values[1],A.push({type:"T",values:[W,x]}),I=W,F=x):B==="t"?(W=I+ie.values[0],x=F+ie.values[1],A.push({type:"T",values:[W,x]}),I=W,F=x):B!=="Z"&&B!=="z"||(A.push({type:"Z",values:[]}),I=C,F=T)}),A)),this[V]=m(M),M);if(this[K])return m(this[K]);var A,I,F,C,T,R=y(this.getAttribute("d")||"");return this[K]=m(R),R},a.SVGPathElement.prototype.setPathData=function(M){if(M.length===0)f?this.setAttribute("d",""):this.removeAttribute("d");else{for(var A="",I=0,F=M.length;I<F;I+=1){var C=M[I];0<I&&(A+=" "),A+=C.type,C.values&&0<C.values.length&&(A+=" "+C.values.join(" "))}this.setAttribute("d",A)}},a.SVGRectElement.prototype.getPathData=function(M){var A=this.x.baseVal.value,R=this.y.baseVal.value,I=this.width.baseVal.value,F=this.height.baseVal.value,C=(this.hasAttribute("rx")?this.rx:this.ry).baseVal.value,T=(this.hasAttribute("ry")?this.ry:this.rx).baseVal.value,R=(R=[{type:"M",values:[A+(C=I/2<C?I/2:C),R]},{type:"H",values:[A+I-C]},{type:"A",values:[C,T=F/2<T?F/2:T,0,0,1,A+I,R+T]},{type:"V",values:[R+F-T]},{type:"A",values:[C,T,0,0,1,A+I-C,R+F]},{type:"H",values:[A+C]},{type:"A",values:[C,T,0,0,1,A,R+F-T]},{type:"V",values:[R+T]},{type:"A",values:[C,T,0,0,1,A+C,R]},{type:"Z",values:[]}]).filter(function(ie){return ie.type!=="A"||ie.values[0]!==0&&ie.values[1]!==0});return R=M&&M.normalize===!0?E(R):R},a.SVGCircleElement.prototype.getPathData=function(M){var A=this.cx.baseVal.value,F=this.cy.baseVal.value,I=this.r.baseVal.value,F=[{type:"M",values:[A+I,F]},{type:"A",values:[I,I,0,0,1,A,F+I]},{type:"A",values:[I,I,0,0,1,A-I,F]},{type:"A",values:[I,I,0,0,1,A,F-I]},{type:"A",values:[I,I,0,0,1,A+I,F]},{type:"Z",values:[]}];return F=M&&M.normalize===!0?E(F):F},a.SVGEllipseElement.prototype.getPathData=function(M){var A=this.cx.baseVal.value,C=this.cy.baseVal.value,I=this.rx.baseVal.value,F=this.ry.baseVal.value,C=[{type:"M",values:[A+I,C]},{type:"A",values:[I,F,0,0,1,A,C+F]},{type:"A",values:[I,F,0,0,1,A-I,C]},{type:"A",values:[I,F,0,0,1,A,C-F]},{type:"A",values:[I,F,0,0,1,A+I,C]},{type:"Z",values:[]}];return C=M&&M.normalize===!0?E(C):C},a.SVGLineElement.prototype.getPathData=function(){return[{type:"M",values:[this.x1.baseVal.value,this.y1.baseVal.value]},{type:"L",values:[this.x2.baseVal.value,this.y2.baseVal.value]}]},a.SVGPolylineElement.prototype.getPathData=function(){for(var M=[],A=0;A<this.points.numberOfItems;A+=1){var I=this.points.getItem(A);M.push({type:A===0?"M":"L",values:[I.x,I.y]})}return M},a.SVGPolygonElement.prototype.getPathData=function(){for(var M=[],A=0;A<this.points.numberOfItems;A+=1){var I=this.points.getItem(A);M.push({type:A===0?"M":"L",values:[I.x,I.y]})}return M.push({type:"Z",values:[]}),M}}()},Wn=(z={},Mt.m=j=[function(a,l,u){u.r(l);var f=500,y=[],m=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(U){return setTimeout(U,1e3/60)},E=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(U){return clearTimeout(U)},L=Date.now(),O=void 0;function K(){var U=void 0,M=void 0;O&&(E.call(window,O),O=null),y.forEach(function(A){var I;(I=A.event)&&(A.event=null,A.listener(I),U=!0)}),U?(L=Date.now(),M=!0):Date.now()-L<f&&(M=!0),M&&(O=m.call(window,K))}function V(U){var M=-1;return y.some(function(A,I){return A.listener===U&&(M=I,!0)}),M}l.default={add:function(U){var M=void 0;return V(U)===-1?(y.push(M={listener:U}),function(A){M.event=A,O||K()}):null},remove:function(U){-1<(U=V(U))&&(y.splice(U,1),!y.length&&O&&(E.call(window,O),O=null))}}}],Mt.c=z,Mt.d=function(a,l,u){Mt.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:u})},Mt.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},Mt.t=function(a,l){if(1&l&&(a=Mt(a)),8&l||4&l&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(Mt.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),2&l&&typeof a!="string")for(var f in a)Mt.d(u,f,function(y){return a[y]}.bind(null,f));return u},Mt.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return Mt.d(l,"a",l),l},Mt.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},Mt.p="",Mt(Mt.s=0).default),Oi={line_altColor:{iniValue:!1},line_color:{},line_colorTra:{iniValue:!1},line_strokeWidth:{},plug_enabled:{iniValue:!1},plug_enabledSE:{hasSE:!0,iniValue:!1},plug_plugSE:{hasSE:!0,iniValue:fn},plug_colorSE:{hasSE:!0},plug_colorTraSE:{hasSE:!0,iniValue:!1},plug_markerWidthSE:{hasSE:!0},plug_markerHeightSE:{hasSE:!0},lineOutline_enabled:{iniValue:!1},lineOutline_color:{},lineOutline_colorTra:{iniValue:!1},lineOutline_strokeWidth:{},lineOutline_inStrokeWidth:{},plugOutline_enabledSE:{hasSE:!0,iniValue:!1},plugOutline_plugSE:{hasSE:!0,iniValue:fn},plugOutline_colorSE:{hasSE:!0},plugOutline_colorTraSE:{hasSE:!0,iniValue:!1},plugOutline_strokeWidthSE:{hasSE:!0},plugOutline_inStrokeWidthSE:{hasSE:!0},position_socketXYSE:{hasSE:!0,hasProps:!0},position_plugOverheadSE:{hasSE:!0},position_path:{},position_lineStrokeWidth:{},position_socketGravitySE:{hasSE:!0},path_pathData:{},path_edge:{hasProps:!0},viewBox_bBox:{hasProps:!0},viewBox_plugBCircleSE:{hasSE:!0},lineMask_enabled:{iniValue:!1},lineMask_outlineMode:{iniValue:!1},lineMask_x:{},lineMask_y:{},lineOutlineMask_x:{},lineOutlineMask_y:{},maskBGRect_x:{},maskBGRect_y:{},capsMaskAnchor_enabledSE:{hasSE:!0,iniValue:!1},capsMaskAnchor_pathDataSE:{hasSE:!0},capsMaskAnchor_strokeWidthSE:{hasSE:!0},capsMaskMarker_enabled:{iniValue:!1},capsMaskMarker_enabledSE:{hasSE:!0,iniValue:!1},capsMaskMarker_plugSE:{hasSE:!0,iniValue:fn},capsMaskMarker_markerWidthSE:{hasSE:!0},capsMaskMarker_markerHeightSE:{hasSE:!0},caps_enabled:{iniValue:!1},attach_plugSideLenSE:{hasSE:!0},attach_plugBackLenSE:{hasSE:!0}},ji={show_on:{},show_effect:{},show_animOptions:{},show_animId:{},show_inAnim:{}},Qi="fade",Mi=[],_t={},Lr=0,ct={},ds=0;function Mt(a){if(z[a])return z[a].exports;var l=z[a]={i:a,l:!1,exports:{}};return j[a].call(l.exports,l,l.exports,Mt),l.l=!0,l.exports}function ua(){var a=Date.now(),l=!1;_e&&(Fe.call(window,_e),_e=null),Re.forEach(function(u){var f,y,m;if(u.framesStart){if((f=a-u.framesStart)>=u.duration&&u.count&&u.loopsLeft<=1)return m=u.frames[u.lastFrame=u.reverse?0:u.frames.length-1],u.frameCallback(m.value,!0,m.timeRatio,m.outputRatio),void(u.framesStart=null);if(f>u.duration){if(y=Math.floor(f/u.duration),u.count){if(y>=u.loopsLeft)return m=u.frames[u.lastFrame=u.reverse?0:u.frames.length-1],u.frameCallback(m.value,!0,m.timeRatio,m.outputRatio),void(u.framesStart=null);u.loopsLeft-=y}u.framesStart+=u.duration*y,f=a-u.framesStart}u.reverse&&(f=u.duration-f),m=u.frames[u.lastFrame=Math.round(f/Ce)],u.frameCallback(m.value,!1,m.timeRatio,m.outputRatio)!==!1?l=!0:u.framesStart=null}}),l&&(_e=Le.call(window,ua))}function $r(a,l){a.framesStart=Date.now(),l!=null&&(a.framesStart-=a.duration*(a.reverse?1-l:l)),a.loopsLeft=a.count,a.lastFrame=null,ua()}function Hn(a,l){var u,f;return typeof a!=typeof l||(u=Cn(a)?"obj":Array.isArray(a)?"array":"")!=(Cn(l)?"obj":Array.isArray(l)?"array":"")||(u==="obj"?Hn(f=Object.keys(a).sort(),Object.keys(l).sort())||f.some(function(y){return Hn(a[y],l[y])}):u==="array"?a.length!==l.length||a.some(function(y,m){return Hn(y,l[m])}):a!==l)}function It(a){return a&&(Cn(a)?Object.keys(a).reduce(function(l,u){return l[u]=It(a[u]),l},{}):Array.isArray(a)?a.map(It):a)}function Ii(a){var l,u,f,y=1,m=a=(a+"").trim();function E(K){var O=1,K=Mr.exec(K);return K&&(O=parseFloat(K[1]),K[2]?O=0<=O&&O<=100?O/100:1:(O<0||1<O)&&(O=1)),O}return(l=/^(rgba|hsla|hwb|gray|device\-cmyk)\s*\(([\s\S]+)\)$/i.exec(a))?(u=l[1].toLowerCase(),f=l[2].trim().split(/\s*,\s*/),u==="rgba"&&f.length===4?(y=E(f[3]),m="rgb("+f.slice(0,3).join(", ")+")"):u==="hsla"&&f.length===4?(y=E(f[3]),m="hsl("+f.slice(0,3).join(", ")+")"):u==="hwb"&&f.length===4?(y=E(f[3]),m="hwb("+f.slice(0,3).join(", ")+")"):u==="gray"&&f.length===2?(y=E(f[1]),m="gray("+f[0]+")"):u==="device-cmyk"&&5<=f.length&&(y=E(f[4]),m="device-cmyk("+f.slice(0,4).join(", ")+")")):(l=/^\#(?:([\da-f]{6})([\da-f]{2})|([\da-f]{3})([\da-f]))$/i.exec(a))?m=l[1]?(y=parseInt(l[2],16)/255,"#"+l[1]):(y=parseInt(l[4]+l[4],16)/255,"#"+l[3]):a.toLocaleLowerCase()==="transparent"&&(y=0),[y,m]}function Li(a){return!(!a||a.nodeType!==Node.ELEMENT_NODE||typeof a.getBoundingClientRect!="function")}function Ji(a,l){var u,f,y,m={};if(!(y=a.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(a.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_DISCONNECTED)return console.error("A disconnected element was passed."),null;for(f in u=a.getBoundingClientRect())m[f]=u[f];if(!l){if(!(y=y.defaultView))return console.error("Cannot get window that contains the element."),null;m.left+=y.pageXOffset,m.right+=y.pageXOffset,m.top+=y.pageYOffset,m.bottom+=y.pageYOffset}return m}function er(a,l){var u,f=[],y=a;for(l=l||window;;){if(!(u=y.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(!(u=u.defaultView))return console.error("Cannot get window that contains the element."),null;if(u===l)break;if(!(y=u.frameElement))return console.error("`baseWindow` was not found."),null;f.unshift(y)}return f}function $i(a,l){var u=0,f=0;return(l=er(a,l=l||window))?l.length?(l.forEach(function(y,m){var E=Ji(y,0<m);u+=E.left,f+=E.top,y=(m=y).ownerDocument.defaultView.getComputedStyle(m,""),E={left:m.clientLeft+parseFloat(y.paddingLeft),top:m.clientTop+parseFloat(y.paddingTop)},u+=E.left,f+=E.top}),(l=Ji(a,!0)).left+=u,l.right+=u,l.top+=f,l.bottom+=f,l):Ji(a):null}function rn(a,f){var u=a.x-f.x,f=a.y-f.y;return Math.sqrt(u*u+f*f)}function Ti(a,y,u){var f=y.x-a.x,y=y.y-a.y;return{x:a.x+f*u,y:a.y+y*u,angle:Math.atan2(y,f)/(Math.PI/180)}}function oi(a,l,u){return a=Math.atan2(a.y-l.y,l.x-a.x),{x:l.x+Math.cos(a)*u,y:l.y+Math.sin(a)*u*-1}}function li(A,I,u,C,F){var M=F*F,U=M*F,m=1-F,V=m*m,K=V*m,E=K*A.x+3*V*F*I.x+3*m*M*u.x+U*C.x,L=K*A.y+3*V*F*I.y+3*m*M*u.y+U*C.y,O=A.x+2*F*(I.x-A.x)+M*(u.x-2*I.x+A.x),K=A.y+2*F*(I.y-A.y)+M*(u.y-2*I.y+A.y),V=I.x+2*F*(u.x-I.x)+M*(C.x-2*u.x+I.x),U=I.y+2*F*(u.y-I.y)+M*(C.y-2*u.y+I.y),M=m*A.x+F*I.x,A=m*A.y+F*I.y,I=m*u.x+F*C.x,F=m*u.y+F*C.y,C=90-180*Math.atan2(O-V,K-U)/Math.PI;return{x:E,y:L,fromP2:{x:O,y:K},toP1:{x:V,y:U},fromP1:{x:M,y:A},toP2:{x:I,y:F},angle:C+=180<C?-180:180}}function Yn(a,l,u,f,y){function m(U,M,A,I,F){return U*(U*(-3*M+9*A-9*I+3*F)+6*M-12*A+6*I)-3*M+3*A}var E,L,O=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],K=0,V=(y=y==null||1<y?1:y<0?0:y)/2;return[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].forEach(function(U,M){E=m(L=V*U+V,a.x,l.x,u.x,f.x),L=m(L,a.y,l.y,u.y,f.y),L=E*E+L*L,K+=O[M]*Math.sqrt(L)}),V*K}function Tr(a,l,u,f,y){for(var m,E=.5,L=1-E;m=Yn(a,l,u,f,L),!(Math.abs(m-y)<=.01);)L+=(m<y?1:-1)*(E/=2);return L}function Rr(a,l){var u;return a.forEach(function(f){f=l?f.map(function(y){return y={x:y.x,y:y.y},l(y),y}):f,(u=u||[{type:"M",values:[f[0].x,f[0].y]}]).push(f.length?f.length===2?{type:"L",values:[f[1].x,f[1].y]}:{type:"C",values:[f[1].x,f[1].y,f[2].x,f[2].y,f[3].x,f[3].y]}:{type:"Z",values:[]})}),u}function ca(a){var l=[],u=0;return a.forEach(function(f){f=(f.length===2?rn:Yn).apply(null,f),l.push(f),u+=f}),{segsLen:l,lenAll:u}}function tr(a,l){return a==null||l==null||a.length!==l.length||a.some(function(u,f){var y=l[f];return u.type!==y.type||u.values.some(function(m,E){return m!==y.values[E]})})}function ht(a,l,u){a.events[l]?a.events[l].indexOf(u)<0&&a.events[l].push(u):a.events[l]=[u]}function ft(a,l,u){var f;a.events[l]&&-1<(f=a.events[l].indexOf(u))&&a.events[l].splice(f,1)}function ui(a){_&&clearTimeout(_),Mi.push(a),_=setTimeout(function(){Mi.forEach(function(l){l()}),Mi=[]},0)}function st(a,l){a.reflowTargets.indexOf(l)<0&&a.reflowTargets.push(l)}function Pr(a){a.reflowTargets.forEach(function(l){var u;u=l,setTimeout(function(){var f=u.parentNode,y=u.nextSibling;f.insertBefore(f.removeChild(u),y)},0)}),a.reflowTargets=[]}function ha(a,l,u,f,y,m,E){var L;u==="auto-start-reverse"?(typeof b!="boolean"&&(l.setAttribute("orient","auto-start-reverse"),b=l.orientType.baseVal===SVGMarkerElement.SVG_MARKER_ORIENT_UNKNOWN),b?l.setAttribute("orient",u):((L=y.createSVGTransform()).setRotate(180,0,0),m.transform.baseVal.appendItem(L),l.setAttribute("orient","auto"),L=!0)):(l.setAttribute("orient",u),b===!1&&m.transform.baseVal.clear()),l=l.viewBox.baseVal,L?(l.x=-f.right,l.y=-f.bottom):(l.x=f.left,l.y=f.top),l.width=f.width,l.height=f.height,St&&st(a,E)}function fa(a,l){return{prop:a?"markerEnd":"markerStart",orient:l?l.noRotate?"0":a?"auto":"auto-start-reverse":null}}function bt(a,l){Object.keys(l).forEach(function(u){var f=l[u];a[u]=f.iniValue!=null?f.hasSE?[f.iniValue,f.iniValue]:f.iniValue:f.hasSE?f.hasProps?[{},{}]:[]:f.hasProps?{}:null})}function ce(a,l,u,f,y){return f!==l[u]&&(l[u]=f,y&&y.forEach(function(m){m(a,f,u)}),!0)}function da(f){function l(m,E){return m+parseFloat(E)}var y=f.document,u=f.getComputedStyle(y.documentElement,""),f=f.getComputedStyle(y.body,""),y={x:0,y:0};return f.position!=="static"?(y.x-=[u.marginLeft,u.borderLeftWidth,u.paddingLeft,f.marginLeft,f.borderLeftWidth].reduce(l,0),y.y-=[u.marginTop,u.borderTopWidth,u.paddingTop,f.marginTop,f.borderTopWidth].reduce(l,0)):u.position!=="static"&&(y.x-=[u.marginLeft,u.borderLeftWidth].reduce(l,0),y.y-=[u.marginTop,u.borderTopWidth].reduce(l,0)),y}function pa(a){var l,u=a.document;u.getElementById(zi)||(l=new a.DOMParser().parseFromString(dn,"image/svg+xml"),u.body.appendChild(l.documentElement),Ir(a))}function nr(a){var l,u,f,y,m,E,L,O,K,V,U,M,A,I,F=a.options,C=a.curStats,T=a.aplStats,R=C.position_socketXYSE,ie=!1;function le(G,ee){return G=ee===Wt?{x:G.left+G.width/2,y:G.top}:ee===Xt?{x:G.right,y:G.top+G.height/2}:ee===Nn?{x:G.left+G.width/2,y:G.bottom}:{x:G.left,y:G.top+G.height/2},G.socketId=ee,G}function J(G){return{x:G.x,y:G.y}}if(C.position_path=F.path,C.position_lineStrokeWidth=C.line_strokeWidth,C.position_socketGravitySE=l=It(F.socketGravitySE),u=[0,1].map(function(G){var ee=F.anchorSE[G],W=a.optionIsAttach.anchorSE[G],x=W!==!1?ct[ee._id]:null,B=W!==!1&&x.conf.getStrokeWidth?x.conf.getStrokeWidth(x,a):0,Q=W!==!1&&x.conf.getBBoxNest?x.conf.getBBoxNest(x,a,B):$i(ee,a.baseWindow);return C.capsMaskAnchor_pathDataSE[G]=W!==!1&&x.conf.getPathData?x.conf.getPathData(x,a,B):(W=(ee=Q).right!=null?ee.right:ee.left+ee.width,x=ee.bottom!=null?ee.bottom:ee.top+ee.height,[{type:"M",values:[ee.left,ee.top]},{type:"L",values:[W,ee.top]},{type:"L",values:[W,x]},{type:"L",values:[ee.left,x]},{type:"Z",values:[]}]),C.capsMaskAnchor_strokeWidthSE[G]=B,Q}),L=-1,F.socketSE[0]&&F.socketSE[1]?(R[0]=le(u[0],F.socketSE[0]),R[1]=le(u[1],F.socketSE[1])):(F.socketSE[0]||F.socketSE[1]?(E=F.socketSE[0]?(m=0,1):(m=1,0),R[m]=le(u[m],F.socketSE[m]),(y=Bn.map(function(G){return le(u[E],G)})).forEach(function(G){var ee=rn(G,R[m]);(ee<L||L===-1)&&(R[E]=G,L=ee)})):(y=Bn.map(function(G){return le(u[1],G)}),Bn.map(function(G){return le(u[0],G)}).forEach(function(G){y.forEach(function(ee){var W=rn(G,ee);(W<L||L===-1)&&(R[0]=G,R[1]=ee,L=W)})})),[0,1].forEach(function(G){var ee,W;F.socketSE[G]||(u[G].width||u[G].height?u[G].width||R[G].socketId!==En&&R[G].socketId!==Xt?u[G].height||R[G].socketId!==Wt&&R[G].socketId!==Nn||(R[G].socketId=0<=R[G?0:1].y-u[G].top?Nn:Wt):R[G].socketId=0<=R[G?0:1].x-u[G].left?Xt:En:(ee=R[G?0:1].x-u[G].left,W=R[G?0:1].y-u[G].top,R[G].socketId=Math.abs(ee)>=Math.abs(W)?0<=ee?Xt:En:0<=W?Nn:Wt))})),C.position_path!==T.position_path||C.position_lineStrokeWidth!==T.position_lineStrokeWidth||[0,1].some(function(G){return C.position_plugOverheadSE[G]!==T.position_plugOverheadSE[G]||(ee=R[G],W=T.position_socketXYSE[G],ee.x!==W.x||ee.y!==W.y||ee.socketId!==W.socketId)||(ee=l[G],W=T.position_socketGravitySE[G],(G=ee==null?"auto":Array.isArray(ee)?"array":"number")!=(W==null?"auto":Array.isArray(W)?"array":"number")||(G=="array"?ee[0]!==W[0]||ee[1]!==W[1]:ee!==W));var ee,W})){switch(a.pathList.baseVal=f=[],a.pathList.animVal=null,C.position_path){case aa:f.push([J(R[0]),J(R[1])]);break;case kr:M=typeof l[0]=="number"&&0<l[0]||typeof l[1]=="number"&&0<l[1],A=An*(M?-1:1),I=Math.atan2(R[1].y-R[0].y,R[1].x-R[0].x),M=A-I,I=Math.PI-I-A,A=rn(R[0],R[1])/Math.sqrt(2)*Xi,M={x:R[0].x+Math.cos(M)*A,y:R[0].y+Math.sin(M)*A*-1},A={x:R[1].x+Math.cos(I)*A,y:R[1].y+Math.sin(I)*A*-1},f.push([J(R[0]),M,A,J(R[1])]);break;case Ar:case Cr:K=[l[0],C.position_path===Cr?0:l[1]],V=[],U=[],R.forEach(function(G,ee){var W,x=K[ee],B=Array.isArray(x)?{x:x[0],y:x[1]}:typeof x=="number"?G.socketId===Wt?{x:0,y:-x}:G.socketId===Xt?{x,y:0}:G.socketId===Nn?{x:0,y:x}:{x:-x,y:0}:(W=R[ee?0:1],x=0<(x=C.position_plugOverheadSE[ee])?Zi+(Ci<x?(x-Ci)*oa:0):Ai+(C.position_lineStrokeWidth>si?(C.position_lineStrokeWidth-si)*fs:0),G.socketId===Wt?{x:0,y:-(B=(B=(G.y-W.y)/2)<x?x:B)}:G.socketId===Xt?{x:B=(B=(W.x-G.x)/2)<x?x:B,y:0}:G.socketId===Nn?{x:0,y:B=(B=(W.y-G.y)/2)<x?x:B}:{x:-(B=(B=(G.x-W.x)/2)<x?x:B),y:0});V[ee]=G.x+B.x,U[ee]=G.y+B.y}),f.push([J(R[0]),{x:V[0],y:U[0]},{x:V[1],y:U[1]},J(R[1])]);break;case Dn:(function(){var G,ee=1,W=2,x=3,B=4,Q=[[],[]],N=[];function se(ue){return ue===ee?x:ue===W?B:ue===x?ee:W}function oe(ue){return ue===W||ue===B?"x":"y"}function Oe(ue,X,Ie){var he={x:ue.x,y:ue.y};if(Ie){if(Ie===se(ue.dirId))throw new Error("Invalid dirId: "+Ie);he.dirId=Ie}else he.dirId=ue.dirId;return he.dirId===ee?he.y-=X:he.dirId===W?he.x+=X:he.dirId===x?he.y+=X:he.x-=X,he}function De(ue,X){return X.dirId===ee?ue.y<=X.y:X.dirId===W?ue.x>=X.x:X.dirId===x?ue.y>=X.y:ue.x<=X.x}function be(ue,X){return X.dirId===ee||X.dirId===x?ue.x===X.x:ue.y===X.y}function Me(ue){return ue[0]?{contain:0,notContain:1}:{contain:1,notContain:0}}function ye(ue,X,Ie){return Math.abs(X[Ie]-ue[Ie])}function pe(ue,X,Ie){return Ie==="x"?ue.x<X.x?W:B:ue.y<X.y?x:ee}for(R.forEach(function(ue,X){var Ie=J(ue),he=l[X];ue=Array.isArray(he)?he[0]<0?[B,-he[0]]:0<he[0]?[W,he[0]]:he[1]<0?[ee,-he[1]]:0<he[1]?[x,he[1]]:[ue.socketId,0]:typeof he!="number"?[ue.socketId,Ft]:0<=he?[ue.socketId,he]:[se(ue.socketId),-he],Ie.dirId=ue[0],he=ue[1],Q[X].push(Ie),N[X]=Oe(Ie,he)});function(){var ue,X,Ie,he,$e=[De(N[1],N[0]),De(N[0],N[1])],et=[oe(N[0].dirId),oe(N[1].dirId)];if(et[0]===et[1]){if($e[0]&&$e[1])return void(be(N[1],N[0])||(N[0][et[0]]===N[1][et[1]]?(Q[0].push(N[0]),Q[1].push(N[1])):(ue=N[0][et[0]]+(N[1][et[1]]-N[0][et[0]])/2,Q[0].push(Oe(N[0],Math.abs(ue-N[0][et[0]]))),Q[1].push(Oe(N[1],Math.abs(ue-N[1][et[1]]))))));$e[0]!==$e[1]?(X=Me($e),(Ie=ye(N[X.notContain],N[X.contain],et[X.notContain]))<Ft&&(N[X.notContain]=Oe(N[X.notContain],Ft-Ie)),Q[X.notContain].push(N[X.notContain]),N[X.notContain]=Oe(N[X.notContain],Ft,be(N[X.contain],N[X.notContain])?et[X.notContain]==="x"?x:W:pe(N[X.notContain],N[X.contain],et[X.notContain]==="x"?"y":"x"))):(Ie=ye(N[0],N[1],et[0]==="x"?"y":"x"),Q.forEach(function(Kn,rt){var ze=rt===0?1:0;Kn.push(N[rt]),N[rt]=Oe(N[rt],Ft,2*Ft<=Ie?pe(N[rt],N[ze],et[rt]==="x"?"y":"x"):et[rt]==="x"?x:W)}))}else{if($e[0]&&$e[1])return void(be(N[1],N[0])?Q[1].push(N[1]):be(N[0],N[1])?Q[0].push(N[0]):Q[0].push(et[0]==="x"?{x:N[1].x,y:N[0].y}:{x:N[0].x,y:N[1].y}));$e[0]!==$e[1]?(X=Me($e),Q[X.notContain].push(N[X.notContain]),N[X.notContain]=Oe(N[X.notContain],Ft,ye(N[X.notContain],N[X.contain],et[X.contain])>=Ft?pe(N[X.notContain],N[X.contain],et[X.contain]):N[X.contain].dirId)):(he=[{x:N[0].x,y:N[0].y},{x:N[1].x,y:N[1].y}],Q.forEach(function(Kn,rt){var ze=rt===0?1:0,q=ye(he[rt],he[ze],et[rt]);q<Ft&&(N[rt]=Oe(N[rt],Ft-q)),Kn.push(N[rt]),N[rt]=Oe(N[rt],Ft,pe(N[rt],N[ze],et[ze]))}))}return 1}(););Q[1].reverse(),Q[0].concat(Q[1]).forEach(function(ue,X){ue={x:ue.x,y:ue.y},0<X&&f.push([G,ue]),G=ue})})()}O=[],C.position_plugOverheadSE.forEach(function(G,ee){var W,x,B,Q,N,se,oe,Oe,De,be=!ee;0<G?(W=f[x=be?0:f.length-1]).length===2?(O[x]=O[x]||rn.apply(null,W),O[x]>Ct&&(O[x]-G<Ct&&(G=O[x]-Ct),oe=Ti(W[0],W[1],(be?G:O[x]-G)/O[x]),f[x]=be?[oe,W[1]]:[W[0],oe],O[x]-=G)):(O[x]=O[x]||Yn.apply(null,W),O[x]>Ct&&(O[x]-G<Ct&&(G=O[x]-Ct),oe=li(W[0],W[1],W[2],W[3],Tr(W[0],W[1],W[2],W[3],be?G:O[x]-G)),Q=be?(B=W[0],oe.toP1):(B=W[3],oe.fromP2),N=Math.atan2(B.y-oe.y,oe.x-B.x),se=rn(oe,Q),oe.x=B.x+Math.cos(N)*G,oe.y=B.y+Math.sin(N)*G*-1,Q.x=oe.x+Math.cos(N)*se,Q.y=oe.y+Math.sin(N)*se*-1,f[x]=be?[oe,oe.toP1,oe.toP2,W[3]]:[W[0],oe.fromP1,oe.fromP2,oe],O[x]=null)):G<0&&(W=f[x=be?0:f.length-1],oe=R[ee].socketId,ee=-u[ee][(Oe=oe===En||oe===Xt?"x":"y")=="x"?"width":"height"],De=(G=G<ee?ee:G)*(oe===En||oe===Wt?-1:1),W.length===2?W[be?0:W.length-1][Oe]+=De:(be?[0,1]:[W.length-2,W.length-1]).forEach(function(Me){W[Me][Oe]+=De}),O[x]=null)}),T.position_socketXYSE=It(R),T.position_plugOverheadSE=It(C.position_plugOverheadSE),T.position_path=C.position_path,T.position_lineStrokeWidth=C.position_lineStrokeWidth,T.position_socketGravitySE=It(l),ie=!0,a.events.apl_position&&a.events.apl_position.forEach(function(G){G(a,f)})}return ie}function ci(a,l){l!==a.isShown&&(!!l!=!!a.isShown&&(a.svg.style.visibility=l?"":"hidden"),a.isShown=l,a.events&&a.events.svgShow&&a.events.svgShow.forEach(function(u){u(a,l)}))}function Lt(a,l){var u,f,y,m,E,L,O,K,V,U,M,A,I,F,C,T,R,ie,le,J,G,ee,W,x,B,Q,N,se,oe,Oe,De,be,Me,ye,pe,ue,X,Ie,he,$e,et,Kn,rt,ze={};l.line&&(ze.line=(K=(u=a).options,f=u.curStats,V=u.events,U=!1,U=ce(u,f,"line_color",K.lineColor,V.cur_line_color)||U,U=ce(u,f,"line_colorTra",Ii(f.line_color)[0]<1)||U,U=ce(u,f,"line_strokeWidth",K.lineSize,V.cur_line_strokeWidth)||U)),(l.plug||ze.line)&&(ze.plug=(m=(y=a).options,E=y.curStats,L=y.events,O=!1,[0,1].forEach(function(q){var Ae,Ze,qt,Be,jt,On,sr,Mn,$t=m.plugSE[q];O=ce(y,E.plug_enabledSE,q,$t!==fn)||O,O=ce(y,E.plug_plugSE,q,$t)||O,O=ce(y,E.plug_colorSE,q,Mn=m.plugColorSE[q]||E.line_color,L.cur_plug_colorSE)||O,O=ce(y,E.plug_colorTraSE,q,Ii(Mn)[0]<1)||O,$t!==fn&&(Be=Ze=(Ae=Yi[Ki[$t]]).widthR*m.plugSizeSE[q],jt=qt=Ae.heightR*m.plugSizeSE[q],at&&(Be*=E.line_strokeWidth,jt*=E.line_strokeWidth),O=ce(y,E.plug_markerWidthSE,q,Be)||O,O=ce(y,E.plug_markerHeightSE,q,jt)||O,E.capsMaskMarker_markerWidthSE[q]=Ze,E.capsMaskMarker_markerHeightSE[q]=qt),E.plugOutline_plugSE[q]=E.capsMaskMarker_plugSE[q]=$t,E.plug_enabledSE[q]?(Mn=E.line_strokeWidth/yt.lineSize*m.plugSizeSE[q],E.position_plugOverheadSE[q]=Ae.overhead*Mn,E.viewBox_plugBCircleSE[q]=Ae.bCircle*Mn,On=Ae.sideLen*Mn,sr=Ae.backLen*Mn):(E.position_plugOverheadSE[q]=-E.line_strokeWidth/2,E.viewBox_plugBCircleSE[q]=On=sr=0),ce(y,E.attach_plugSideLenSE,q,On,L.cur_attach_plugSideLenSE),ce(y,E.attach_plugBackLenSE,q,sr,L.cur_attach_plugBackLenSE),E.capsMaskAnchor_enabledSE[q]=!E.plug_enabledSE[q]}),O=ce(y,E,"plug_enabled",E.plug_enabledSE[0]||E.plug_enabledSE[1])||O)),(l.lineOutline||ze.line)&&(ze.lineOutline=(V=(K=a).options,U=K.curStats,W=!1,W=ce(K,U,"lineOutline_enabled",V.lineOutlineEnabled)||W,W=ce(K,U,"lineOutline_color",V.lineOutlineColor)||W,W=ce(K,U,"lineOutline_colorTra",Ii(U.lineOutline_color)[0]<1)||W,V=U.line_strokeWidth*V.lineOutlineSize,W=ce(K,U,"lineOutline_strokeWidth",U.line_strokeWidth-2*V)||W,W=ce(K,U,"lineOutline_inStrokeWidth",U.lineOutline_colorTra?U.lineOutline_strokeWidth+2*la:U.line_strokeWidth-V)||W)),(l.plugOutline||ze.line||ze.plug||ze.lineOutline)&&(ze.plugOutline=(A=(M=a).options,I=M.curStats,F=!1,[0,1].forEach(function(q){var Ae=I.plugOutline_plugSE[q],Ze=Ae!==fn?Yi[Ki[Ae]]:null;F=ce(M,I.plugOutline_enabledSE,q,A.plugOutlineEnabledSE[q]&&I.plug_enabled&&I.plug_enabledSE[q]&&!!Ze&&!!Ze.outlineBase)||F,F=ce(M,I.plugOutline_colorSE,q,Ae=A.plugOutlineColorSE[q]||I.lineOutline_color)||F,F=ce(M,I.plugOutline_colorTraSE,q,Ii(Ae)[0]<1)||F,Ze&&Ze.outlineBase&&((Ae=A.plugOutlineSizeSE[q])>Ze.outlineMax&&(Ae=Ze.outlineMax),Ae*=2*Ze.outlineBase,F=ce(M,I.plugOutline_strokeWidthSE,q,Ae)||F,F=ce(M,I.plugOutline_inStrokeWidthSE,q,I.plugOutline_colorTraSE[q]?Ae-la/(I.line_strokeWidth/yt.lineSize)/A.plugSizeSE[q]*2:Ae/2)||F)}),F)),(l.faces||ze.line||ze.plug||ze.lineOutline||ze.plugOutline)&&(ze.faces=(R=(C=a).curStats,ie=C.aplStats,le=C.events,J=!1,!R.line_altColor&&ce(C,ie,"line_color",T=R.line_color,le.apl_line_color)&&(C.lineFace.style.stroke=T,J=!0),ce(C,ie,"line_strokeWidth",T=R.line_strokeWidth,le.apl_line_strokeWidth)&&(C.lineShape.style.strokeWidth=T+"px",J=!0,(Ot||St)&&(st(C,C.lineShape),St&&(st(C,C.lineFace),st(C,C.lineMaskCaps)))),ce(C,ie,"lineOutline_enabled",T=R.lineOutline_enabled,le.apl_lineOutline_enabled)&&(C.lineOutlineFace.style.display=T?"inline":"none",J=!0),R.lineOutline_enabled&&(ce(C,ie,"lineOutline_color",T=R.lineOutline_color,le.apl_lineOutline_color)&&(C.lineOutlineFace.style.stroke=T,J=!0),ce(C,ie,"lineOutline_strokeWidth",T=R.lineOutline_strokeWidth,le.apl_lineOutline_strokeWidth)&&(C.lineOutlineMaskShape.style.strokeWidth=T+"px",J=!0,St&&(st(C,C.lineOutlineMaskCaps),st(C,C.lineOutlineFace))),ce(C,ie,"lineOutline_inStrokeWidth",T=R.lineOutline_inStrokeWidth,le.apl_lineOutline_inStrokeWidth)&&(C.lineMaskShape.style.strokeWidth=T+"px",J=!0,St&&(st(C,C.lineOutlineMaskCaps),st(C,C.lineOutlineFace)))),ce(C,ie,"plug_enabled",T=R.plug_enabled,le.apl_plug_enabled)&&(C.plugsFace.style.display=T?"inline":"none",J=!0),R.plug_enabled&&[0,1].forEach(function(q){var Ae=R.plug_plugSE[q],Ze=Ae!==fn?Yi[Ki[Ae]]:null,qt=fa(q,Ze);ce(C,ie.plug_enabledSE,q,T=R.plug_enabledSE[q],le.apl_plug_enabledSE)&&(C.plugsFace.style[qt.prop]=T?"url(#"+C.plugMarkerIdSE[q]+")":"none",J=!0),R.plug_enabledSE[q]&&(ce(C,ie.plug_plugSE,q,Ae,le.apl_plug_plugSE)&&(C.plugFaceSE[q].href.baseVal="#"+Ze.elmId,ha(C,C.plugMarkerSE[q],qt.orient,Ze.bBox,C.svg,C.plugMarkerShapeSE[q],C.plugsFace),J=!0,Ot&&st(C,C.plugsFace)),ce(C,ie.plug_colorSE,q,T=R.plug_colorSE[q],le.apl_plug_colorSE)&&(C.plugFaceSE[q].style.fill=T,J=!0,(_n||at||St)&&!R.line_colorTra&&st(C,St?C.lineMaskCaps:C.capsMaskLine)),["markerWidth","markerHeight"].forEach(function(Be){var jt="plug_"+Be+"SE";ce(C,ie[jt],q,T=R[jt][q],le["apl_"+jt])&&(C.plugMarkerSE[q][Be].baseVal.value=T,J=!0)}),ce(C,ie.plugOutline_enabledSE,q,T=R.plugOutline_enabledSE[q],le.apl_plugOutline_enabledSE)&&(T?(C.plugFaceSE[q].style.mask="url(#"+C.plugMaskIdSE[q]+")",C.plugOutlineFaceSE[q].style.display="inline"):(C.plugFaceSE[q].style.mask="none",C.plugOutlineFaceSE[q].style.display="none"),J=!0),R.plugOutline_enabledSE[q]&&(ce(C,ie.plugOutline_plugSE,q,Ae,le.apl_plugOutline_plugSE)&&(C.plugOutlineFaceSE[q].href.baseVal=C.plugMaskShapeSE[q].href.baseVal=C.plugOutlineMaskShapeSE[q].href.baseVal="#"+Ze.elmId,[C.plugMaskSE[q],C.plugOutlineMaskSE[q]].forEach(function(Be){Be.x.baseVal.value=Ze.bBox.left,Be.y.baseVal.value=Ze.bBox.top,Be.width.baseVal.value=Ze.bBox.width,Be.height.baseVal.value=Ze.bBox.height}),J=!0),ce(C,ie.plugOutline_colorSE,q,T=R.plugOutline_colorSE[q],le.apl_plugOutline_colorSE)&&(C.plugOutlineFaceSE[q].style.fill=T,J=!0,St&&(st(C,C.lineMaskCaps),st(C,C.lineOutlineMaskCaps))),ce(C,ie.plugOutline_strokeWidthSE,q,T=R.plugOutline_strokeWidthSE[q],le.apl_plugOutline_strokeWidthSE)&&(C.plugOutlineMaskShapeSE[q].style.strokeWidth=T+"px",J=!0),ce(C,ie.plugOutline_inStrokeWidthSE,q,T=R.plugOutline_inStrokeWidthSE[q],le.apl_plugOutline_inStrokeWidthSE)&&(C.plugMaskShapeSE[q].style.strokeWidth=T+"px",J=!0)))}),J)),(l.position||ze.line||ze.plug)&&(ze.position=nr(a)),(l.path||ze.position)&&(ze.path=(W=(G=a).curStats,N=G.aplStats,Q=G.pathList.animVal||G.pathList.baseVal,x=W.path_edge,se=!1,Q&&(x.x1=x.x2=Q[0][0].x,x.y1=x.y2=Q[0][0].y,W.path_pathData=ee=Rr(Q,function(q){q.x<x.x1&&(x.x1=q.x),q.y<x.y1&&(x.y1=q.y),q.x>x.x2&&(x.x2=q.x),q.y>x.y2&&(x.y2=q.y)}),tr(ee,N.path_pathData)&&(G.linePath.setPathData(ee),N.path_pathData=ee,se=!0,St?(st(G,G.plugsFace),st(G,G.lineMaskCaps)):Ot&&st(G,G.linePath),G.events.apl_path&&G.events.apl_path.forEach(function(q){q(G,ee)}))),se)),ze.viewBox=(Q=(B=a).curStats,N=B.aplStats,se=Q.path_edge,oe=Q.viewBox_bBox,Oe=N.viewBox_bBox,De=B.svg.viewBox.baseVal,be=B.svg.style,Me=!1,N=Math.max(Q.line_strokeWidth/2,Q.viewBox_plugBCircleSE[0]||0,Q.viewBox_plugBCircleSE[1]||0),ye={x1:se.x1-N,y1:se.y1-N,x2:se.x2+N,y2:se.y2+N},B.events.new_edge4viewBox&&B.events.new_edge4viewBox.forEach(function(q){q(B,ye)}),oe.x=Q.lineMask_x=Q.lineOutlineMask_x=Q.maskBGRect_x=ye.x1,oe.y=Q.lineMask_y=Q.lineOutlineMask_y=Q.maskBGRect_y=ye.y1,oe.width=ye.x2-ye.x1,oe.height=ye.y2-ye.y1,["x","y","width","height"].forEach(function(q){var Ae;(Ae=oe[q])!==Oe[q]&&(De[q]=Oe[q]=Ae,be[sa[q]]=Ae+(q==="x"||q==="y"?B.bodyOffset[q]:0)+"px",Me=!0)}),Me),ze.mask=(X=(pe=a).curStats,Ie=pe.aplStats,he=!1,X.plug_enabled?[0,1].forEach(function(q){X.capsMaskMarker_enabledSE[q]=X.plug_enabledSE[q]&&X.plug_colorTraSE[q]||X.plugOutline_enabledSE[q]&&X.plugOutline_colorTraSE[q]}):X.capsMaskMarker_enabledSE[0]=X.capsMaskMarker_enabledSE[1]=!1,X.capsMaskMarker_enabled=X.capsMaskMarker_enabledSE[0]||X.capsMaskMarker_enabledSE[1],X.lineMask_outlineMode=X.lineOutline_enabled,X.caps_enabled=X.capsMaskMarker_enabled||X.capsMaskAnchor_enabledSE[0]||X.capsMaskAnchor_enabledSE[1],X.lineMask_enabled=X.caps_enabled||X.lineMask_outlineMode,(X.lineMask_enabled&&!X.lineMask_outlineMode||X.lineOutline_enabled)&&["x","y"].forEach(function(q){var Ae="maskBGRect_"+q;ce(pe,Ie,Ae,ue=X[Ae])&&(pe.maskBGRect[q].baseVal.value=ue,he=!0)}),ce(pe,Ie,"lineMask_enabled",ue=X.lineMask_enabled)&&(pe.lineFace.style.mask=ue?"url(#"+pe.lineMaskId+")":"none",he=!0,at&&st(pe,pe.lineMask)),X.lineMask_enabled&&(ce(pe,Ie,"lineMask_outlineMode",ue=X.lineMask_outlineMode)&&(ue?(pe.lineMaskBG.style.display="none",pe.lineMaskShape.style.display="inline"):(pe.lineMaskBG.style.display="inline",pe.lineMaskShape.style.display="none"),he=!0),["x","y"].forEach(function(q){var Ae="lineMask_"+q;ce(pe,Ie,Ae,ue=X[Ae])&&(pe.lineMask[q].baseVal.value=ue,he=!0)}),ce(pe,Ie,"caps_enabled",ue=X.caps_enabled)&&(pe.lineMaskCaps.style.display=pe.lineOutlineMaskCaps.style.display=ue?"inline":"none",he=!0,at&&st(pe,pe.capsMaskLine)),X.caps_enabled&&([0,1].forEach(function(q){var Ae;ce(pe,Ie.capsMaskAnchor_enabledSE,q,ue=X.capsMaskAnchor_enabledSE[q])&&(pe.capsMaskAnchorSE[q].style.display=ue?"inline":"none",he=!0,at&&st(pe,pe.lineMask)),X.capsMaskAnchor_enabledSE[q]&&(tr(Ae=X.capsMaskAnchor_pathDataSE[q],Ie.capsMaskAnchor_pathDataSE[q])&&(pe.capsMaskAnchorSE[q].setPathData(Ae),Ie.capsMaskAnchor_pathDataSE[q]=Ae,he=!0),ce(pe,Ie.capsMaskAnchor_strokeWidthSE,q,ue=X.capsMaskAnchor_strokeWidthSE[q])&&(pe.capsMaskAnchorSE[q].style.strokeWidth=ue+"px",he=!0))}),ce(pe,Ie,"capsMaskMarker_enabled",ue=X.capsMaskMarker_enabled)&&(pe.capsMaskLine.style.display=ue?"inline":"none",he=!0),X.capsMaskMarker_enabled&&[0,1].forEach(function(q){var Ae=X.capsMaskMarker_plugSE[q],Ze=Ae!==fn?Yi[Ki[Ae]]:null,qt=fa(q,Ze);ce(pe,Ie.capsMaskMarker_enabledSE,q,ue=X.capsMaskMarker_enabledSE[q])&&(pe.capsMaskLine.style[qt.prop]=ue?"url(#"+pe.lineMaskMarkerIdSE[q]+")":"none",he=!0),X.capsMaskMarker_enabledSE[q]&&(ce(pe,Ie.capsMaskMarker_plugSE,q,Ae)&&(pe.capsMaskMarkerShapeSE[q].href.baseVal="#"+Ze.elmId,ha(pe,pe.capsMaskMarkerSE[q],qt.orient,Ze.bBox,pe.svg,pe.capsMaskMarkerShapeSE[q],pe.capsMaskLine),he=!0,Ot&&(st(pe,pe.capsMaskLine),st(pe,pe.lineFace))),["markerWidth","markerHeight"].forEach(function(Be){var jt="capsMaskMarker_"+Be+"SE";ce(pe,Ie[jt],q,ue=X[jt][q])&&(pe.capsMaskMarkerSE[q][Be].baseVal.value=ue,he=!0)}))}))),X.lineOutline_enabled&&["x","y"].forEach(function(q){var Ae="lineOutlineMask_"+q;ce(pe,Ie,Ae,ue=X[Ae])&&(pe.lineOutlineMask[q].baseVal.value=ue,he=!0)}),he),l.effect&&(Kn=($e=a).curStats,rt=$e.aplStats,Object.keys(t).forEach(function(Be){var Ae=t[Be],Ze=Be+"_enabled",qt=Be+"_options",Be=Kn[qt];ce($e,rt,Ze,et=Kn[Ze])?(et&&(rt[qt]=It(Be)),Ae[et?"init":"remove"]($e)):et&&Hn(Be,rt[qt])&&(Ae.remove($e),rt[Ze]=!0,rt[qt]=It(Be),Ae.init($e))})),(_n||at)&&ze.line&&!ze.path&&st(a,a.lineShape),_n&&ze.plug&&!ze.line&&st(a,a.plugsFace),Pr(a)}function ir(a,l){return{duration:(pt(a.duration)&&0<a.duration?a:l).duration,timing:it.validTiming(a.timing)?a.timing:It(l.timing)}}function rr(a,l,u,f){var y=a.curStats,m=a.aplStats,E={};function L(){["show_on","show_effect","show_animOptions"].forEach(function(O){m[O]=y[O]})}y.show_on=l,u&&r[u]&&(y.show_effect=u,y.show_animOptions=ir(Cn(f)?f:{},r[u].defaultAnimOptions)),E.show_on=y.show_on!==m.show_on,E.show_effect=y.show_effect!==m.show_effect,E.show_animOptions=Hn(y.show_animOptions,m.show_animOptions),E.show_effect||E.show_animOptions?y.show_inAnim?(u=E.show_effect?r[m.show_effect].stop(a,!0,!0):r[m.show_effect].stop(a),L(),r[m.show_effect].init(a,u)):E.show_on&&(m.show_effect&&E.show_effect&&r[m.show_effect].stop(a,!0,!0),L(),r[m.show_effect].init(a)):E.show_on&&(L(),r[m.show_effect].start(a))}function _a(a,l,u){return u={props:a,optionName:u},a.attachments.indexOf(l)<0&&(!l.conf.bind||l.conf.bind(l,u))&&(a.attachments.push(l),l.boundTargets.push(u),1)}function Ri(a,l,u){var f=a.attachments.indexOf(l);-1<f&&a.attachments.splice(f,1),l.boundTargets.some(function(y,m){return y.props===a&&(l.conf.unbind&&l.conf.unbind(l,y),f=m,!0)})&&(l.boundTargets.splice(f,1),u||ui(function(){l.boundTargets.length||p(l)}))}function Pi(a,l){var u,f,y,m,E,L,O,K,V,U,M,A,I,F,C,T=a.options,R={};function ie(x,B,Q,N,se){var oe={};return Q?N!=null?(oe.container=x[Q],oe.key=N):(oe.container=x,oe.key=Q):(oe.container=x,oe.key=B),oe.default=se,oe.acceptsAuto=oe.default==null,oe}function le(x,B,Q,N,se,oe,ye){var De,be,Me,ye=ie(x,Q,se,oe,ye);return B[Q]!=null&&(be=(B[Q]+"").toLowerCase())&&(ye.acceptsAuto&&be===pn||(Me=N[be]))&&Me!==ye.container[ye.key]&&(ye.container[ye.key]=Me,De=!0),ye.container[ye.key]!=null||ye.acceptsAuto||(ye.container[ye.key]=ye.default,De=!0),De}function J(x,B,Q,N,se,oe,X,De,be){var Me,ye,pe,ue,X=ie(x,Q,se,oe,X);if(!N){if(X.default==null)throw new Error("Invalid `type`: "+Q);N=typeof X.default}return B[Q]!=null&&(X.acceptsAuto&&(B[Q]+"").toLowerCase()===pn||(pe=ye=B[Q],((ue=N)==="number"?pt(pe):typeof pe===ue)&&(ye=be&&N==="string"&&ye?ye.trim():ye,1)&&(!De||De(ye))))&&ye!==X.container[X.key]&&(X.container[X.key]=ye,Me=!0),X.container[X.key]!=null||X.acceptsAuto||(X.container[X.key]=X.default,Me=!0),Me}if(l=l||{},["start","end"].forEach(function(x,B){var Q=l[x],N=!1;if(Q&&(Li(Q)||(N=c(Q,"anchor")))&&Q!==T.anchorSE[B]){if(a.optionIsAttach.anchorSE[B]!==!1&&Ri(a,ct[T.anchorSE[B]._id]),N&&!_a(a,ct[Q._id],x))throw new Error("Can't bind attachment");T.anchorSE[B]=Q,a.optionIsAttach.anchorSE[B]=N,u=R.position=!0}}),!T.anchorSE[0]||!T.anchorSE[1]||T.anchorSE[0]===T.anchorSE[1])throw new Error("`start` and `end` are required.");function G(x){var B=E.appendChild(F.createElementNS(Se,"mask"));return B.id=x,B.maskUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[B.x,B.y,B.width,B.height].forEach(function(Q){Q.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),B}function ee(x){var B=E.appendChild(F.createElementNS(Se,"marker"));return B.id=x,B.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_STROKEWIDTH,B.viewBox.baseVal||B.setAttribute("viewBox","0 0 0 0"),B}function W(x){return[x.width,x.height].forEach(function(B){B.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100)}),x}u&&(M=function(x,B){var Q,N;if(!(x=er(x))||!(Q=er(B)))throw new Error("Cannot get frames.");return x.length&&Q.length&&(x.reverse(),Q.reverse(),x.some(function(se){return Q.some(function(oe){return oe===se&&(N=oe.contentWindow,!0)})})),N||window}(a.optionIsAttach.anchorSE[0]!==!1?ct[T.anchorSE[0]._id].element:T.anchorSE[0],a.optionIsAttach.anchorSE[1]!==!1?ct[T.anchorSE[1]._id].element:T.anchorSE[1]))!==a.baseWindow&&(y=M,I=(f=a).aplStats,F=y.document,C=Je+"-"+f._id,f.pathList={},bt(I,Oi),Object.keys(t).forEach(function(x){var B=x+"_enabled";I[B]&&(t[x].remove(f),I[B]=!1)}),f.baseWindow&&f.svg&&f.baseWindow.document.body.removeChild(f.svg),pa(f.baseWindow=y),f.bodyOffset=da(y),f.svg=m=F.createElementNS(Se,"svg"),m.className.baseVal=Je,m.viewBox.baseVal||m.setAttribute("viewBox","0 0 0 0"),f.defs=E=m.appendChild(F.createElementNS(Se,"defs")),f.linePath=O=E.appendChild(F.createElementNS(Se,"path")),O.id=K=C+"-line-path",O.className.baseVal=Je+"-line-path",at&&(O.style.fill="none"),f.lineShape=O=E.appendChild(F.createElementNS(Se,"use")),O.id=V=C+"-line-shape",O.href.baseVal="#"+K,(L=E.appendChild(F.createElementNS(Se,"g"))).id=U=C+"-caps",f.capsMaskAnchorSE=[0,1].map(function(){var x=L.appendChild(F.createElementNS(Se,"path"));return x.className.baseVal=Je+"-caps-mask-anchor",x}),f.lineMaskMarkerIdSE=[C+"-caps-mask-marker-0",C+"-caps-mask-marker-1"],f.capsMaskMarkerSE=[0,1].map(function(x){return ee(f.lineMaskMarkerIdSE[x])}),f.capsMaskMarkerShapeSE=[0,1].map(function(x){return x=f.capsMaskMarkerSE[x].appendChild(F.createElementNS(Se,"use")),x.className.baseVal=Je+"-caps-mask-marker-shape",x}),f.capsMaskLine=O=L.appendChild(F.createElementNS(Se,"use")),O.className.baseVal=Je+"-caps-mask-line",O.href.baseVal="#"+V,f.maskBGRect=O=W(E.appendChild(F.createElementNS(Se,"rect"))),O.id=M=C+"-mask-bg-rect",O.className.baseVal=Je+"-mask-bg-rect",at&&(O.style.fill="white"),f.lineMask=W(G(f.lineMaskId=C+"-line-mask")),f.lineMaskBG=O=f.lineMask.appendChild(F.createElementNS(Se,"use")),O.href.baseVal="#"+M,f.lineMaskShape=O=f.lineMask.appendChild(F.createElementNS(Se,"use")),O.className.baseVal=Je+"-line-mask-shape",O.href.baseVal="#"+K,O.style.display="none",f.lineMaskCaps=O=f.lineMask.appendChild(F.createElementNS(Se,"use")),O.href.baseVal="#"+U,f.lineOutlineMask=W(G(y=C+"-line-outline-mask")),(O=f.lineOutlineMask.appendChild(F.createElementNS(Se,"use"))).href.baseVal="#"+M,f.lineOutlineMaskShape=O=f.lineOutlineMask.appendChild(F.createElementNS(Se,"use")),O.className.baseVal=Je+"-line-outline-mask-shape",O.href.baseVal="#"+K,f.lineOutlineMaskCaps=O=f.lineOutlineMask.appendChild(F.createElementNS(Se,"use")),O.href.baseVal="#"+U,f.face=m.appendChild(F.createElementNS(Se,"g")),f.lineFace=O=f.face.appendChild(F.createElementNS(Se,"use")),O.href.baseVal="#"+V,f.lineOutlineFace=O=f.face.appendChild(F.createElementNS(Se,"use")),O.href.baseVal="#"+V,O.style.mask="url(#"+y+")",O.style.display="none",f.plugMaskIdSE=[C+"-plug-mask-0",C+"-plug-mask-1"],f.plugMaskSE=[0,1].map(function(x){return G(f.plugMaskIdSE[x])}),f.plugMaskShapeSE=[0,1].map(function(x){return x=f.plugMaskSE[x].appendChild(F.createElementNS(Se,"use")),x.className.baseVal=Je+"-plug-mask-shape",x}),A=[],f.plugOutlineMaskSE=[0,1].map(function(x){return G(A[x]=C+"-plug-outline-mask-"+x)}),f.plugOutlineMaskShapeSE=[0,1].map(function(x){return x=f.plugOutlineMaskSE[x].appendChild(F.createElementNS(Se,"use")),x.className.baseVal=Je+"-plug-outline-mask-shape",x}),f.plugMarkerIdSE=[C+"-plug-marker-0",C+"-plug-marker-1"],f.plugMarkerSE=[0,1].map(function(x){return x=ee(f.plugMarkerIdSE[x]),at&&(x.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_USERSPACEONUSE),x}),f.plugMarkerShapeSE=[0,1].map(function(x){return f.plugMarkerSE[x].appendChild(F.createElementNS(Se,"g"))}),f.plugFaceSE=[0,1].map(function(x){return f.plugMarkerShapeSE[x].appendChild(F.createElementNS(Se,"use"))}),f.plugOutlineFaceSE=[0,1].map(function(x){var B=f.plugMarkerShapeSE[x].appendChild(F.createElementNS(Se,"use"));return B.style.mask="url(#"+A[x]+")",B.style.display="none",B}),f.plugsFace=O=f.face.appendChild(F.createElementNS(Se,"use")),O.className.baseVal=Je+"-plugs-face",O.href.baseVal="#"+V,O.style.display="none",f.curStats.show_inAnim?(f.isShown=1,r[I.show_effect].stop(f,!0)):f.isShown||(m.style.visibility="hidden"),F.body.appendChild(m),[0,1,2].forEach(function(Q){var B,Q=f.options.labelSEM[Q];Q&&c(Q,"label")&&(B=ct[Q._id]).conf.initSvg&&B.conf.initSvg(B,f)}),R.line=R.plug=R.lineOutline=R.plugOutline=R.faces=R.effect=!0),R.position=le(T,l,"path",kn,null,null,yt.path)||R.position,R.position=le(T,l,"startSocket",qi,"socketSE",0)||R.position,R.position=le(T,l,"endSocket",qi,"socketSE",1)||R.position,[l.startSocketGravity,l.endSocketGravity].forEach(function(x,B){var Q,N,se=!1;x!=null&&(Array.isArray(x)?pt(x[0])&&pt(x[1])&&(se=[x[0],x[1]],Array.isArray(T.socketGravitySE[B])&&(Q=se,N=T.socketGravitySE[B],Q.length===N.length&&Q.every(function(oe,Oe){return oe===N[Oe]}))&&(se=!1)):((x+"").toLowerCase()===pn?se=null:pt(x)&&0<=x&&(se=x),se===T.socketGravitySE[B]&&(se=!1)),se!==!1&&(T.socketGravitySE[B]=se,R.position=!0))}),R.line=J(T,l,"color",null,"lineColor",null,yt.lineColor,null,!0)||R.line,R.line=J(T,l,"size",null,"lineSize",null,yt.lineSize,function(x){return 0<x})||R.line,["startPlug","endPlug"].forEach(function(x,B){R.plug=le(T,l,x,Or,"plugSE",B,yt.plugSE[B])||R.plug,R.plug=J(T,l,x+"Color","string","plugColorSE",B,null,null,!0)||R.plug,R.plug=J(T,l,x+"Size",null,"plugSizeSE",B,yt.plugSizeSE[B],function(Q){return 0<Q})||R.plug}),R.lineOutline=J(T,l,"outline",null,"lineOutlineEnabled",null,yt.lineOutlineEnabled)||R.lineOutline,R.lineOutline=J(T,l,"outlineColor",null,"lineOutlineColor",null,yt.lineOutlineColor,null,!0)||R.lineOutline,R.lineOutline=J(T,l,"outlineSize",null,"lineOutlineSize",null,yt.lineOutlineSize,function(x){return 0<x&&x<=.48})||R.lineOutline,["startPlugOutline","endPlugOutline"].forEach(function(x,B){R.plugOutline=J(T,l,x,null,"plugOutlineEnabledSE",B,yt.plugOutlineEnabledSE[B])||R.plugOutline,R.plugOutline=J(T,l,x+"Color","string","plugOutlineColorSE",B,null,null,!0)||R.plugOutline,R.plugOutline=J(T,l,x+"Size",null,"plugOutlineSizeSE",B,yt.plugOutlineSizeSE[B],function(Q){return 1<=Q})||R.plugOutline}),["startLabel","endLabel","middleLabel"].forEach(function(x,B){var Q,N,se,oe=l[x],Oe=T.labelSEM[B]&&!a.optionIsAttach.labelSEM[B]?ct[T.labelSEM[B]._id].text:T.labelSEM[B],De=!1;if((Q=typeof oe=="string")&&(oe=oe.trim()),(Q||oe&&(De=c(oe,"label")))&&oe!==Oe){if(T.labelSEM[B]&&(Ri(a,ct[T.labelSEM[B]._id]),T.labelSEM[B]=""),oe){if(De?(N=ct[(se=oe)._id]).boundTargets.slice().forEach(function(be){N.conf.removeOption(N,be)}):se=new h(i.captionLabel,[oe]),!_a(a,ct[se._id],x))throw new Error("Can't bind attachment");T.labelSEM[B]=se}a.optionIsAttach.labelSEM[B]=De}}),Object.keys(t).forEach(function(x){var B,Q,N=t[x],se=x+"_enabled",oe=x+"_options";function Oe(be){var Me={};return N.optionsConf.forEach(function(ye){var pe=ye[0],ue=ye[3];ye[4]==null||Me[ue]||(Me[ue]=[]),(typeof pe=="function"?pe:pe==="id"?le:J).apply(null,[Me,be].concat(ye.slice(1)))}),Me}function De(be){var Me,ye=x+"_animOptions";return be.hasOwnProperty("animation")?Cn(be.animation)?Me=a.curStats[ye]=ir(be.animation,N.defaultAnimOptions):(Me=!!be.animation,a.curStats[ye]=Me?ir({},N.defaultAnimOptions):null):(Me=!!N.defaultEnabled,a.curStats[ye]=Me?ir({},N.defaultAnimOptions):null),Me}l.hasOwnProperty(x)&&(B=l[x],Cn(B)?(a.curStats[se]=!0,Q=a.curStats[oe]=Oe(B),N.anim&&(a.curStats[oe].animation=De(B))):(Q=a.curStats[se]=!!B)&&(a.curStats[oe]=Oe({}),N.anim&&(a.curStats[oe].animation=De({}))),Hn(Q,T[x])&&(T[x]=Q,R.effect=!0))}),Lt(a,R)}function Ht(a,l,u){var f={options:{anchorSE:[],socketSE:[],socketGravitySE:[],plugSE:[],plugColorSE:[],plugSizeSE:[],plugOutlineEnabledSE:[],plugOutlineColorSE:[],plugOutlineSizeSE:[],labelSEM:["","",""]},optionIsAttach:{anchorSE:[!1,!1],labelSEM:[!1,!1,!1]},curStats:{},aplStats:{},attachments:[],events:{},reflowTargets:[]};bt(f.curStats,Oi),bt(f.aplStats,Oi),Object.keys(t).forEach(function(y){var m=t[y].stats;bt(f.curStats,m),bt(f.aplStats,m),f.options[y]=!1}),bt(f.curStats,ji),bt(f.aplStats,ji),f.curStats.show_effect=Qi,f.curStats.show_animOptions=It(r[Qi].defaultAnimOptions),Object.defineProperty(this,"_id",{value:++Lr}),f._id=this._id,_t[this._id]=f,arguments.length===1&&(u=a,a=null),u=u||{},(a||l)&&(u=It(u),a&&(u.start=a),l&&(u.end=l)),f.isShown=f.aplStats.show_on=!u.hide,this.setOptions(u)}function ar(a){return function(l){var u={};u[a]=l,this.setOptions(u)}}function ga(a,l){var u,f={conf:a,curStats:{},aplStats:{},boundTargets:[]},y={};a.argOptions.every(function(m){return!(!l.length||(typeof m.type=="string"?typeof l[0]!==m.type:typeof m.type!="function"||!m.type(l[0])))&&(y[m.optionName]=l.shift(),!0)}),u=l.length&&Cn(l[0])?It(l[0]):{},Object.keys(y).forEach(function(m){u[m]=y[m]}),a.stats&&(bt(f.curStats,a.stats),bt(f.aplStats,a.stats)),Object.defineProperty(this,"_id",{value:++ds}),Object.defineProperty(this,"isRemoved",{get:function(){return!ct[this._id]}}),f._id=this._id,a.init&&!a.init(f,u)||(ct[this._id]=f)}return t={dash:{stats:{dash_len:{},dash_gap:{},dash_maxOffset:{}},anim:!0,defaultAnimOptions:{duration:1e3,timing:"linear"},optionsConf:[["type","len","number",null,null,null,function(a){return 0<a}],["type","gap","number",null,null,null,function(a){return 0<a}]],init:function(a){ht(a,"apl_line_strokeWidth",t.dash.update),a.lineFace.style.strokeDashoffset=0,t.dash.update(a)},remove:function(a){var l=a.curStats;ft(a,"apl_line_strokeWidth",t.dash.update),l.dash_animId&&(it.remove(l.dash_animId),l.dash_animId=null),a.lineFace.style.strokeDasharray="none",a.lineFace.style.strokeDashoffset=0,bt(a.aplStats,t.dash.stats)},update:function(a){var l,u=a.curStats,f=a.aplStats,y=f.dash_options,m=!1;u.dash_len=y.len||2*f.line_strokeWidth,u.dash_gap=y.gap||f.line_strokeWidth,u.dash_maxOffset=u.dash_len+u.dash_gap,m=ce(a,f,"dash_len",u.dash_len)||m,(m=ce(a,f,"dash_gap",u.dash_gap)||m)&&(a.lineFace.style.strokeDasharray=f.dash_len+","+f.dash_gap),u.dash_animOptions?(m=ce(a,f,"dash_maxOffset",u.dash_maxOffset),f.dash_animOptions&&(m||Hn(u.dash_animOptions,f.dash_animOptions))&&(u.dash_animId&&(l=it.stop(u.dash_animId),it.remove(u.dash_animId)),f.dash_animOptions=null),f.dash_animOptions||(u.dash_animId=it.add(function(E){return(1-E)*f.dash_maxOffset+"px"},function(E){a.lineFace.style.strokeDashoffset=E},u.dash_animOptions.duration,0,u.dash_animOptions.timing,!1,l),f.dash_animOptions=It(u.dash_animOptions))):f.dash_animOptions&&(u.dash_animId&&(it.remove(u.dash_animId),u.dash_animId=null),a.lineFace.style.strokeDashoffset=0,f.dash_animOptions=null)}},gradient:{stats:{gradient_colorSE:{hasSE:!0},gradient_pointSE:{hasSE:!0,hasProps:!0}},optionsConf:[["type","startColor","string","colorSE",0,null,null,!0],["type","endColor","string","colorSE",1,null,null,!0]],init:function(a){var l=a.baseWindow.document,u=a.defs,f=Je+"-"+a._id+"-gradient";a.efc_gradient_gradient=u=u.appendChild(l.createElementNS(Se,"linearGradient")),u.id=f,u.gradientUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[u.x1,u.y1,u.x2,u.y2].forEach(function(y){y.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),a.efc_gradient_stopSE=[0,1].map(function(y){var m=a.efc_gradient_gradient.appendChild(l.createElementNS(Se,"stop"));try{m.offset.baseVal=y}catch(E){if(E.code!==DOMException.NO_MODIFICATION_ALLOWED_ERR)throw E;m.setAttribute("offset",y)}return m}),ht(a,"cur_plug_colorSE",t.gradient.update),ht(a,"apl_path",t.gradient.update),a.curStats.line_altColor=!0,a.lineFace.style.stroke="url(#"+f+")",t.gradient.update(a)},remove:function(a){a.efc_gradient_gradient&&(a.defs.removeChild(a.efc_gradient_gradient),a.efc_gradient_gradient=a.efc_gradient_stopSE=null),ft(a,"cur_plug_colorSE",t.gradient.update),ft(a,"apl_path",t.gradient.update),a.curStats.line_altColor=!1,a.lineFace.style.stroke=a.curStats.line_color,bt(a.aplStats,t.gradient.stats)},update:function(a){var l,u=a.curStats,f=a.aplStats,y=f.gradient_options,m=a.pathList.animVal||a.pathList.baseVal;[0,1].forEach(function(E){u.gradient_colorSE[E]=y.colorSE[E]||u.plug_colorSE[E]}),l=m[0][0],u.gradient_pointSE[0]={x:l.x,y:l.y},l=(m=m[m.length-1])[m.length-1],u.gradient_pointSE[1]={x:l.x,y:l.y},[0,1].forEach(function(E){var L;ce(a,f.gradient_colorSE,E,L=u.gradient_colorSE[E])&&(at?(L=Ii(L),a.efc_gradient_stopSE[E].style.stopColor=L[1],a.efc_gradient_stopSE[E].style.stopOpacity=L[0]):a.efc_gradient_stopSE[E].style.stopColor=L),["x","y"].forEach(function(O){(L=u.gradient_pointSE[E][O])!==f.gradient_pointSE[E][O]&&(a.efc_gradient_gradient[O+(E+1)].baseVal.value=f.gradient_pointSE[E][O]=L)})})}},dropShadow:{stats:{dropShadow_dx:{},dropShadow_dy:{},dropShadow_blur:{},dropShadow_color:{},dropShadow_opacity:{},dropShadow_x:{},dropShadow_y:{}},optionsConf:[["type","dx",null,null,null,2],["type","dy",null,null,null,4],["type","blur",null,null,null,3,function(a){return 0<=a}],["type","color",null,null,null,"#000",null,!0],["type","opacity",null,null,null,.8,function(a){return 0<=a&&a<=1}]],init:function(a){var l,u,f,y,m=a.baseWindow.document,E=a.defs,L=Je+"-"+a._id+"-dropShadow",O=(l=m,u=L,y={},typeof H!="boolean"&&(H=!!window.SVGFEDropShadowElement&&!at),y.elmsAppend=[y.elmFilter=m=l.createElementNS(Se,"filter")],m.filterUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,m.x.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),m.y.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),m.width.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),m.height.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),m.id=u,H?(y.elmOffset=y.elmBlur=f=m.appendChild(l.createElementNS(Se,"feDropShadow")),y.styleFlood=f.style):(y.elmBlur=m.appendChild(l.createElementNS(Se,"feGaussianBlur")),y.elmOffset=f=m.appendChild(l.createElementNS(Se,"feOffset")),f.result.baseVal="offsetblur",f=m.appendChild(l.createElementNS(Se,"feFlood")),y.styleFlood=f.style,(f=m.appendChild(l.createElementNS(Se,"feComposite"))).in2.baseVal="offsetblur",f.operator.baseVal=SVGFECompositeElement.SVG_FECOMPOSITE_OPERATOR_IN,(f=m.appendChild(l.createElementNS(Se,"feMerge"))).appendChild(l.createElementNS(Se,"feMergeNode")),f.appendChild(l.createElementNS(Se,"feMergeNode")).in1.baseVal="SourceGraphic"),y);["elmFilter","elmOffset","elmBlur","styleFlood","elmsAppend"].forEach(function(K){a["efc_dropShadow_"+K]=O[K]}),O.elmsAppend.forEach(function(K){E.appendChild(K)}),a.face.setAttribute("filter","url(#"+L+")"),ht(a,"new_edge4viewBox",t.dropShadow.adjustEdge),t.dropShadow.update(a)},remove:function(a){var l=a.defs;a.efc_dropShadow_elmsAppend&&(a.efc_dropShadow_elmsAppend.forEach(function(u){l.removeChild(u)}),a.efc_dropShadow_elmFilter=a.efc_dropShadow_elmOffset=a.efc_dropShadow_elmBlur=a.efc_dropShadow_styleFlood=a.efc_dropShadow_elmsAppend=null),ft(a,"new_edge4viewBox",t.dropShadow.adjustEdge),Lt(a,{}),a.face.removeAttribute("filter"),bt(a.aplStats,t.dropShadow.stats)},update:function(a){var l,u,f=a.curStats,y=a.aplStats,m=y.dropShadow_options;f.dropShadow_dx=l=m.dx,ce(a,y,"dropShadow_dx",l)&&(a.efc_dropShadow_elmOffset.dx.baseVal=l,u=!0),f.dropShadow_dy=l=m.dy,ce(a,y,"dropShadow_dy",l)&&(a.efc_dropShadow_elmOffset.dy.baseVal=l,u=!0),f.dropShadow_blur=l=m.blur,ce(a,y,"dropShadow_blur",l)&&(a.efc_dropShadow_elmBlur.setStdDeviation(l,l),u=!0),u&&Lt(a,{}),f.dropShadow_color=l=m.color,ce(a,y,"dropShadow_color",l)&&(a.efc_dropShadow_styleFlood.floodColor=l),f.dropShadow_opacity=l=m.opacity,ce(a,y,"dropShadow_opacity",l)&&(a.efc_dropShadow_styleFlood.floodOpacity=l)},adjustEdge:function(a,l){var u,f=a.curStats,y=a.aplStats;f.dropShadow_dx!=null&&(u=3*f.dropShadow_blur,(u={x1:l.x1-u+f.dropShadow_dx,y1:l.y1-u+f.dropShadow_dy,x2:l.x2+u+f.dropShadow_dx,y2:l.y2+u+f.dropShadow_dy}).x1<l.x1&&(l.x1=u.x1),u.y1<l.y1&&(l.y1=u.y1),u.x2>l.x2&&(l.x2=u.x2),u.y2>l.y2&&(l.y2=u.y2),["x","y"].forEach(function(m){var E,L="dropShadow_"+m;f[L]=E=l[m+"1"],ce(a,y,L,E)&&(a.efc_dropShadow_elmFilter[m].baseVal.value=E)}))}}},Object.keys(t).forEach(function(a){var l=t[a],u=l.stats;u[a+"_enabled"]={iniValue:!1},u[a+"_options"]={hasProps:!0},l.anim&&(u[a+"_animOptions"]={},u[a+"_animId"]={})}),r={none:{defaultAnimOptions:{},init:function(a,l){var u=a.curStats;u.show_animId&&(it.remove(u.show_animId),u.show_animId=null),r.none.start(a,l)},start:function(a,l){r.none.stop(a,!0)},stop:function(a,l,u){var f=a.curStats;return u=u??a.aplStats.show_on,f.show_inAnim=!1,l&&ci(a,u),u?1:0}},fade:{defaultAnimOptions:{duration:300,timing:"linear"},init:function(a,l){var u=a.curStats,f=a.aplStats;u.show_animId&&it.remove(u.show_animId),u.show_animId=it.add(function(y){return y},function(y,m){m?r.fade.stop(a,!0):(a.svg.style.opacity=y+"",St&&(st(a,a.svg),Pr(a)))},f.show_animOptions.duration,1,f.show_animOptions.timing,null,!1),r.fade.start(a,l)},start:function(a,l){var u,f=a.curStats;f.show_inAnim&&(u=it.stop(f.show_animId)),ci(a,1),f.show_inAnim=!0,it.start(f.show_animId,!a.aplStats.show_on,l??u)},stop:function(a,l,u){var f,y=a.curStats;return u=u??a.aplStats.show_on,f=y.show_inAnim?it.stop(y.show_animId):u?1:0,y.show_inAnim=!1,l&&(a.svg.style.opacity=u?"":"0",ci(a,u)),f}},draw:{defaultAnimOptions:{duration:500,timing:[.58,0,.42,1]},init:function(a,l){var u=a.curStats,f=a.aplStats,y=a.pathList.baseVal,m=ca(y),E=m.segsLen,L=m.lenAll;u.show_animId&&it.remove(u.show_animId),u.show_animId=it.add(function(O){var K,V,U,M=-1;if(O===0)V=[[y[0][0],y[0][0]]];else if(O===1)V=y;else{for(K=L*O,V=[];K>=E[++M];)V.push(y[M]),K-=E[M];K&&((U=y[M]).length===2?V.push([U[0],Ti(U[0],U[1],K/E[M])]):(O=li(U[0],U[1],U[2],U[3],Tr(U[0],U[1],U[2],U[3],K)),V.push([U[0],O.fromP1,O.fromP2,O])))}return V},function(O,K){K?r.draw.stop(a,!0):(a.pathList.animVal=O,Lt(a,{path:!0}))},f.show_animOptions.duration,1,f.show_animOptions.timing,null,!1),r.draw.start(a,l)},start:function(a,l){var u,f=a.curStats;f.show_inAnim&&(u=it.stop(f.show_animId)),ci(a,1),f.show_inAnim=!0,ht(a,"apl_position",r.draw.update),it.start(f.show_animId,!a.aplStats.show_on,l??u)},stop:function(a,l,u){var f,y=a.curStats;return u=u??a.aplStats.show_on,f=y.show_inAnim?it.stop(y.show_animId):u?1:0,y.show_inAnim=!1,l&&(a.pathList.animVal=u?null:[[a.pathList.baseVal[0][0],a.pathList.baseVal[0][0]]],Lt(a,{path:!0}),ci(a,u)),f},update:function(a){ft(a,"apl_position",r.draw.update),a.curStats.show_inAnim?r.draw.init(a,r.draw.stop(a)):a.aplStats.show_animOptions={}}}},[["start","anchorSE",0],["end","anchorSE",1],["color","lineColor"],["size","lineSize"],["startSocketGravity","socketGravitySE",0],["endSocketGravity","socketGravitySE",1],["startPlugColor","plugColorSE",0],["endPlugColor","plugColorSE",1],["startPlugSize","plugSizeSE",0],["endPlugSize","plugSizeSE",1],["outline","lineOutlineEnabled"],["outlineColor","lineOutlineColor"],["outlineSize","lineOutlineSize"],["startPlugOutline","plugOutlineEnabledSE",0],["endPlugOutline","plugOutlineEnabledSE",1],["startPlugOutlineColor","plugOutlineColorSE",0],["endPlugOutlineColor","plugOutlineColorSE",1],["startPlugOutlineSize","plugOutlineSizeSE",0],["endPlugOutlineSize","plugOutlineSizeSE",1]].forEach(function(a){var l=a[0],u=a[1],f=a[2];Object.defineProperty(Ht.prototype,l,{get:function(){var y=f!=null?_t[this._id].options[u][f]:u?_t[this._id].options[u]:_t[this._id].options[l];return y==null?pn:It(y)},set:ar(l),enumerable:!0})}),[["path",kn],["startSocket",qi,"socketSE",0],["endSocket",qi,"socketSE",1],["startPlug",Or,"plugSE",0],["endPlug",Or,"plugSE",1]].forEach(function(a){var l=a[0],u=a[1],f=a[2],y=a[3];Object.defineProperty(Ht.prototype,l,{get:function(){var m,E=y!=null?_t[this._id].options[f][y]:f?_t[this._id].options[f]:_t[this._id].options[l];return E?Object.keys(u).some(function(L){return u[L]===E&&(m=L,!0)})?m:new Error("It's broken"):pn},set:ar(l),enumerable:!0})}),Object.keys(t).forEach(function(a){var l=t[a];Object.defineProperty(Ht.prototype,a,{get:function(){var u,f,y=_t[this._id].options[a];return Cn(y)?(u=y,f=l.optionsConf.reduce(function(m,M){var L,O=M[0],K=M[1],V=M[2],U=M[3],M=M[4],A=M!=null?u[U][M]:U?u[U]:u[K];return m[K]=O==="id"?A?Object.keys(V).some(function(I){return V[I]===A&&(L=I,!0)})?L:new Error("It's broken"):pn:A==null?pn:It(A),m},{}),l.anim&&(f.animation=It(u.animation)),f):y},set:ar(a),enumerable:!0})}),["startLabel","endLabel","middleLabel"].forEach(function(a,l){Object.defineProperty(Ht.prototype,a,{get:function(){var u=_t[this._id],f=u.options;return f.labelSEM[l]&&!u.optionIsAttach.labelSEM[l]?ct[f.labelSEM[l]._id].text:f.labelSEM[l]||""},set:ar(a),enumerable:!0})}),Ht.prototype.setOptions=function(a){return Pi(_t[this._id],a),this},Ht.prototype.position=function(){return Lt(_t[this._id],{position:!0}),this},Ht.prototype.remove=function(){var a=_t[this._id],l=a.curStats;Object.keys(t).forEach(function(u){u+="_animId",l[u]&&it.remove(l[u])}),l.show_animId&&it.remove(l.show_animId),a.attachments.slice().forEach(function(u){Ri(a,u)}),a.baseWindow&&a.svg&&a.baseWindow.document.body.removeChild(a.svg),delete _t[this._id]},Ht.prototype.show=function(a,l){return rr(_t[this._id],!0,a,l),this},Ht.prototype.hide=function(a,l){return rr(_t[this._id],!1,a,l),this},p=function(a){a&&ct[a._id]&&(a.boundTargets.slice().forEach(function(l){Ri(l.props,a,!0)}),a.conf.remove&&a.conf.remove(a),delete ct[a._id])},ga.prototype.remove=function(){var a=this,l=ct[a._id];l&&(l.boundTargets.slice().forEach(function(u){l.conf.removeOption(l,u)}),ui(function(){var u=ct[a._id];u&&(console.error("LeaderLineAttachment was not removed by removeOption"),p(u))}))},h=ga,window.LeaderLineAttachment=h,c=function(a,l){return a instanceof h&&(!(a.isRemoved||l&&ct[a._id].conf.type!==l)||null)},i={pointAnchor:{type:"anchor",argOptions:[{optionName:"element",type:Li}],init:function(a,l){return a.element=i.pointAnchor.checkElement(l.element),a.x=i.pointAnchor.parsePercent(l.x,!0)||[.5,!0],a.y=i.pointAnchor.parsePercent(l.y,!0)||[.5,!0],!0},removeOption:function(m,l){var u=l.props,f={},y=m.element,m=u.options.anchorSE[l.optionName==="start"?1:0];y===m&&(y=m===document.body?new h(i.pointAnchor,[y]):document.body),f[l.optionName]=y,Pi(u,f)},getBBoxNest:function(a,y){var u=$i(a.element,y.baseWindow),f=u.width,y=u.height;return u.width=u.height=0,u.left=u.right=u.left+a.x[0]*(a.x[1]?f:1),u.top=u.bottom=u.top+a.y[0]*(a.y[1]?y:1),u},parsePercent:function(a,l){var u,f,y=!1;return pt(a)?f=a:typeof a=="string"&&(u=Mr.exec(a))&&u[2]&&(y=(f=parseFloat(u[1])/100)!==0),f!=null&&(l||0<=f)?[f,y]:null},checkElement:function(a){if(a==null)a=document.body;else if(!Li(a))throw new Error("`element` must be Element");return a}},areaAnchor:{type:"anchor",argOptions:[{optionName:"element",type:Li},{optionName:"shape",type:"string"}],stats:{color:{},strokeWidth:{},elementWidth:{},elementHeight:{},elementLeft:{},elementTop:{},pathListRel:{},bBoxRel:{},pathData:{},viewBoxBBox:{hasProps:!0},dashLen:{},dashGap:{}},init:function(a,l){var u,f=[];return a.element=i.pointAnchor.checkElement(l.element),typeof l.color=="string"&&(a.color=l.color.trim()),typeof l.fillColor=="string"&&(a.fill=l.fillColor.trim()),pt(l.size)&&0<=l.size&&(a.size=l.size),l.dash&&(a.dash=!0,pt(l.dash.len)&&0<l.dash.len&&(a.dashLen=l.dash.len),pt(l.dash.gap)&&0<l.dash.gap&&(a.dashGap=l.dash.gap)),l.shape==="circle"?a.shape=l.shape:l.shape==="polygon"&&Array.isArray(l.points)&&3<=l.points.length&&l.points.every(function(y){var m={};return!(!(m.x=i.pointAnchor.parsePercent(y[0],!0))||!(m.y=i.pointAnchor.parsePercent(y[1],!0)))&&(f.push(m),(m.x[1]||m.y[1])&&(a.hasRatio=!0),!0)})?(a.shape=l.shape,a.points=f):(a.shape="rect",a.radius=pt(l.radius)&&0<=l.radius?l.radius:0),a.shape!=="rect"&&a.shape!=="circle"||(a.x=i.pointAnchor.parsePercent(l.x,!0)||[-.05,!0],a.y=i.pointAnchor.parsePercent(l.y,!0)||[-.05,!0],a.width=i.pointAnchor.parsePercent(l.width)||[1.1,!0],a.height=i.pointAnchor.parsePercent(l.height)||[1.1,!0],(a.x[1]||a.y[1]||a.width[1]||a.height[1])&&(a.hasRatio=!0)),u=a.element.ownerDocument,a.svg=l=u.createElementNS(Se,"svg"),l.className.baseVal=Je+"-areaAnchor",l.viewBox.baseVal||l.setAttribute("viewBox","0 0 0 0"),a.path=l.appendChild(u.createElementNS(Se,"path")),a.path.style.fill=a.fill||"none",a.isShown=!1,l.style.visibility="hidden",u.body.appendChild(l),pa(u=u.defaultView),a.bodyOffset=da(u),a.updateColor=function(){var y=a.curStats,m=a.aplStats,E=a.boundTargets.length?a.boundTargets[0].props.curStats:null;y.color=E=a.color||(E?E.line_color:yt.lineColor),ce(a,m,"color",E)&&(a.path.style.stroke=E)},a.updateShow=function(){ci(a,a.boundTargets.some(function(y){return y.props.isShown===!0}))},!0},bind:function(a,l){return l=l.props,a.color||ht(l,"cur_line_color",a.updateColor),ht(l,"svgShow",a.updateShow),ui(function(){a.updateColor(),a.updateShow()}),!0},unbind:function(a,l){l=l.props,a.color||ft(l,"cur_line_color",a.updateColor),ft(l,"svgShow",a.updateShow),1<a.boundTargets.length&&ui(function(){a.updateColor(),a.updateShow(),i.areaAnchor.update(a)&&a.boundTargets.forEach(function(u){Lt(u.props,{position:!0})})})},removeOption:function(a,l){i.pointAnchor.removeOption(a,l)},remove:function(a){a.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),a.boundTargets.forEach(function(l){i.areaAnchor.unbind(a,l)})),a.svg.parentNode.removeChild(a.svg)},getStrokeWidth:function(a,l){return i.areaAnchor.update(a)&&1<a.boundTargets.length&&ui(function(){a.boundTargets.forEach(function(u){u.props!==l&&Lt(u.props,{position:!0})})}),a.curStats.strokeWidth},getPathData:function(a,l){var u=$i(a.element,l.baseWindow);return Rr(a.curStats.pathListRel,function(f){f.x+=u.left,f.y+=u.top})},getBBoxNest:function(a,l){return l=$i(a.element,l.baseWindow),a=a.curStats.bBoxRel,{left:a.left+l.left,top:a.top+l.top,right:a.right+l.left,bottom:a.bottom+l.top,width:a.width,height:a.height}},update:function(a){var l,u,f,y,m,E,L,O,K,V,U,M,A,I,F,C,T=a.curStats,R=a.aplStats,ie=a.boundTargets.length?a.boundTargets[0].props.curStats:null,le={};if(le.strokeWidth=ce(a,T,"strokeWidth",a.size!=null?a.size:ie?ie.line_strokeWidth:yt.lineSize),l=Ji(a.element),le.elementWidth=ce(a,T,"elementWidth",l.width),le.elementHeight=ce(a,T,"elementHeight",l.height),le.elementLeft=ce(a,T,"elementLeft",l.left),le.elementTop=ce(a,T,"elementTop",l.top),le.strokeWidth||a.hasRatio&&(le.elementWidth||le.elementHeight)){switch(a.shape){case"rect":(M={left:a.x[0]*(a.x[1]?l.width:1),top:a.y[0]*(a.y[1]?l.height:1),width:a.width[0]*(a.width[1]?l.width:1),height:a.height[0]*(a.height[1]?l.height:1)}).right=M.left+M.width,M.bottom=M.top+M.height,U=T.strokeWidth/2,O=(L=Math.min(M.width,M.height))?L/2*Math.SQRT2+U:0,V=(L=a.radius?a.radius<=O?a.radius:O:0)?(O=(L-U)/Math.SQRT2,V=[{x:M.left-(K=L-O),y:M.top+O},{x:M.left+O,y:M.top-K},{x:M.right-O,y:M.top-K},{x:M.right+K,y:M.top+O},{x:M.right+K,y:M.bottom-O},{x:M.right-O,y:M.bottom+K},{x:M.left+O,y:M.bottom+K},{x:M.left-K,y:M.bottom-O}],T.pathListRel=[[V[0],{x:V[0].x,y:V[0].y-(U=L*Xi)},{x:V[1].x-U,y:V[1].y},V[1]]],V[1].x!==V[2].x&&T.pathListRel.push([V[1],V[2]]),T.pathListRel.push([V[2],{x:V[2].x+U,y:V[2].y},{x:V[3].x,y:V[3].y-U},V[3]]),V[3].y!==V[4].y&&T.pathListRel.push([V[3],V[4]]),T.pathListRel.push([V[4],{x:V[4].x,y:V[4].y+U},{x:V[5].x+U,y:V[5].y},V[5]]),V[5].x!==V[6].x&&T.pathListRel.push([V[5],V[6]]),T.pathListRel.push([V[6],{x:V[6].x-U,y:V[6].y},{x:V[7].x,y:V[7].y+U},V[7]]),V[7].y!==V[0].y&&T.pathListRel.push([V[7],V[0]]),T.pathListRel.push([]),K=L-O+T.strokeWidth/2,[{x:M.left-K,y:M.top-K},{x:M.right+K,y:M.bottom+K}]):(K=T.strokeWidth/2,V=[{x:M.left-K,y:M.top-K},{x:M.right+K,y:M.bottom+K}],T.pathListRel=[[V[0],{x:V[1].x,y:V[0].y}],[{x:V[1].x,y:V[0].y},V[1]],[V[1],{x:V[0].x,y:V[1].y}],[]],[{x:M.left-T.strokeWidth,y:M.top-T.strokeWidth},{x:M.right+T.strokeWidth,y:M.bottom+T.strokeWidth}]),T.bBoxRel={left:V[0].x,top:V[0].y,right:V[1].x,bottom:V[1].y,width:V[1].x-V[0].x,height:V[1].y-V[0].y};break;case"circle":(E={left:a.x[0]*(a.x[1]?l.width:1),top:a.y[0]*(a.y[1]?l.height:1),width:a.width[0]*(a.width[1]?l.width:1),height:a.height[0]*(a.height[1]?l.height:1)}).width||E.height||(E.width=E.height=10),E.width||(E.width=E.height),E.height||(E.height=E.width),E.right=E.left+E.width,E.bottom=E.top+E.height,U=E.left+E.width/2,L=E.top+E.height/2,m=T.strokeWidth/2,O=E.width/2,K=E.height/2,M=O*Math.SQRT2+m,V=K*Math.SQRT2+m,T.pathListRel=[[(m=[{x:U-M,y:L},{x:U,y:L-V},{x:U+M,y:L},{x:U,y:L+V}])[0],{x:m[0].x,y:m[0].y-(U=V*Xi)},{x:m[1].x-(L=M*Xi),y:m[1].y},m[1]],[m[1],{x:m[1].x+L,y:m[1].y},{x:m[2].x,y:m[2].y-U},m[2]],[m[2],{x:m[2].x,y:m[2].y+U},{x:m[3].x+L,y:m[3].y},m[3]],[m[3],{x:m[3].x-L,y:m[3].y},{x:m[0].x,y:m[0].y+U},m[0]],[]],O=M-O+T.strokeWidth/2,K=V-K+T.strokeWidth/2,m=[{x:E.left-O,y:E.top-K},{x:E.right+O,y:E.bottom+K}],T.bBoxRel={left:m[0].x,top:m[0].y,right:m[1].x,bottom:m[1].y,width:m[1].x-m[0].x,height:m[1].y-m[0].y};break;case"polygon":a.points.forEach(function(ee){var G=ee.x[0]*(ee.x[1]?l.width:1),ee=ee.y[0]*(ee.y[1]?l.height:1);f?(G<f.left&&(f.left=G),G>f.right&&(f.right=G),ee<f.top&&(f.top=ee),ee>f.bottom&&(f.bottom=ee)):f={left:G,right:G,top:ee,bottom:ee},y?T.pathListRel.push([y,{x:G,y:ee}]):T.pathListRel=[],y={x:G,y:ee}}),T.pathListRel.push([]),m=T.strokeWidth/2,m=[{x:f.left-m,y:f.top-m},{x:f.right+m,y:f.bottom+m}],T.bBoxRel={left:m[0].x,top:m[0].y,right:m[1].x,bottom:m[1].y,width:m[1].x-m[0].x,height:m[1].y-m[0].y}}le.pathListRel=le.bBoxRel=!0}return(le.pathListRel||le.elementLeft||le.elementTop)&&(T.pathData=Rr(T.pathListRel,function(J){J.x+=l.left,J.y+=l.top})),ce(a,R,"strokeWidth",u=T.strokeWidth)&&(a.path.style.strokeWidth=u+"px"),tr(u=T.pathData,R.pathData)&&(a.path.setPathData(u),R.pathData=u,le.pathData=!0),a.dash&&(!le.pathData&&(!le.strokeWidth||a.dashLen&&a.dashGap)||(T.dashLen=a.dashLen||2*T.strokeWidth,T.dashGap=a.dashGap||T.strokeWidth),le.dash=ce(a,R,"dashLen",T.dashLen)||le.dash,le.dash=ce(a,R,"dashGap",T.dashGap)||le.dash,le.dash&&(a.path.style.strokeDasharray=R.dashLen+","+R.dashGap)),A=T.viewBoxBBox,I=R.viewBoxBBox,F=a.svg.viewBox.baseVal,C=a.svg.style,A.x=T.bBoxRel.left+l.left,A.y=T.bBoxRel.top+l.top,A.width=T.bBoxRel.width,A.height=T.bBoxRel.height,["x","y","width","height"].forEach(function(J){(u=A[J])!==I[J]&&(F[J]=I[J]=u,C[sa[J]]=u+(J==="x"||J==="y"?a.bodyOffset[J]:0)+"px")}),le.strokeWidth||le.pathListRel||le.bBoxRel}},mouseHoverAnchor:{type:"anchor",argOptions:[{optionName:"element",type:Li},{optionName:"showEffectName",type:"string"}],style:{backgroundImage:"url('data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cG9seWdvbiBwb2ludHM9IjI0LDAgMCw4IDgsMTEgMCwxOSA1LDI0IDEzLDE2IDE2LDI0IiBmaWxsPSJjb3JhbCIvPjwvc3ZnPg==')",backgroundSize:"",backgroundRepeat:"no-repeat",backgroundColor:"#f8f881",cursor:"default"},hoverStyle:{backgroundImage:"none",backgroundColor:"#fadf8f"},padding:{top:1,right:15,bottom:1,left:2},minHeight:15,backgroundPosition:{right:2,top:2},backgroundSize:{width:12,height:12},dirKeys:[["top","Top"],["right","Right"],["bottom","Bottom"],["left","Left"]],init:function(a,l){var u,f,y,m,E,L,O,K,V,U=i.mouseHoverAnchor,M={};if(a.element=i.pointAnchor.checkElement(l.element),O=a.element,!((K=O.ownerDocument)&&(V=K.defaultView)&&V.HTMLElement&&O instanceof V.HTMLElement))throw new Error("`element` must be HTML element");return U.style.backgroundSize=U.backgroundSize.width+"px "+U.backgroundSize.height+"px",["style","hoverStyle"].forEach(function(A){var I=U[A];a[A]=Object.keys(I).reduce(function(F,C){return F[C]=I[C],F},{})}),(u=a.element.ownerDocument.defaultView.getComputedStyle(a.element,"")).display==="inline"?a.style.display="inline-block":u.display==="none"&&(a.style.display="block"),i.mouseHoverAnchor.dirKeys.forEach(function(F){var I=F[0],F="padding"+F[1];parseFloat(u[F])<U.padding[I]&&(a.style[F]=U.padding[I]+"px")}),a.style.display&&(y=a.element.style.display,a.element.style.display=a.style.display),i.mouseHoverAnchor.dirKeys.forEach(function(A){A="padding"+A[1],a.style[A]&&(M[A]=a.element.style[A],a.element.style[A]=a.style[A])}),(O=a.element.getBoundingClientRect()).height<U.minHeight&&(St?(V=U.minHeight,u.boxSizing==="content-box"?V-=parseFloat(u.borderTopWidth)+parseFloat(u.borderBottomWidth)+parseFloat(u.paddingTop)+parseFloat(u.paddingBottom):u.boxSizing==="padding-box"&&(V-=parseFloat(u.borderTopWidth)+parseFloat(u.borderBottomWidth)),a.style.height=V+"px"):a.style.height=parseFloat(u.height)+(U.minHeight-O.height)+"px"),a.style.backgroundPosition=at?O.width-U.backgroundSize.width-U.backgroundPosition.right+"px "+U.backgroundPosition.top+"px":"right "+U.backgroundPosition.right+"px top "+U.backgroundPosition.top+"px",a.style.display&&(a.element.style.display=y),i.mouseHoverAnchor.dirKeys.forEach(function(A){A="padding"+A[1],a.style[A]&&(a.element.style[A]=M[A])}),["style","hoverStyle"].forEach(function(A){var I=a[A],F=l[A];Cn(F)&&Object.keys(F).forEach(function(C){typeof F[C]=="string"||pt(F[C])?I[C]=F[C]:F[C]==null&&delete I[C]})}),typeof l.onSwitch=="function"&&(L=l.onSwitch),l.showEffectName&&r[l.showEffectName]&&(a.showEffectName=m=l.showEffectName),E=l.animOptions,a.elmStyle=f=a.element.style,a.mouseenter=function(A){a.hoverStyleSave=U.getStyles(f,Object.keys(a.hoverStyle)),U.setStyles(f,a.hoverStyle),a.boundTargets.forEach(function(I){rr(I.props,!0,m,E)}),L&&L(A)},a.mouseleave=function(A){U.setStyles(f,a.hoverStyleSave),a.boundTargets.forEach(function(I){rr(I.props,!1,m,E)}),L&&L(A)},!0},bind:function(a,l){var u,f,y,m,E;return l.props.svg?i.mouseHoverAnchor.llShow(l.props,!1,a.showEffectName):ui(function(){i.mouseHoverAnchor.llShow(l.props,!1,a.showEffectName)}),a.enabled||(a.styleSave=i.mouseHoverAnchor.getStyles(a.elmStyle,Object.keys(a.style)),i.mouseHoverAnchor.setStyles(a.elmStyle,a.style),a.removeEventListener=(u=a.element,f=a.mouseenter,y=a.mouseleave,"onmouseenter"in u&&"onmouseleave"in u?(u.addEventListener("mouseenter",f,!1),u.addEventListener("mouseleave",y,!1),function(){u.removeEventListener("mouseenter",f,!1),u.removeEventListener("mouseleave",y,!1)}):(console.warn("mouseenter and mouseleave events polyfill is enabled."),u.addEventListener("mouseover",m=function(L){L.relatedTarget&&(L.relatedTarget===this||this.compareDocumentPosition(L.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||f.apply(this,arguments)}),u.addEventListener("mouseout",E=function(L){L.relatedTarget&&(L.relatedTarget===this||this.compareDocumentPosition(L.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||y.apply(this,arguments)}),function(){u.removeEventListener("mouseover",m,!1),u.removeEventListener("mouseout",E,!1)})),a.enabled=!0),!0},unbind:function(a,l){a.enabled&&a.boundTargets.length<=1&&(a.removeEventListener(),i.mouseHoverAnchor.setStyles(a.elmStyle,a.styleSave),a.enabled=!1),i.mouseHoverAnchor.llShow(l.props,!0,a.showEffectName)},removeOption:function(a,l){i.pointAnchor.removeOption(a,l)},remove:function(a){a.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),a.boundTargets.forEach(function(l){i.mouseHoverAnchor.unbind(a,l)}))},getBBoxNest:function(a,l){return $i(a.element,l.baseWindow)},llShow:function(a,l,u){r[u||a.curStats.show_effect].stop(a,!0,l),a.aplStats.show_on=l},getStyles:function(a,l){return l.reduce(function(u,f){return u[f]=a[f],u},{})},setStyles:function(a,l){Object.keys(l).forEach(function(u){a[u]=l[u]})}},captionLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},x:{},y:{}},textStyleProps:["fontFamily","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","kerning","letterSpacing","wordSpacing","textDecoration"],init:function(a,l){return typeof l.text=="string"&&(a.text=l.text.trim()),!!a.text&&(typeof l.color=="string"&&(a.color=l.color.trim()),a.outlineColor=typeof l.outlineColor=="string"?l.outlineColor.trim():"#fff",Array.isArray(l.offset)&&pt(l.offset[0])&&pt(l.offset[1])&&(a.offset={x:l.offset[0],y:l.offset[1]}),pt(l.lineOffset)&&(a.lineOffset=l.lineOffset),i.captionLabel.textStyleProps.forEach(function(u){l[u]!=null&&(a[u]=l[u])}),a.updateColor=function(u){i.captionLabel.updateColor(a,u)},a.updateSocketXY=function(u){var f,y=a.curStats,m=a.aplStats,E=u.curStats,L=E.position_socketXYSE[a.socketIndex];L.x!=null&&(a.offset?(y.x=L.x+a.offset.x,y.y=L.y+a.offset.y):(f=a.height/2,u=Math.max(E.attach_plugSideLenSE[a.socketIndex]||0,E.line_strokeWidth/2),E=E.position_socketXYSE[a.socketIndex?0:1],L.socketId===En||L.socketId===Xt?(y.x=L.socketId===En?L.x-f-a.width:L.x+f,y.y=E.y<L.y?L.y+u+f:L.y-u-f-a.height):(y.x=E.x<L.x?L.x+u+f:L.x-u-f-a.width,y.y=L.socketId===Wt?L.y-f-a.height:L.y+f)),ce(a,m,"x",f=y.x)&&(a.elmPosition.x.baseVal.getItem(0).value=f),ce(a,m,"y",f=y.y)&&(a.elmPosition.y.baseVal.getItem(0).value=f+a.height))},a.updatePath=function(m){var f=a.curStats,y=a.aplStats,m=m.pathList.animVal||m.pathList.baseVal;m&&(m=i.captionLabel.getMidPoint(m,a.lineOffset),f.x=m.x-a.width/2,f.y=m.y-a.height/2,ce(a,y,"x",m=f.x)&&(a.elmPosition.x.baseVal.getItem(0).value=m),ce(a,y,"y",m=f.y)&&(a.elmPosition.y.baseVal.getItem(0).value=m+a.height))},a.updateShow=function(u){i.captionLabel.updateShow(a,u)},at&&(a.adjustEdge=function(u,f){var y=a.curStats;y.x!=null&&i.captionLabel.adjustEdge(f,{x:y.x,y:y.y,width:a.width,height:a.height},a.strokeWidth/2)}),!0)},updateColor:function(a,y){var u=a.curStats,f=a.aplStats,y=y.curStats;u.color=y=a.color||y.line_color,ce(a,f,"color",y)&&(a.styleFill.fill=y)},updateShow:function(a,l){l=l.isShown===!0,l!==a.isShown&&(a.styleShow.visibility=l?"":"hidden",a.isShown=l)},adjustEdge:function(a,l,u){u={x1:l.x-u,y1:l.y-u,x2:l.x+l.width+u,y2:l.y+l.height+u},u.x1<a.x1&&(a.x1=u.x1),u.y1<a.y1&&(a.y1=u.y1),u.x2>a.x2&&(a.x2=u.x2),u.y2>a.y2&&(a.y2=u.y2)},newText:function(a,l,u,f,y){var m,E,L=l.createElementNS(Se,"text");return L.textContent=a,[L.x,L.y].forEach(function(O){var K=u.createSVGLength();K.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),O.baseVal.initialize(K)}),typeof S!="boolean"&&(S="paintOrder"in L.style),y&&!S?(m=l.createElementNS(Se,"defs"),L.id=f,m.appendChild(L),(E=(a=l.createElementNS(Se,"g")).appendChild(l.createElementNS(Se,"use"))).href.baseVal="#"+f,(l=a.appendChild(l.createElementNS(Se,"use"))).href.baseVal="#"+f,(E=E.style).strokeLinejoin="round",{elmPosition:L,styleText:L.style,styleFill:l.style,styleStroke:E,styleShow:a.style,elmsAppend:[m,a]}):(E=L.style,y&&(E.strokeLinejoin="round",E.paintOrder="stroke"),{elmPosition:L,styleText:E,styleFill:E,styleStroke:y?E:null,styleShow:E,elmsAppend:[L]})},getMidPoint:function(a,l){var u,f,m=ca(a),y=m.segsLen,m=m.lenAll,E=-1,L=m/2+(l||0);if(L<=0)return(u=a[0]).length===2?Ti(u[0],u[1],0):li(u[0],u[1],u[2],u[3],0);if(m<=L)return(u=a[a.length-1]).length===2?Ti(u[0],u[1],1):li(u[0],u[1],u[2],u[3],1);for(f=[];L>y[++E];)f.push(a[E]),L-=y[E];return(u=a[E]).length===2?Ti(u[0],u[1],L/y[E]):li(u[0],u[1],u[2],u[3],Tr(u[0],u[1],u[2],u[3],L))},initSvg:function(a,l){var u,f,y=i.captionLabel.newText(a.text,l.baseWindow.document,l.svg,Je+"-captionLabel-"+a._id,a.outlineColor);["elmPosition","styleFill","styleShow","elmsAppend"].forEach(function(m){a[m]=y[m]}),a.isShown=!1,a.styleShow.visibility="hidden",i.captionLabel.textStyleProps.forEach(function(m){a[m]!=null&&(y.styleText[m]=a[m])}),y.elmsAppend.forEach(function(m){l.svg.appendChild(m)}),u=y.elmPosition.getBBox(),a.width=u.width,a.height=u.height,a.outlineColor&&(f=u.height/9,y.styleStroke.strokeWidth=(f=10<f?10:f<2?2:f)+"px",y.styleStroke.stroke=a.outlineColor),a.strokeWidth=f||0,bt(a.aplStats,i.captionLabel.stats),a.updateColor(l),a.refSocketXY?a.updateSocketXY(l):a.updatePath(l),at&&Lt(l,{}),a.updateShow(l)},bind:function(a,l){var u=l.props;return a.color||ht(u,"cur_line_color",a.updateColor),(a.refSocketXY=l.optionName==="startLabel"||l.optionName==="endLabel")?(a.socketIndex=l.optionName==="startLabel"?0:1,ht(u,"apl_position",a.updateSocketXY),a.offset||(ht(u,"cur_attach_plugSideLenSE",a.updateSocketXY),ht(u,"cur_line_strokeWidth",a.updateSocketXY))):ht(u,"apl_path",a.updatePath),ht(u,"svgShow",a.updateShow),at&&ht(u,"new_edge4viewBox",a.adjustEdge),i.captionLabel.initSvg(a,u),!0},unbind:function(a,l){var u=l.props;a.elmsAppend&&(a.elmsAppend.forEach(function(f){u.svg.removeChild(f)}),a.elmPosition=a.styleFill=a.styleShow=a.elmsAppend=null),bt(a.curStats,i.captionLabel.stats),bt(a.aplStats,i.captionLabel.stats),a.color||ft(u,"cur_line_color",a.updateColor),a.refSocketXY?(ft(u,"apl_position",a.updateSocketXY),a.offset||(ft(u,"cur_attach_plugSideLenSE",a.updateSocketXY),ft(u,"cur_line_strokeWidth",a.updateSocketXY))):ft(u,"apl_path",a.updatePath),ft(u,"svgShow",a.updateShow),at&&(ft(u,"new_edge4viewBox",a.adjustEdge),Lt(u,{}))},removeOption:function(a,l){var u=l.props,f={};f[l.optionName]="",Pi(u,f)},remove:function(a){a.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),a.boundTargets.forEach(function(l){i.captionLabel.unbind(a,l)}))}},pathLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},startOffset:{},pathData:{}},init:function(a,l){return typeof l.text=="string"&&(a.text=l.text.trim()),!!a.text&&(typeof l.color=="string"&&(a.color=l.color.trim()),a.outlineColor=typeof l.outlineColor=="string"?l.outlineColor.trim():"#fff",pt(l.lineOffset)&&(a.lineOffset=l.lineOffset),i.captionLabel.textStyleProps.forEach(function(u){l[u]!=null&&(a[u]=l[u])}),a.updateColor=function(u){i.captionLabel.updateColor(a,u)},a.updatePath=function(u){var f=a.curStats,y=a.aplStats,m=u.curStats,E=u.pathList.animVal||u.pathList.baseVal;E&&(f.pathData=m=i.pathLabel.getOffsetPathData(E,m.line_strokeWidth/2+a.strokeWidth/2+a.height/4,1.25*a.height),tr(m,y.pathData)&&(a.elmPath.setPathData(m),y.pathData=m,a.bBox=a.elmPosition.getBBox(),a.updateStartOffset(u)))},a.updateStartOffset=function(u){var f,y,m=a.curStats,E=a.aplStats,L=u.curStats;m.pathData&&(a.semIndex===2&&!a.lineOffset||(y=m.pathData.reduce(function(O,K){var V,U=K.values;switch(K.type){case"M":f={x:U[0],y:U[1]};break;case"L":V={x:U[0],y:U[1]},f&&(O+=rn(f,V)),f=V;break;case"C":V={x:U[4],y:U[5]},f&&(O+=Yn(f,{x:U[0],y:U[1]},{x:U[2],y:U[3]},V)),f=V}return O},0),u=a.semIndex===0?0:a.semIndex===1?y:y/2,a.semIndex!==2&&(L=Math.max(L.attach_plugBackLenSE[a.semIndex]||0,L.line_strokeWidth/2)+a.strokeWidth/2+a.height/4,u=(u+=a.semIndex===0?L:-L)<0?0:y<u?y:u),a.lineOffset&&(u=(u+=a.lineOffset)<0?0:y<u?y:u),m.startOffset=u,ce(a,E,"startOffset",u)&&(a.elmOffset.startOffset.baseVal.value=u)))},a.updateShow=function(u){i.captionLabel.updateShow(a,u)},at&&(a.adjustEdge=function(u,f){a.bBox&&i.captionLabel.adjustEdge(f,a.bBox,a.strokeWidth/2)}),!0)},getOffsetPathData:function(a,l,u){var f,y,m=[];function E(L,O){return Math.abs(L.x-O.x)<3&&Math.abs(L.y-O.y)<3}return a.forEach(function(L){var O,K,V,U,M,A,I,F,C,T,R;L.length===2?(F=L[0],C=L[1],T=l,R=Math.atan2(F.y-C.y,C.x-F.x)+.5*Math.PI,O=[{x:F.x+Math.cos(R)*T,y:F.y+Math.sin(R)*T*-1},{x:C.x+Math.cos(R)*T,y:C.y+Math.sin(R)*T*-1}],f?(V=f.points,0<=(I=Math.atan2(V[1].y-V[0].y,V[0].x-V[1].x)-Math.atan2(L[0].y-L[1].y,L[1].x-L[0].x))&&I<=Math.PI?K={type:"line",points:O,inside:!0}:(M=oi(V[0],V[1],l),U=oi(O[1],O[0],l),A=V[0],F=O[1],R=(C=M).x-A.x,T=C.y-A.y,I=F.x-U.x,C=F.y-U.y,F=(-T*(A.x-U.x)+R*(A.y-U.y))/(-I*T+R*C),C=(I*(A.y-U.y)-C*(A.x-U.x))/(-I*T+R*C),K=(T=0<=F&&F<=1&&0<=C&&C<=1?{x:A.x+C*R,y:A.y+C*T}:null)?{type:"line",points:[V[1]=T,O[1]]}:(V[1]=E(U,M)?U:M,{type:"line",points:[U,O[1]]}),f.len=rn(V[0],V[1]))):K={type:"line",points:O},K.len=rn(K.points[0],K.points[1]),m.push(f=K)):(m.push({type:"cubic",points:function(ie,le,J,G,ee,W){for(var x,B,Q=Yn(ie,le,J,G)/W,N=1/(W<ee?ee/W*Q:Q),se=[],oe=0;B=(90-(x=li(ie,le,J,G,oe)).angle)*(Math.PI/180),se.push({x:x.x+Math.cos(B)*ee,y:x.y+Math.sin(B)*ee*-1}),!(1<=oe);)1<(oe+=N)&&(oe=1);return se}(L[0],L[1],L[2],L[3],l,16)}),f=null)}),f=null,m.forEach(function(L){var O;f=L.type==="line"?(L.inside&&(f.len>l?((O=f.points)[1]=oi(O[0],O[1],-l),f.len=rn(O[0],O[1])):(f.points=null,f.len=0),L.len>l+u?((O=L.points)[0]=oi(O[1],O[0],-(l+u)),L.len=rn(O[0],O[1])):(L.points=null,L.len=0)),L):null}),m.reduce(function(L,O){var K=O.points;return K&&(y&&E(K[0],y)||L.push({type:"M",values:[K[0].x,K[0].y]}),O.type==="line"?L.push({type:"L",values:[K[1].x,K[1].y]}):(K.shift(),K.forEach(function(V){L.push({type:"L",values:[V.x,V.y]})})),y=K[K.length-1]),L},[])},newText:function(a,l,u,f){var y,m,E,L,O=l.createElementNS(Se,"defs"),K=O.appendChild(l.createElementNS(Se,"path"));return K.id=y=u+"-path",(E=(m=l.createElementNS(Se,"text")).appendChild(l.createElementNS(Se,"textPath"))).href.baseVal="#"+y,E.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),E.textContent=a,typeof S!="boolean"&&(S="paintOrder"in m.style),f&&!S?(m.id=a=u+"-text",O.appendChild(m),(L=(u=l.createElementNS(Se,"g")).appendChild(l.createElementNS(Se,"use"))).href.baseVal="#"+a,(l=u.appendChild(l.createElementNS(Se,"use"))).href.baseVal="#"+a,(L=L.style).strokeLinejoin="round",{elmPosition:m,elmPath:K,elmOffset:E,styleText:m.style,styleFill:l.style,styleStroke:L,styleShow:u.style,elmsAppend:[O,u]}):(L=m.style,f&&(L.strokeLinejoin="round",L.paintOrder="stroke"),{elmPosition:m,elmPath:K,elmOffset:E,styleText:L,styleFill:L,styleStroke:f?L:null,styleShow:L,elmsAppend:[O,m]})},initSvg:function(a,l){var u,f,y,m=i.pathLabel.newText(a.text,l.baseWindow.document,Je+"-pathLabel-"+a._id,a.outlineColor);["elmPosition","elmPath","elmOffset","styleFill","styleShow","elmsAppend"].forEach(function(E){a[E]=m[E]}),a.isShown=!1,a.styleShow.visibility="hidden",i.captionLabel.textStyleProps.forEach(function(E){a[E]!=null&&(m.styleText[E]=a[E])}),m.elmsAppend.forEach(function(E){l.svg.appendChild(E)}),m.elmPath.setPathData([{type:"M",values:[0,100]},{type:"h",values:[100]}]),_n&&(y=m.elmOffset.href.baseVal,m.elmOffset.href.baseVal=""),u=m.elmPosition.getBBox(),_n&&(m.elmOffset.href.baseVal=y),m.styleText.textAnchor=["start","end","middle"][a.semIndex],a.semIndex!==2||a.lineOffset||m.elmOffset.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,50),a.height=u.height,a.outlineColor&&(f=u.height/9,m.styleStroke.strokeWidth=(f=10<f?10:f<2?2:f)+"px",m.styleStroke.stroke=a.outlineColor),a.strokeWidth=f||0,bt(a.aplStats,i.pathLabel.stats),a.updateColor(l),a.updatePath(l),a.updateStartOffset(l),at&&Lt(l,{}),a.updateShow(l)},bind:function(a,l){var u=l.props;return a.color||ht(u,"cur_line_color",a.updateColor),ht(u,"cur_line_strokeWidth",a.updatePath),ht(u,"apl_path",a.updatePath),a.semIndex=l.optionName==="startLabel"?0:l.optionName==="endLabel"?1:2,a.semIndex===2&&!a.lineOffset||ht(u,"cur_attach_plugBackLenSE",a.updateStartOffset),ht(u,"svgShow",a.updateShow),at&&ht(u,"new_edge4viewBox",a.adjustEdge),i.pathLabel.initSvg(a,u),!0},unbind:function(a,l){var u=l.props;a.elmsAppend&&(a.elmsAppend.forEach(function(f){u.svg.removeChild(f)}),a.elmPosition=a.elmPath=a.elmOffset=a.styleFill=a.styleShow=a.elmsAppend=null),bt(a.curStats,i.pathLabel.stats),bt(a.aplStats,i.pathLabel.stats),a.color||ft(u,"cur_line_color",a.updateColor),ft(u,"cur_line_strokeWidth",a.updatePath),ft(u,"apl_path",a.updatePath),a.semIndex===2&&!a.lineOffset||ft(u,"cur_attach_plugBackLenSE",a.updateStartOffset),ft(u,"svgShow",a.updateShow),at&&(ft(u,"new_edge4viewBox",a.adjustEdge),Lt(u,{}))},removeOption:function(a,l){var u=l.props,f={};f[l.optionName]="",Pi(u,f)},remove:function(a){a.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),a.boundTargets.forEach(function(l){i.pathLabel.unbind(a,l)}))}}},Object.keys(i).forEach(function(a){Ht[a]=function(){return new h(i[a],Array.prototype.slice.call(arguments))}}),Ht.positionByWindowResize=!0,window.addEventListener("resize",Wn.add(function(){Ht.positionByWindowResize&&Object.keys(_t).forEach(function(a){Lt(_t[a],{position:!0})})}),!1),Ht}();function is(t){"@babel/helpers - typeof";return is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},is(t)}var Y1=/^\s+/,K1=/\s+$/;function ve(t,r){if(t=t||"",r=r||{},t instanceof ve)return t;if(!(this instanceof ve))return new ve(t,r);var i=Z1(t);this._originalInput=t,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=Math.round(100*this._a)/100,this._format=r.format||i.format,this._gradientType=r.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=i.ok}ve.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var r=this.toRgb();return(r.r*299+r.g*587+r.b*114)/1e3},getLuminance:function(){var r=this.toRgb(),i,h,c,p,_,b;return i=r.r/255,h=r.g/255,c=r.b/255,i<=.03928?p=i/12.92:p=Math.pow((i+.055)/1.055,2.4),h<=.03928?_=h/12.92:_=Math.pow((h+.055)/1.055,2.4),c<=.03928?b=c/12.92:b=Math.pow((c+.055)/1.055,2.4),.2126*p+.7152*_+.0722*b},setAlpha:function(r){return this._a=lc(r),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var r=Hu(this._r,this._g,this._b);return{h:r.h*360,s:r.s,v:r.v,a:this._a}},toHsvString:function(){var r=Hu(this._r,this._g,this._b),i=Math.round(r.h*360),h=Math.round(r.s*100),c=Math.round(r.v*100);return this._a==1?"hsv("+i+", "+h+"%, "+c+"%)":"hsva("+i+", "+h+"%, "+c+"%, "+this._roundA+")"},toHsl:function(){var r=Wu(this._r,this._g,this._b);return{h:r.h*360,s:r.s,l:r.l,a:this._a}},toHslString:function(){var r=Wu(this._r,this._g,this._b),i=Math.round(r.h*360),h=Math.round(r.s*100),c=Math.round(r.l*100);return this._a==1?"hsl("+i+", "+h+"%, "+c+"%)":"hsla("+i+", "+h+"%, "+c+"%, "+this._roundA+")"},toHex:function(r){return Vu(this._r,this._g,this._b,r)},toHexString:function(r){return"#"+this.toHex(r)},toHex8:function(r){return J1(this._r,this._g,this._b,this._a,r)},toHex8String:function(r){return"#"+this.toHex8(r)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(lt(this._r,255)*100)+"%",g:Math.round(lt(this._g,255)*100)+"%",b:Math.round(lt(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(lt(this._r,255)*100)+"%, "+Math.round(lt(this._g,255)*100)+"%, "+Math.round(lt(this._b,255)*100)+"%)":"rgba("+Math.round(lt(this._r,255)*100)+"%, "+Math.round(lt(this._g,255)*100)+"%, "+Math.round(lt(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:hm[Vu(this._r,this._g,this._b,!0)]||!1},toFilter:function(r){var i="#"+Gu(this._r,this._g,this._b,this._a),h=i,c=this._gradientType?"GradientType = 1, ":"";if(r){var p=ve(r);h="#"+Gu(p._r,p._g,p._b,p._a)}return"progid:DXImageTransform.Microsoft.gradient("+c+"startColorstr="+i+",endColorstr="+h+")"},toString:function(r){var i=!!r;r=r||this._format;var h=!1,c=this._a<1&&this._a>=0,p=!i&&c&&(r==="hex"||r==="hex6"||r==="hex3"||r==="hex4"||r==="hex8"||r==="name");return p?r==="name"&&this._a===0?this.toName():this.toRgbString():(r==="rgb"&&(h=this.toRgbString()),r==="prgb"&&(h=this.toPercentageRgbString()),(r==="hex"||r==="hex6")&&(h=this.toHexString()),r==="hex3"&&(h=this.toHexString(!0)),r==="hex4"&&(h=this.toHex8String(!0)),r==="hex8"&&(h=this.toHex8String()),r==="name"&&(h=this.toName()),r==="hsl"&&(h=this.toHslString()),r==="hsv"&&(h=this.toHsvString()),h||this.toHexString())},clone:function(){return ve(this.toString())},_applyModification:function(r,i){var h=r.apply(null,[this].concat([].slice.call(i)));return this._r=h._r,this._g=h._g,this._b=h._b,this.setAlpha(h._a),this},lighten:function(){return this._applyModification(im,arguments)},brighten:function(){return this._applyModification(rm,arguments)},darken:function(){return this._applyModification(am,arguments)},desaturate:function(){return this._applyModification(em,arguments)},saturate:function(){return this._applyModification(tm,arguments)},greyscale:function(){return this._applyModification(nm,arguments)},spin:function(){return this._applyModification(sm,arguments)},_applyCombination:function(r,i){return r.apply(null,[this].concat([].slice.call(i)))},analogous:function(){return this._applyCombination(um,arguments)},complement:function(){return this._applyCombination(om,arguments)},monochromatic:function(){return this._applyCombination(cm,arguments)},splitcomplement:function(){return this._applyCombination(lm,arguments)},triad:function(){return this._applyCombination(Uu,[3])},tetrad:function(){return this._applyCombination(Uu,[4])}};ve.fromRatio=function(t,r){if(is(t)=="object"){var i={};for(var h in t)t.hasOwnProperty(h)&&(h==="a"?i[h]=t[h]:i[h]=Qr(t[h]));t=i}return ve(t,r)};function Z1(t){var r={r:0,g:0,b:0},i=1,h=null,c=null,p=null,_=!1,b=!1;return typeof t=="string"&&(t=_m(t)),is(t)=="object"&&(ri(t.r)&&ri(t.g)&&ri(t.b)?(r=X1(t.r,t.g,t.b),_=!0,b=String(t.r).substr(-1)==="%"?"prgb":"rgb"):ri(t.h)&&ri(t.s)&&ri(t.v)?(h=Qr(t.s),c=Qr(t.v),r=Q1(t.h,h,c),_=!0,b="hsv"):ri(t.h)&&ri(t.s)&&ri(t.l)&&(h=Qr(t.s),p=Qr(t.l),r=j1(t.h,h,p),_=!0,b="hsl"),t.hasOwnProperty("a")&&(i=t.a)),i=lc(i),{ok:_,format:t.format||b,r:Math.min(255,Math.max(r.r,0)),g:Math.min(255,Math.max(r.g,0)),b:Math.min(255,Math.max(r.b,0)),a:i}}function X1(t,r,i){return{r:lt(t,255)*255,g:lt(r,255)*255,b:lt(i,255)*255}}function Wu(t,r,i){t=lt(t,255),r=lt(r,255),i=lt(i,255);var h=Math.max(t,r,i),c=Math.min(t,r,i),p,_,b=(h+c)/2;if(h==c)p=_=0;else{var S=h-c;switch(_=b>.5?S/(2-h-c):S/(h+c),h){case t:p=(r-i)/S+(r<i?6:0);break;case r:p=(i-t)/S+2;break;case i:p=(t-r)/S+4;break}p/=6}return{h:p,s:_,l:b}}function j1(t,r,i){var h,c,p;t=lt(t,360),r=lt(r,100),i=lt(i,100);function _(H,j,z){return z<0&&(z+=1),z>1&&(z-=1),z<1/6?H+(j-H)*6*z:z<1/2?j:z<2/3?H+(j-H)*(2/3-z)*6:H}if(r===0)h=c=p=i;else{var b=i<.5?i*(1+r):i+r-i*r,S=2*i-b;h=_(S,b,t+1/3),c=_(S,b,t),p=_(S,b,t-1/3)}return{r:h*255,g:c*255,b:p*255}}function Hu(t,r,i){t=lt(t,255),r=lt(r,255),i=lt(i,255);var h=Math.max(t,r,i),c=Math.min(t,r,i),p,_,b=h,S=h-c;if(_=h===0?0:S/h,h==c)p=0;else{switch(h){case t:p=(r-i)/S+(r<i?6:0);break;case r:p=(i-t)/S+2;break;case i:p=(t-r)/S+4;break}p/=6}return{h:p,s:_,v:b}}function Q1(t,r,i){t=lt(t,360)*6,r=lt(r,100),i=lt(i,100);var h=Math.floor(t),c=t-h,p=i*(1-r),_=i*(1-c*r),b=i*(1-(1-c)*r),S=h%6,H=[i,_,p,p,b,i][S],j=[b,i,i,_,p,p][S],z=[p,p,b,i,i,_][S];return{r:H*255,g:j*255,b:z*255}}function Vu(t,r,i,h){var c=[Fn(Math.round(t).toString(16)),Fn(Math.round(r).toString(16)),Fn(Math.round(i).toString(16))];return h&&c[0].charAt(0)==c[0].charAt(1)&&c[1].charAt(0)==c[1].charAt(1)&&c[2].charAt(0)==c[2].charAt(1)?c[0].charAt(0)+c[1].charAt(0)+c[2].charAt(0):c.join("")}function J1(t,r,i,h,c){var p=[Fn(Math.round(t).toString(16)),Fn(Math.round(r).toString(16)),Fn(Math.round(i).toString(16)),Fn(uc(h))];return c&&p[0].charAt(0)==p[0].charAt(1)&&p[1].charAt(0)==p[1].charAt(1)&&p[2].charAt(0)==p[2].charAt(1)&&p[3].charAt(0)==p[3].charAt(1)?p[0].charAt(0)+p[1].charAt(0)+p[2].charAt(0)+p[3].charAt(0):p.join("")}function Gu(t,r,i,h){var c=[Fn(uc(h)),Fn(Math.round(t).toString(16)),Fn(Math.round(r).toString(16)),Fn(Math.round(i).toString(16))];return c.join("")}ve.equals=function(t,r){return!t||!r?!1:ve(t).toRgbString()==ve(r).toRgbString()};ve.random=function(){return ve.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function em(t,r){r=r===0?0:r||10;var i=ve(t).toHsl();return i.s-=r/100,i.s=cs(i.s),ve(i)}function tm(t,r){r=r===0?0:r||10;var i=ve(t).toHsl();return i.s+=r/100,i.s=cs(i.s),ve(i)}function nm(t){return ve(t).desaturate(100)}function im(t,r){r=r===0?0:r||10;var i=ve(t).toHsl();return i.l+=r/100,i.l=cs(i.l),ve(i)}function rm(t,r){r=r===0?0:r||10;var i=ve(t).toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(255*-(r/100)))),i.g=Math.max(0,Math.min(255,i.g-Math.round(255*-(r/100)))),i.b=Math.max(0,Math.min(255,i.b-Math.round(255*-(r/100)))),ve(i)}function am(t,r){r=r===0?0:r||10;var i=ve(t).toHsl();return i.l-=r/100,i.l=cs(i.l),ve(i)}function sm(t,r){var i=ve(t).toHsl(),h=(i.h+r)%360;return i.h=h<0?360+h:h,ve(i)}function om(t){var r=ve(t).toHsl();return r.h=(r.h+180)%360,ve(r)}function Uu(t,r){if(isNaN(r)||r<=0)throw new Error("Argument to polyad must be a positive number");for(var i=ve(t).toHsl(),h=[ve(t)],c=360/r,p=1;p<r;p++)h.push(ve({h:(i.h+p*c)%360,s:i.s,l:i.l}));return h}function lm(t){var r=ve(t).toHsl(),i=r.h;return[ve(t),ve({h:(i+72)%360,s:r.s,l:r.l}),ve({h:(i+216)%360,s:r.s,l:r.l})]}function um(t,r,i){r=r||6,i=i||30;var h=ve(t).toHsl(),c=360/i,p=[ve(t)];for(h.h=(h.h-(c*r>>1)+720)%360;--r;)h.h=(h.h+c)%360,p.push(ve(h));return p}function cm(t,r){r=r||6;for(var i=ve(t).toHsv(),h=i.h,c=i.s,p=i.v,_=[],b=1/r;r--;)_.push(ve({h,s:c,v:p})),p=(p+b)%1;return _}ve.mix=function(t,r,i){i=i===0?0:i||50;var h=ve(t).toRgb(),c=ve(r).toRgb(),p=i/100,_={r:(c.r-h.r)*p+h.r,g:(c.g-h.g)*p+h.g,b:(c.b-h.b)*p+h.b,a:(c.a-h.a)*p+h.a};return ve(_)};ve.readability=function(t,r){var i=ve(t),h=ve(r);return(Math.max(i.getLuminance(),h.getLuminance())+.05)/(Math.min(i.getLuminance(),h.getLuminance())+.05)};ve.isReadable=function(t,r,i){var h=ve.readability(t,r),c,p;switch(p=!1,c=gm(i),c.level+c.size){case"AAsmall":case"AAAlarge":p=h>=4.5;break;case"AAlarge":p=h>=3;break;case"AAAsmall":p=h>=7;break}return p};ve.mostReadable=function(t,r,i){var h=null,c=0,p,_,b,S;i=i||{},_=i.includeFallbackColors,b=i.level,S=i.size;for(var H=0;H<r.length;H++)p=ve.readability(t,r[H]),p>c&&(c=p,h=ve(r[H]));return ve.isReadable(t,h,{level:b,size:S})||!_?h:(i.includeFallbackColors=!1,ve.mostReadable(t,["#fff","#000"],i))};var xo=ve.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},hm=ve.hexNames=fm(xo);function fm(t){var r={};for(var i in t)t.hasOwnProperty(i)&&(r[t[i]]=i);return r}function lc(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function lt(t,r){dm(t)&&(t="100%");var i=pm(t);return t=Math.min(r,Math.max(0,parseFloat(t))),i&&(t=parseInt(t*r,10)/100),Math.abs(t-r)<1e-6?1:t%r/parseFloat(r)}function cs(t){return Math.min(1,Math.max(0,t))}function hn(t){return parseInt(t,16)}function dm(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function pm(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Fn(t){return t.length==1?"0"+t:""+t}function Qr(t){return t<=1&&(t=t*100+"%"),t}function uc(t){return Math.round(parseFloat(t)*255).toString(16)}function qu(t){return hn(t)/255}var Rn=function(){var t="[-\\+]?\\d+%?",r="[-\\+]?\\d*\\.\\d+%?",i="(?:"+r+")|(?:"+t+")",h="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?",c="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?";return{CSS_UNIT:new RegExp(i),rgb:new RegExp("rgb"+h),rgba:new RegExp("rgba"+c),hsl:new RegExp("hsl"+h),hsla:new RegExp("hsla"+c),hsv:new RegExp("hsv"+h),hsva:new RegExp("hsva"+c),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ri(t){return!!Rn.CSS_UNIT.exec(t)}function _m(t){t=t.replace(Y1,"").replace(K1,"").toLowerCase();var r=!1;if(xo[t])t=xo[t],r=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var i;return(i=Rn.rgb.exec(t))?{r:i[1],g:i[2],b:i[3]}:(i=Rn.rgba.exec(t))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=Rn.hsl.exec(t))?{h:i[1],s:i[2],l:i[3]}:(i=Rn.hsla.exec(t))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=Rn.hsv.exec(t))?{h:i[1],s:i[2],v:i[3]}:(i=Rn.hsva.exec(t))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=Rn.hex8.exec(t))?{r:hn(i[1]),g:hn(i[2]),b:hn(i[3]),a:qu(i[4]),format:r?"name":"hex8"}:(i=Rn.hex6.exec(t))?{r:hn(i[1]),g:hn(i[2]),b:hn(i[3]),format:r?"name":"hex"}:(i=Rn.hex4.exec(t))?{r:hn(i[1]+""+i[1]),g:hn(i[2]+""+i[2]),b:hn(i[3]+""+i[3]),a:qu(i[4]+""+i[4]),format:r?"name":"hex8"}:(i=Rn.hex3.exec(t))?{r:hn(i[1]+""+i[1]),g:hn(i[2]+""+i[2]),b:hn(i[3]+""+i[3]),format:r?"name":"hex"}:!1}function gm(t){var r,i;return t=t||{level:"AA",size:"small"},r=(t.level||"AA").toUpperCase(),i=(t.size||"small").toLowerCase(),r!=="AA"&&r!=="AAA"&&(r="AA"),i!=="small"&&i!=="large"&&(i="small"),{level:r,size:i}}const mm="annotations.json",rs={red:"#ee2a2a",green:"#64c466",blue:"#2186eb",yellow:"#f7ce46",teal:"#3ca3a7",orange:"#e67c43"},vm={props:["hits_data","set_hits_data","current_hit","edits_dict","set_edits_dict","editor_open","set_editor_state","refresh_interface_edit","annotating_edit_span_category_id","set_annotating_edit_span_category_id","annotating_edit_span","set_annotating_edit_span","lines","set_lines","config"],data(){return{edits_html:"",line_locked:!1}},watch:{current_hit(){$(`#circle-${this.current_hit}`).addClass("circle-active"),this.process_edits_html(),this.draw_lines()},hits_data(){this.process_edits_html(),this.draw_lines()},edits_dict(){this.draw_lines()}},methods:{annotate_edit(t){const r=this.hits_data[this.current_hit-1].original,i=this.hits_data[this.current_hit-1].simplified,h=this.edits_dict,c=t.target.dataset.category,p=t.target.dataset.id,_=parseInt(t.target.dataset.id.split("-")[1]);if($(".child-question").hide(),this.editor_open){$(`.quality-selection[data-category=${c}]`).hide(400),this.refresh_interface_edit();return}else $(".quality-selection").hide(400),$(`.quality-selection[data-category=${c}]`).slideDown(400),$(t.target).addClass(`txt-${c}`),this.set_editor_state(!this.editor_open);$(`.${c}[data-id=${p}]`).removeClass(`border-${c}-light`).addClass(`white border-${c} bg-${c}`);let b=h.find(function(S){return S.category===c&&S.id===_});if(this.getEditConfig(c).multi_span){let S=b.input_idx,H="";for(let z=0;z<S.length;z++)z!=0&&(H+=`<span class="edit-type txt-${c} f3"> and </span>`),H+=`<span class="pa1 edit-text br-pill-ns txt-${c} border-${c}-all ${c}_below">
                        &nbsp${r.substring(S[z][0],S[z][1])}&nbsp</span>`;this.set_annotating_edit_span(H,"original");let j=b.output_idx;H="";for(let z=0;z<j.length;z++)z!=0&&(H+=`<span class="edit-type txt-${c} f3"> and </span>`),H+=`<span class="pa1 edit-text br-pill-ns txt-${c} border-${c}-all ${c}_below">
                        &nbsp${i.substring(j[z][0],j[z][1])}&nbsp</span>`;this.set_annotating_edit_span(H,"simplified")}else if(this.getEditConfig(c).type=="composite"){let S="",H="";S+=`<span class="edit-type txt-${c}${H} f3"> (</span>`;for(let j=0;j<b.constituent_edits.length;j++){const z=b.constituent_edits[j],_e=z.category;S+=this.render_edit_text(z,_,_e,H),j==b.constituent_edits.length-1?S+=`<span class="edit-type txt-${c}${H} f3"> )</span>`:S+=`<span class="edit-type txt-${c}${H} f3"> , </span>`}this.set_annotating_edit_span(S,"composite")}else{if(b.hasOwnProperty("input_idx")){let S=b.input_idx[0],H="";H+=`<span class="pa1 edit-text br-pill-ns txt-${c} border-${c}-all ${c}_below">
                        &nbsp${r.substring(S[0],S[1])}&nbsp</span>`,this.set_annotating_edit_span(H,"original")}if(b.hasOwnProperty("output_idx")){let S=b.output_idx[0],H="";H+=`<span class="pa1 edit-text br-pill-ns txt-${c} border-${c}-all ${c}_below">
                        &nbsp${i.substring(S[0],S[1])}&nbsp</span>`,this.set_annotating_edit_span(H,"simplified")}}this.set_annotating_edit_span_category_id(_)},trash_edit(t){const r=parseInt(t.target.dataset.id.split("-")[1]),i=t.target.dataset.category,h=this.hits_data[this.current_hit-1].edits;let c=[];for(const _ of h)_.id==r&&_.category==i||c.push(_);let p=vt.cloneDeep(this.hits_data);p[this.current_hit-1].edits=c,this.set_hits_data(p)},hasAnnotation(t){return t.annotation!=null},getEditConfig(t){return this.config.hasOwnProperty("edits")?this.config.edits.find(function(r){return r.name===t}):{}},getAnnotationHtml(t,r){if(r==null)return"";let i="";for(let h of t){let c=h.name;if(h.hasOwnProperty("options"))if(h.options=="binary")r[c]=="yes"&&(i+=` <span class="brown ba bw1 pa1 br-pills">${c}</span>`);else if(h.options=="likert-3")r[c]!=null&&(i+=`<span class="light-pink br-pills ba bw1 pa1">${c}: ${r[c]}</span>`);else{let p=r[c].val;p!=null&&p!=""&&(i=`<span class="light-purple ba bw1 pa1">${p}</span>`,h.hasOwnProperty("options")&&(i+=this.getAnnotationHtml(h.options,r[c])))}}return i},render_edit_text(t,r,i,h){let c="";if(c+=`
                <span data-id="${i}-${r}" data-category="${i}" class="default_cursor" @mouseover="hover_span" @mouseout="un_hover_span">
                    <span class="edit-type txt-${i}${h} f3">${i} </span>
                    <span class="pa1 edit-text br-pill-ns txt-${i}${h} border-${i}${h}-all ${i}_below" data-id="${i}-${r}" data-category="${i}">`,t.hasOwnProperty("input_idx")){let p=t.input_idx[0];c+=`
                    &nbsp${this.hits_data[this.current_hit-1].original.substring(p[0],p[1])}&nbsp</span>`}else if(t.hasOwnProperty("output_idx")){let p=t.output_idx[0];c+=`
                    &nbsp${this.hits_data[this.current_hit-1].simplified.substring(p[0],p[1])}&nbsp</span>`}if(this.getEditConfig(i).multi_span){if(t.hasOwnProperty("input_idx")){let p=t.input_idx.slice(1);for(let _ of p)(_[0]!=in_span[0]||_[1]!=in_span[1])&&(c+=`
                                <span class="edit-type txt-${i}${h} f3"> and </span>
                                    <span class="pa1 edit-text br-pill-ns txt-${i}${h} border-${i}${h}-all ${i}_below" data-id="${i}-${r}" data-category="${i}">
                                        &nbsp${this.hits_data[this.current_hit-1].original.substring(_[0],_[1])}&nbsp
                                    </span>`)}if(c+=`<span class="edit-type txt-${i}${h} f3"> with </span>`,t.hasOwnProperty("output_idx")){let p=t.output_idx;for(let _=0;_<p.length;_++){let b=p[_];_!=0&&(c+=`<span class="edit-type txt-${i}${h} f3"> and </span>`),c+=`
                            <span class="pa1 edit-text br-pill-ns txt-${i}${h} border-${i}${h}-all ${i}_below" data-id="${i}-${r}" data-category="${i}">
                                &nbsp${this.hits_data[this.current_hit-1].simplified.substring(b[0],b[1])}&nbsp</span>`}}}return c},process_edits_html(){let t="",r=vt.cloneDeep(this.hits_data[this.current_hit-1].edits);for(let i of r){let h=i.id,c=i.category,p=this.hasAnnotation(i)?"":"-light";if(t+=`
                    <div class='cf'>
                        <div class="fl w-80 mb4 edit">`,this.getEditConfig(c).type=="composite"){const _=this.getEditConfig(c).icon;t+=`
                        <span data-id="${c}-${h}" data-category="${c}" class="default_cursor" @mouseover="hover_span" @mouseout="un_hover_span">
                            <span class="edit-type txt-${c}${p} f3">${c} </span>
                            <span class="pa1 edit-text br-pill-ns txt-${c}${p} border-${c}${p}-all ${c}_below" data-id="${c}-${h}" data-category="${c}">
                                &nbsp<i class="fa-solid ${_}"></i>&nbsp</span>
                                <span class="edit-type txt-${c}${p} f3"> (</span>`;for(let b=0;b<i.constituent_edits.length;b++){const S=i.constituent_edits[b],H=S.category;t+=this.render_edit_text(S,h,H,p),t+="</span>",b!=i.constituent_edits.length-1?t+=`<span class="edit-type txt-${c}${p} f3"> , </span>`:t+=`<span class="edit-type txt-${c}${p} f3"> )</span>`}}else t+=this.render_edit_text(i,h,c,p);if(t+=" : ",!this.hasAnnotation(i))t+=`
                        <span class="f4 i black-60">this edit is not annotated yet, click <i class="fa-solid fa-pencil"></i> to start!</span>
                    `;else{const _=this.getEditConfig(c);let b=this.getAnnotationHtml(_.annotation,i.annotation);t+=`<span class="f4 i">${b}</span>`}t+=`
                        </span>
                    </div>
                    <div class="fl w-20 mb4 operation tc">
                        <i @click="annotate_edit" class="annotation-icon fa-solid fa-pencil mr3 pointer dim" data-id="${c}-${h}" data-category="${c}"></i>
                        <i @click="trash_edit" class="fa-solid fa-trash-can ml4 pointer dim" data-id="${c}-${h}" data-category="${c}"></i>
                    </div>
                </div>`}this.set_edits_dict(r),this.edits_html=t},clear_lines:function(){let t=this.lines;for(let r in t)for(let i in t[r])if(t[r][i]instanceof Array)for(let h in t[r][i])t[r][i][h]!=null&&t[r][i][h].remove(),t[r][i][h]=null;else t[r][i]!=null&&t[r][i].remove(),t[r][i]=null},draw_lines:function(){if(this.line_locked||!this.config.hasOwnProperty("edits"))return;this.line_locked=!0,this.clear_lines();let t=Object.fromEntries(this.config.edits.map(i=>[i.name,{}])),r=vt.cloneDeep(this.hits_data[this.current_hit-1].edits);for(let i of r){let h=i.id,c=i.category;const p=this.getEditConfig(c),_={endPlug:"behind",size:3,path:"straight"};let b=p.color;if(rs.hasOwnProperty(b)&&(b=rs[b]),this.hasAnnotation(i)||(b=ve(b).lighten(25).toHexString()),_.color=b,p.type=="composite")for(let S of i.constituent_edits){t[c][h]=[];const H=S.id,j=S.category,z=this.getEditConfig(j);z.enable_input&&z.enable_output&&t[c][h].push(new Bu($(`.${c}.original_span[data-id='${c}-${h}'][data-childcategory=${j}][data-childid=${H}]`)[0],$(`.${c}.simplified_span[data-id='${c}-${h}'][data-childcategory=${j}][data-childid=${H}]`)[0],_))}else p.enable_input&&p.enable_output&&($(`.${c}.original_span`)[0]==null&&console.error("Something went wrong!"),t[c][h]=new Bu($(`.${c}.original_span[data-id='${c}-${h}']`)[0],$(`.${c}.simplified_span[data-id='${c}-${h}']`)[0],_))}this.set_lines(t),this.line_locked=!1},hover_span(){},un_hover_span(){}},computed:{get_edits_html(){return{template:`<div id="edits_html" class="f4 lh-paras">${this.edits_html}</div>`,methods:{annotate_edit:this.annotate_edit,trash_edit:this.trash_edit,hover_span:this.hover_span,un_hover_span:this.un_hover_span}}}},created(){window.addEventListener("resize",this.draw_lines)},destroyed(){window.removeEventListener("resize",this.draw_lines)}},ym=Object.assign(vm,{__name:"EditList",setup(t){return(r,i)=>(Ge(),ea(Co(r.get_edits_html)))}}),bm={class:"mt1 cf"},xm={class:"fl w-80"},Sm={class:"f3 courier ttu"},wm={class:"fl w-20 tc"},Em=ae("i",{class:"fa-solid fa-plus fa-1-5x icon-default pointer mr2"},null,-1),km=ae("span",{class:"f4"},"Add Edit",-1),Am=[Em,km],Cm={id:"hits-data",class:"mt1 dn"},Om={props:["hits_data","set_hits_data","current_hit","edits_dict","set_edits_dict","editor_open","set_editor_state","refresh_interface_edit","annotating_edit_span_category_id","set_annotating_edit_span_category_id","annotating_edit_span","set_annotating_edit_span","lines","set_lines","config"],data(){return{}},methods:{add_an_edit(){this.editor_open?($("#add_an_edit").hide(400),$(".icon-default").removeClass("open")):($("#add_an_edit").slideDown(400),$(".icon-default").addClass("open")),this.set_editor_state(!this.editor_open)}},computed:{annotated_edits(){if(this.hits_data==null)return 0;let t=this.hits_data[this.current_hit-1].edits;if(t==null)return 0;var r=0;return t.forEach(function(i){i.hasOwnProperty("annotation")&&i.annotation!==null&&r++}),r},total_edits(){if(this.hits_data==null)return 0;let t=this.hits_data[this.current_hit-1].edits;return t==null?0:t.length}}},Mm=Object.assign(Om,{__name:"AnnotationViewer",setup(t){return(r,i)=>(Ge(),Ye("section",null,[ae("div",bm,[ae("div",xm,[ae("p",Sm,[kt("Edit Annotations ("),ae("span",null,Rt(r.annotated_edits)+"/"+Rt(r.total_edits),1),kt(")")])]),ae("div",wm,[ae("p",{onClick:i[0]||(i[0]=(...h)=>r.add_an_edit&&r.add_an_edit(...h)),class:"add_button pa2 br-pill-ns ba bw1 grow"},Am)])]),ae("div",null,[Si(ym,wi(r.$props,{config:t.config}),null,16,["config"])]),ae("div",Cm,Rt(t.hits_data),1)]))}}),Im={data(){return{original_html:""}},props:["hits_data","current_hit","edits_dict","selected_state","selected_edits_html","selected_edits","set_selected_edits","set_span_text","set_span_indices","set_span_category","remove_selected","lines","set_lines","process_edit_list","hasAnnotations","is_selected","get_selected_index","multi_select_enabled","render_sentence","click_span","hover_span","un_hover_span","hit_box_config"],watch:{current_hit(){this.process_original_html()},hits_data(){this.process_original_html()},set_span_text(){this.process_original_html()},selected_state(){this.process_original_html_with_selected_span(this.selected_state.original_category)}},methods:{process_original_html(){this.process_original_html_with_selected_span(null)},process_original_html_with_selected_span(t){const r="input_idx",i="original_span",h=this.hits_data[this.current_hit-1].original;this.original_html=this.render_sentence(h,r,i,t)},select_original_html(){if(!this.hit_box_config.enable_select_original_sentence)return;let t=$("input[name=edit_cotegory]:checked").val(),r=window.getSelection();if(r.anchorNode!=r.focusNode||r.anchorNode==null){this.process_original_html_with_selected_span(t);return}let i=r.getRangeAt(0),[h,c]=[i.startOffset,i.endOffset];if(h==c)return;c-=1;let p=this.hits_data[this.current_hit-1].original;for(;p.charAt(h)==" ";)h+=1;for(;h-1>=0&&p.charAt(h-1)!=" ";)h-=1;for(;p.charAt(c)==" ";)c-=1;for(;c+1<=p.length-1&&p.charAt(c+1)!=" ";)c+=1;if(c+=1,h>=c){this.process_original_html_with_selected_span(t);return}let _=`<span class="bg-${t}-light"> ${p.substring(h,c)} </span>`;if(this.set_span_text(_,"original"),this.hit_box_config.enable_multi_select_original_sentence){let b=this.selected_state.original_idx;(b==null||b.length==0)&&(b=[]),b.push([h,c]),this.set_span_indices(b,"original");let S="";for(let H=0;H<b.length;H++){let[j,z]=b[H];S+=`
                    <span class="bg-${t}-light"> 
                        <span @click="remove_selected('${t}', ${j}, ${z})" class="hover-white black br-pill mr1 pointer">✘</span>
                            ${p.substring(j,z)} </span>&nbsp&nbsp`}this.set_span_text(S,"original")}else this.set_span_indices([h,c],"original");this.set_span_category(t,"original"),this.process_original_html_with_selected_span(t)},deselect_original_html(){this.hit_box_config.enable_select_original_sentence&&($("#original-sentence").html(this.hits_data[this.current_hit-1].original),this.original_html=this.hits_data[this.current_hit-1].original)}},computed:{get_original_html(){return{template:`<div @mousedown='deselect_original_html' @mouseup='select_original_html' id="original-sentence" class="f4 lh-paras">${this.original_html}</div>`,methods:{select_original_html:this.select_original_html,deselect_original_html:this.deselect_original_html,remove_selected:this.remove_selected,hover_span:this.hover_span,un_hover_span:this.un_hover_span,click_span:this.click_span}}}}},Lm=Object.assign(Im,{__name:"OriginalSent",setup(t){return(r,i)=>(Ge(),ea(Co(r.get_original_html)))}}),$m={data(){return{simplified_html:""}},props:["hits_data","current_hit","edits_dict","selected_edits_html","selected_edits","set_selected_edits","selected_state","set_span_text","set_span_indices","set_span_category","remove_selected","lines","set_lines","process_edit_list","hasAnnotations","is_selected","get_selected_index","multi_select_enabled","render_sentence","click_span","hover_span","un_hover_span","hit_box_config"],watch:{current_hit(){this.process_simplified_html()},hits_data(){this.process_simplified_html()},set_span_text(){this.process_simplified_html()},selected_state(){this.process_simplified_html_with_selected_span(this.selected_state.simplified_category)}},methods:{process_simplified_html(){const t="output_idx",r="simplified_span",i=this.hits_data[this.current_hit-1].simplified;this.simplified_html=this.render_sentence(i,t,r,null)},process_simplified_html_with_selected_span(t){const r="output_idx",i="simplified_span",h=this.hits_data[this.current_hit-1].simplified;this.simplified_html=this.render_sentence(h,r,i,t)},select_simplified_html(t){if(!this.hit_box_config.enable_select_simplified_sentence)return;let r=$("input[name=edit_cotegory]:checked").val(),i=window.getSelection();if(i.anchorNode!=i.focusNode||i.anchorNode==null){this.process_simplified_html_with_selected_span(r);return}let h=i.getRangeAt(0),[c,p]=[h.startOffset,h.endOffset];if(c==p)return;p-=1;let _=this.hits_data[this.current_hit-1].simplified;for(;_.charAt(c)==" ";)c+=1;for(;c-1>=0&&_.charAt(c-1)!=" ";)c-=1;for(;_.charAt(p)==" ";)p-=1;for(;p+1<=_.length-1&&_.charAt(p+1)!=" ";)p+=1;if(p+=1,c>=p){this.process_simplified_html_with_selected_span(r);return}let b=`<span class="bg-${r}-light"> ${_.substring(c,p)} </span>`;if(this.set_span_text(b,"simplified"),this.hit_box_config.enable_multi_select_simplified_sentence){let S=this.selected_state.simplified_idx;(S==null||S.length==0)&&(S=[]),S.push([c,p]),this.set_span_indices(S,"simplified");let H="";for(let j=0;j<S.length;j++){let[z,_e]=S[j];H+=`<span class="bg-${r}-light"> 
                        <span @click="remove_selected('${r}',${z},${_e})" class="hover-white black br-pill mr1 pointer">✘</span>
                            ${_.substring(z,_e)} </span>&nbsp&nbsp`}this.set_span_text(H,"simplified")}else this.set_span_indices([c,p],"simplified");this.set_span_category(r,"simplified"),this.process_simplified_html_with_selected_span(r)},deselect_simplified_html(t){this.hit_box_config.enable_select_simplified_sentence&&($("#simplified-sentence").html(this.hits_data[this.current_hit-1].simplified),this.simplified_html=this.hits_data[this.current_hit-1].simplified)}},computed:{get_simplified_html(){return{template:` <div @mousedown='deselect_simplified_html' @mouseup='select_simplified_html' id="simplified-sentence" class="f4 lh-paras"> ${this.simplified_html} </div> `,methods:{select_simplified_html:this.select_simplified_html,deselect_simplified_html:this.deselect_simplified_html,remove_selected:this.remove_selected,hover_span:this.hover_span,un_hover_span:this.un_hover_span,click_span:this.click_span}}}}},Tm=Object.assign($m,{__name:"SimplifiedSent",setup(t){return(r,i)=>(Ge(),ea(Co(r.get_simplified_html)))}}),Rm={data(){return{}},props:["hits_data","current_hit","edits_dict","selected_edits_html","selected_edits","set_selected_edits","set_span_text","set_span_indices","set_span_category","remove_selected","lines","set_lines","set_edit_html","hit_box_config","config","sent_type","selected_state"],methods:{process_edit_list(t,r){return t=t.map(i=>{let h=[];if(i.hasOwnProperty("constituent_edits")){for(const c of i.constituent_edits)if(c.hasOwnProperty(r))for(const p of c[r])h.push({[r]:p,category:i.category,child_category:c.category,id:i.id,child_id:c.id,annotation:i.annotation})}if(i.hasOwnProperty(r))for(const c of i[r])h.push({[r]:c,category:i.category,id:i.id,annotation:i.annotation});return h}),t=[].concat(...t),t.sort(function(i,h){return i[r][0]-h[r][0]||i[r][1]-h[r][1]}),t},hasAnnotations(t){return"annotation"in t&&t.annotation!=null&&t.annotation!=""},is_selected(t,r,i){let h;const c=this.get_selected_index(r);return this.multi_select_enabled(r)?h=c.some(p=>t[r][0]==p[0]&&t[r][1]==p[1]&&t.category==i):h=t[r][0]==c[0]&&t[r][1]==c[1]&&t.category==i,h},get_selected_index(t){if(t=="input_idx")return vt.cloneDeep(this.selected_state.original_idx);if(t=="output_idx")return vt.cloneDeep(this.selected_state.simplified_idx)},multi_select_enabled(t){if(t=="input_idx")return this.hit_box_config.enable_multi_select_original_sentence;if(t=="output_idx")return this.hit_box_config.enable_multi_select_simplified_sentence},hover_span(t){if($(".quality-selection").is(":visible"))return;const r=t.target.dataset.category,i=t.target.dataset.id,h=i.split("-")[1];let c,p;t.target.classList.contains(`border-${r}-light`)?(c=`bg-${r}-light`,p="rgba(173, 197, 250, 1.0)"):(c=`bg-${r}`,p="rgba(33, 134, 235, 1.0)");let _=$(`.${r}[data-id=${i}]`),b=$(`.${r}_below[data-id=${i}]`);_.addClass(`white ${c}`),b.addClass(`white ${c}`),b.removeClass(`txt-${r} txt-${r}-light`);try{r=="substitution"&&(this.lines[r][h].color=p)}catch(S){console.log(S)}},un_hover_span(t){if($(".quality-selection").is(":visible"))return;const r=t.target.dataset.category,i=t.target.dataset.id,h=i.split("-")[1];let c,p;t.target.classList.contains(`border-${r}-light`)?(c="rgba(173, 197, 250, 0.4)",p=`txt-${r}-light`):(c="rgba(33, 134, 235, 0.46)",p=`txt-${r}`);let _=$(`.${r}[data-id=${i}]`),b=$(`.${r}_below[data-id=${i}]`);b.addClass(p),_.removeClass(`white bg-${r} bg-${r}-light`),b.removeClass(`white bg-${r} bg-${r}-light`);try{r=="substitution"&&(this.lines[r][h].color=c)}catch(S){console.log(S)}},getEditConfig(t){return this.config.edits.find(function(r){return r.name===t})},click_span(t){this.edits_dict;const r=t.target.dataset.category,i=t.target.dataset.id,h=i.split("-")[1];if($(".quality-selection").is(":visible")){if(this.getEditConfig(r).type&&this.getEditConfig(r).type=="composite")return;const c=this.hits_data[this.current_hit-1].edits.find(function(S){return S.category===r&&S.id===parseInt(h)}),p=this.selected_edits.find(function(S){return S.category===r&&S.id===parseInt(h)})!==void 0;if($("input[name=edit_cotegory]:checked").val()=="split"){let S=parseInt(h)+1;t.target.classList.contains("split-sign")&&(S==1?this.selected_state.selected_split="the 1st split":S==2?this.selected_state.selected_split="the 2nd split":S==3?this.selected_state.selected_split="the 3rd split":this.selected_state.selected_split=`the ${S}th split`,this.selected_state.split_id=parseInt(h))}let _=vt.cloneDeep(this.selected_edits);p?_=_.filter(S=>S.category!==r||S.id!==parseInt(h)):_.push(c);let b="";for(const S of _)b+=this.render_selected_constituent_edit(S);this.set_selected_edits(_),this.set_edit_html(b)}else $(`.annotation-icon[data-id=${i}]`).click()},render_selected_constituent_edit(t){let r="";const i=t.category;if(this.getEditConfig(i).multi_span){r+=`<span class="edit-type txt-${i}">substitute </span>`;let h=t.input_idx;for(let p=0;p<h.length;p++)p!=0&&(r+=`<span class="edit-type txt-${i}"> and </span>`),r+=`<span class="pa1 edit-text br-pill-ns txt-${i} border-${i}-all">
                        &nbsp${this.hits_data[this.current_hit-1].original.substring(h[p][0],h[p][1])}&nbsp</span>`;r+=`<span class="edit-type txt-${i}"> with </span>`;let c=t.output_idx;for(let p=0;p<c.length;p++)p!=0&&(r+=`<span class="edit-type txt-${i}"> and </span>`),r+=`<span class="pa1 edit-text br-pill-ns txt-${i} border-${i}-all">
                        &nbsp${this.hits_data[this.current_hit-1].simplified.substring(c[p][0],c[p][1])}&nbsp</span>`;r+=",&nbsp&nbsp"}else{if(t.hasOwnProperty("input_idx")){let h=t.input_idx[0];r+=`<span class="edit-type txt-${i}">${i} </span>
                        <span class="pa1 edit-text br-pill-ns txt-${i} border-${i}-all">
                            &nbsp${this.hits_data[this.current_hit-1].original.substring(h[0],h[1])}&nbsp</span>,&nbsp&nbsp`}if(t.hasOwnProperty("output_idx")){let h=t.output_idx[0];r+=`<span class="edit-type txt-${i}">${i} </span>
                        <span class="pa1 edit-text br-pill-ns txt-${i} border-${i}-all">
                            &nbsp${this.hits_data[this.current_hit-1].simplified.substring(h[0],h[1])}&nbsp</span>,&nbsp&nbsp`}}return r},render_sentence(t,r,i,h){let c=0,p="",_=vt.cloneDeep(this.hits_data[this.current_hit-1].edits);const b=h!=null&&h!="";if(b){const H=this.get_selected_index(r);if(this.multi_select_enabled(r)&&Array.isArray(H[0]))for(let j=0;j<H.length;j++)_.push({category:h,[r]:[H[j]]});else _.push({category:h,[r]:[H]})}const S=this.process_edit_list(_,r);for(let H=0;H<S.length;H++){let j=S[H],z=S[H+1];p+=t.substring(c,j[r][0]);let _e=this.hasAnnotations(j)?"":"-light",ge=H<S.length-1&&z[r][0]<=j[r][1]?"outside":"",Ce=j.hasOwnProperty("child_category")?`data-childcategory=${j.child_category} data-childid=${j.child_id}`:"";b&&this.is_selected(j,r,h)?p+=`
                        <span @mouseover.stop @mouseout.stop class="bg-${j.category}-light span ${ge}">`:p+=`
                        <span @click="click_span" @mouseover="hover_span" @mouseout="un_hover_span" class="${j.category} border-${j.category}${_e} pointer span ${i} ${ge}" data-category="${j.category}" data-id="${j.category}-${j.id}" ${Ce}>`;let Le=H,Fe=!1;for(;H<S.length-1&&z[r][0]<=S[Le][r][1];){if(H==Le)p+=t.substring(j[r][0],z[r][0]);else{let nt=H;Fe&&(nt-=1),p+=t.substring(S[nt][r][1],z[r][0])}Fe=!1;let Qe=H<S.length-2&&S[H+2][r][0]<=z[r][1]?"middleside":"",Re=this.hasAnnotations(j)?"":"-light",Pt=j.hasOwnProperty("child_category")?`data-childcategory=${j.child_category} data-childid=${j.child_id}`:"";if(b&&this.is_selected(j,r,h)?p+=`
                            <span @mouseover.stop @mouseout.stop class="bg-${j.category}-light span ${Qe}">`:p+=`
                            <span @mouseover.stop @mouseout.stop @click.stop @click="click_span" @mouseover="hover_span" @mouseout="un_hover_span" class="${z.category} border-${z.category}${Re} pointer span ${i} ${Qe}" data-category="${z.category}" data-id="${z.category}-${z.id}" ${Pt}>`,H++,j=S[H],z=S[H+1],H<S.length-1&&z[r][0]<=j[r][1]){Fe=!0;let nt=S[H+1];p+=t.substring(j[r][0],nt[r][0]);let Bt=this.hasAnnotations(nt)?"":"-light";Pt=nt.hasOwnProperty("child_category")?`data-childcategory=${nt.child_category} data-childid=${nt.child_id}`:"",b&&this.is_selected(j,r,h)?p+=`
                                <span @mouseover.stop @mouseout.stop class="bg-${next_category}-light span">`:p+=`
                                <span @mouseover.stop @mouseout.stop @click.stop @click="click_span" @mouseover="hover_span" @mouseout="un_hover_span" class="${nt.category} border-${nt.category}${Bt} pointer span ${i}" data-category="${nt.category}" data-id="${nt.category}-${nt.id}" ${Pt}>`,p+=`
                                ${t.substring(nt[r][0],nt[r][1])}</span>
                            ${t.substring(nt[r][1],j[r][1])}</span>`,H++,j=S[H],z=S[H+1]}else z=S[H+1],p+=`
                            ${t.substring(z[r][0],z[r][1])}</span>`}if(Le!=H){let Qe=H;Le!=H&&Fe&&(Qe-=1),p+=`
                        ${t.substring(S[Qe][r][1],S[Le][r][1])}</span>`,c=S[Le][r][1]}else p+=`
                        ${t.substring(S[Le][r][0],S[Le][r][1])}</span>`,c=S[Le][r][1]}return p+=t.substring(c),p}}},zu=Object.assign(Rm,{__name:"Sent",setup(t){return(r,i)=>(Ge(),Ye("div",null,[t.sent_type==="original"?(Ge(),ea(Lm,wi({key:0,sent_type:"original"},r.$props,{remove_selected:t.remove_selected,process_edit_list:r.process_edit_list,hasAnnotations:r.hasAnnotations,is_selected:r.is_selected,get_selected_index:r.get_selected_index,multi_select_enabled:r.multi_select_enabled,render_sentence:r.render_sentence,click_span:r.click_span,hover_span:r.hover_span,un_hover_span:r.un_hover_span}),null,16,["remove_selected","process_edit_list","hasAnnotations","is_selected","get_selected_index","multi_select_enabled","render_sentence","click_span","hover_span","un_hover_span"])):t.sent_type==="simplified"?(Ge(),ea(Tm,wi({key:1,sent_type:"simplified"},r.$props,{remove_selected:t.remove_selected,process_edit_list:r.process_edit_list,hasAnnotations:r.hasAnnotations,is_selected:r.is_selected,get_selected_index:r.get_selected_index,multi_select_enabled:r.multi_select_enabled,render_sentence:r.render_sentence,click_span:r.click_span,hover_span:r.hover_span,un_hover_span:r.un_hover_span}),null,16,["remove_selected","process_edit_list","hasAnnotations","is_selected","get_selected_index","multi_select_enabled","render_sentence","click_span","hover_span","un_hover_span"])):Pn("",!0)]))}});async function Pm(t){return new Promise((r,i)=>{const h=new FileReader;h.onload=c=>r(JSON.parse(c.target.result)),h.onerror=c=>i(c),h.readAsText(t)})}async function Fm(t){let r=t.target.files[0];return await Pm(r)}function Nm(t){var r=JSON.stringify(t),i=URL.createObjectURL(new Blob([r],{type:"application/json"}));$("<a>").attr({href:i,download:mm}).appendTo("body")[0].click(),URL.revokeObjectURL(i)}function Mb(){let r=new URLSearchParams(window.location.search).get("data");return r??null}function Ib(t){return fetch(t).then(r=>r.json()).then(r=>r)}function Lb(t){return fetch(t).then(r=>r.text()).then(r=>r)}const Dm={id:"hit"},Bm={class:"cf mt1"},Wm={class:"fl mb3 tc f3 w-20 mt1 hit-selector"},Hm={class:"fr mt1 mr1"},Vm=ae("label",{class:"file-upload file-download br-100 w2-5 h2-5 pointer",for:"download-btn"},[ae("i",{class:"fa fa-arrow-down"})],-1),Gm={class:"fr mt1 mr2 ml2"},Um=ae("label",{class:"file-upload br-100 w2-5 h2-5 pointer",for:"upload-btn"},[ae("i",{class:"fa fa-arrow-up"})],-1),qm={class:"fr mr3"},zm=["id","onClick"],Ym={class:"tooltiptext"},Km={class:"mt2"},Zm=["id","onClick"],Xm={class:"tooltiptext"},jm={class:"ba b--black-80 br2 pa2"},Qm={class:"cf"},Jm={class:"fl f3 mt1 mb1 orig-sentence-header"},ev={class:"f5"},tv={class:"fr"},nv={class:"f3 mb1"},iv={class:"f5"},rv={props:["hits_data","current_hit","total_hits","edits_dict","set_hit","selected_state","selected_edits_html","selected_edits","set_selected_edits","set_span_text","set_span_indices","set_edit_html","set_span_category","refresh_interface_edit","set_hits_data","lines","set_lines","config","hit_box_config"],data(){return{}},watch:{current_hit(){this.setup_hit_box()},hits_data(){this.setup_hit_box()}},methods:{setup_hit_box(){$(".circle").removeClass("circle-active"),$(".bookmark").removeClass("bookmark-active"),$(`#circle-${this.current_hit}`).addClass("circle-active"),$("#comment_area").val(""),"bookmark"in this.hits_data[this.current_hit-1]&&this.hits_data[this.current_hit-1].bookmark&&$(".bookmark").addClass("bookmark-active"),"comment"in this.hits_data[this.current_hit-1]&&$("#comment_area").val(this.hits_data[this.current_hit-1].comment)},go_to_hit(t){t>this.total_hits?this.set_hit(this.total_hits):t<1?this.set_hit(1):this.set_hit(t),this.setup_hit_box()},go_to_hit_circle(t){t>this.total_hits?this.set_hit(this.total_hits):t<1?this.set_hit(1):this.set_hit(t),this.setup_hit_box()},bookmark_hit(){let t=vt.cloneDeep(this.hits_data);"bookmark"in this.hits_data[this.current_hit-1]?(t[this.current_hit-1].bookmark=!this.hits_data[this.current_hit-1].bookmark,this.set_hits_data(t)):(t[this.current_hit-1].bookmark=!0,this.set_hits_data(t)),$(".bookmark").hasClass("bookmark-active")?($(".bookmark").removeClass("bookmark-active"),$(`#circle-${this.current_hit}`).removeClass("circle-bookmark")):($(".bookmark").addClass("bookmark-active"),$(`#circle-${this.current_hit}`).addClass("circle-bookmark"))},restart_hit(){let t=vt.cloneDeep(this.hits_data);t[this.current_hit-1].edits=[],this.set_hits_data(t),this.refresh_interface_edit(),this.setup_hit_box()},remove_selected(t,r,i){if(console.log("hi"),this.span_type=="original"){let h=this.hits_data[this.current_hit-1].original,c=this.selected_state.original_idx;for(let _ in c){let b=c[_];if(b[0]==r&&b[1]==i){c.splice(_,1);break}}this.set_span_indices(c,"original");let p="";for(let _=0;_<c.length;_++){let[b,S]=c[_];p+=`<span class="bg-${t}-light"> `,p+=`<span @click="remove_selected('${t}',${b},${S})" class="hover-white black br-pill mr1 pointer">✘</span>`,p+=h.substring(b,S)+" ",p+="</span>",p+="&nbsp&nbsp"}this.set_span_text(p,"original")}else if(this.span_type=="simplified"){let h=this.hits_data[this.current_hit-1].simplified,c=this.selected_state.simplified_idx;for(let _ in c){let b=c[_];if(b[0]==r&&b[1]==i){c.splice(_,1);break}}this.set_span_indices(c,"simplified");let p="";for(let _=0;_<c.length;_++){let[b,S]=c[_];p.substring(b,S),p+=`<span class="bg-${t}-light"> `,p+=`<span @click="remove_selected('${t}',${b},${S})" class="hover-white black br-pill mr1 pointer">✘</span>`,p+=h.substring(b,S)+" ",p+="</span>",p+="&nbsp&nbsp"}this.set_span_text(p,"simplified")}},file_download(){Nm(this.hits_data)},async file_upload(t){let r=await Fm(t);this.set_hits_data(r),this.set_hit(1),this.setup_hit_box()}}},av=Object.assign(rv,{__name:"HitBox",setup(t){return(r,i)=>(Ge(),Ye("section",Dm,[ae("div",Bm,[ae("div",Wm,[ae("button",{onClick:i[0]||(i[0]=h=>r.go_to_hit(t.current_hit-1)),class:"mid-gray br-100 pa1 bw0 bg-near-white pointer prev-next-btns"}," < "),kt(" Hit "),ae("span",null,Rt(t.current_hit),1),kt(" / "),ae("span",null,Rt(t.total_hits)+" ",1),ae("button",{onClick:i[1]||(i[1]=h=>r.go_to_hit(t.current_hit+1)),class:"mid-gray br-100 pa1 bw0 bg-near-white pointer prev-next-btns"}," > ")]),ae("div",Hm,[ae("input",{type:"button",id:"download-btn",onClick:i[2]||(i[2]=(...h)=>r.file_download&&r.file_download(...h))}),Vm]),ae("div",Gm,[ae("input",{type:"file",id:"upload-btn",onChange:i[3]||(i[3]=(...h)=>r.file_upload&&r.file_upload(...h))},null,32),Um]),ae("div",qm,[ae("div",null,[(Ge(!0),Ye(bi,null,xi(Math.floor(t.total_hits/2),h=>(Ge(),Ye("span",{key:"circle-"+h,id:"circle-"+h,onClick:c=>r.go_to_hit_circle(h,r.$e),class:"circle pointer"},[ae("span",Ym,Rt(h),1)],8,zm))),128))]),ae("div",Km,[(Ge(!0),Ye(bi,null,xi(Math.ceil(t.total_hits/2),h=>(Ge(),Ye("span",{key:"circle-"+(h+Math.floor(t.total_hits/2)),id:"circle-"+(h+Math.floor(t.total_hits/2)),onClick:c=>r.go_to_hit_circle(h+Math.floor(t.total_hits/2),r.$e),class:"circle pointer"},[ae("span",Xm,Rt(h+Math.floor(t.total_hits/2)),1)],8,Zm))),128))])])]),ae("div",null,[ae("div",jm,[ae("div",Qm,[ae("p",Jm,[ae("span",ev,Rt(t.config.input_label)+":",1)]),ae("div",tv,[ae("i",{onClick:i[4]||(i[4]=(...h)=>r.restart_hit&&r.restart_hit(...h)),class:"fa-solid fa-arrows-rotate fa-lg pointer mr2"}),ae("i",{onClick:i[5]||(i[5]=(...h)=>r.bookmark_hit&&r.bookmark_hit(...h)),class:"bookmark fa-regular fa-bookmark fa-lg pointer ml1"})])]),Si(zu,wi({sent_type:"original"},r.$props,{remove_selected:r.remove_selected}),null,16,["remove_selected"]),ae("p",nv,[ae("span",iv,Rt(t.config.output_label)+":",1)]),Si(zu,wi({sent_type:"simplified"},r.$props,{remove_selected:r.remove_selected}),null,16,["remove_selected"])])])]))}});const sv={class:"container w-65 mv3 mb-3 card-body"},ov=ae("div",{class:"custom_style",id:"custom_style"},"Custom style has not loaded!",-1),lv={data(){return{total_hits:0,current_hit:1,hits_data:null,config:{},edits_dict:{},lines:{},selected_edits:{},editor_open:!1,selected_edits_html:"",annotating_edit_span_category_id:null,hit_box_config:void 0,selected_state:void 0,annotating_edit_span:void 0,set_hit:this.set_hit,set_hits_data:this.set_hits_data,set_edits_dict:this.set_edits_dict,set_lines:this.set_lines,set_span_text:this.set_span_text,set_span_indices:this.set_span_indices,set_span_category:this.set_span_category,set_edit_html:this.set_edit_html,set_selected_edits:this.set_selected_edits,set_hit_box_config:this.set_hit_box_config,set_editor_state:this.set_editor_state,set_annotating_edit_span_category_id:this.set_annotating_edit_span_category_id,set_annotating_edit_span:this.set_annotating_edit_span,refresh_interface_edit:this.refresh_interface_edit}},props:["input_data","consumed_config"],watch:{input_data(){this.consume_data()},consumed_config(){this.consume_config()}},methods:{consume_data(){let t=vt.cloneDeep(this.input_data.data);this.set_hits_data(t),this.set_hit(1)},consume_config(){this.consumed_config.hasOwnProperty("consumed_config")?this.config=vt.cloneDeep(this.consumed_config.consumed_config):this.consumed_config.hasOwnProperty("config")?this.config=vt.cloneDeep(this.consumed_config.config):this.config=vt.cloneDeep(this.consumed_config),this.config.template_label&&$("title").text(this.config.template_label)},set_hit(t){this.current_hit=t},set_hits_data(t){this.hits_data=t,this.total_hits=t.length},set_edits_dict(t){this.edits_dict=t},set_span_text(t,r){r=="original"?this.selected_state.original_span=t:r=="simplified"&&(this.selected_state.simplified_span=t)},set_span_indices(t,r){r=="original"?this.selected_state.original_idx=t:r=="simplified"&&(this.selected_state.simplified_idx=t)},set_span_category(t,r){r=="original"?this.selected_state.original_category=t:r=="simplified"&&(this.selected_state.simplified_category=t)},set_edit_html(t){this.selected_edits_html=t},set_selected_edits(t){this.selected_edits=t},refresh_interface_edit(){const t={enable_select_original_sentence:!1,enable_select_simplified_sentence:!1,enable_multi_select_original_sentence:!1,enable_multi_select_simplified_sentence:!1},r={original_span:"",original_idx:[],original_category:"",simplified_span:"",simplified_idx:[],simplified_category:"",split:"",split_id:null},i={original:"",simplified:"",composite:""};this.selected_edits=[],this.selected_edits_html="",this.selected_state=r,this.hit_box_config=t,this.annotating_edit_span=i},set_hit_box_config(t){this.hit_box_config=t},set_editor_state(t){this.editor_open=t},set_annotating_edit_span_category_id(t){this.annotating_edit_span_category_id=t},set_annotating_edit_span(t,r=null){r=="original"?this.annotating_edit_span.original=t:r=="simplified"?this.annotating_edit_span.simplified=t:r=="composite"?this.annotating_edit_span.composite=t:console.warn(`Invalid sent_type : ${r}`)},set_lines(t){this.lines=t},compile_style(){if(!this.config.hasOwnProperty("edits"))return;let t="";for(const r of this.config.edits){let i=r.color;rs.hasOwnProperty(i)&&(i=rs[i]);let h=ve(i).lighten(25).toHexString();t+=`
              .border-${r.name} { border-bottom: 3px solid ${i}; }
              .border-${r.name}-all { border: 2px solid ${i}; }
              .bg-${r.name} { background-color: ${i}; }
              .txt-${r.name} { color: ${i}; }
              .bg-${r.name}-light { background-color: ${h}; }
              .border-${r.name}-light { border-bottom: 3px solid ${h}; }
              .border-${r.name}-light-all { border: 2px solid ${h}; }
              .txt-${r.name}-light { color: ${h}; }
            `}return t}},updated(){$("#custom_style").html(`<style>${this.compile_style()}</style>`),$(`#circle-${this.current_hit}`).addClass("circle-active")},mounted(){this.consume_data(),this.consume_config()},created(){this.consume_config(),this.refresh_interface_edit()}},$b=Object.assign(lv,{__name:"Interface",setup(t){return(r,i)=>(Ge(),Ye("div",sv,[ov,Si(av,wi(r.$data,{config:r.config}),null,16,["config"]),Si(z1,wi(r.$data,{config:r.config}),null,16,["config"]),Si(Mm,wi(r.$data,{config:r.config}),null,16,["config"])]))}});/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function cc(t){return typeof t>"u"||t===null}function uv(t){return typeof t=="object"&&t!==null}function cv(t){return Array.isArray(t)?t:cc(t)?[]:[t]}function hv(t,r){var i,h,c,p;if(r)for(p=Object.keys(r),i=0,h=p.length;i<h;i+=1)c=p[i],t[c]=r[c];return t}function fv(t,r){var i="",h;for(h=0;h<r;h+=1)i+=t;return i}function dv(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var pv=cc,_v=uv,gv=cv,mv=fv,vv=dv,yv=hv,At={isNothing:pv,isObject:_v,toArray:gv,repeat:mv,isNegativeZero:vv,extend:yv};function hc(t,r){var i="",h=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(i+='in "'+t.mark.name+'" '),i+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!r&&t.mark.snippet&&(i+=`

`+t.mark.snippet),h+" "+i):h}function ta(t,r){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=r,this.message=hc(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ta.prototype=Object.create(Error.prototype);ta.prototype.constructor=ta;ta.prototype.toString=function(r){return this.name+": "+hc(this,r)};var Zt=ta;function vo(t,r,i,h,c){var p="",_="",b=Math.floor(c/2)-1;return h-r>b&&(p=" ... ",r=h-b+p.length),i-h>b&&(_=" ...",i=h+b-_.length),{str:p+t.slice(r,i).replace(/\t/g,"→")+_,pos:h-r+p.length}}function yo(t,r){return At.repeat(" ",r-t.length)+t}function bv(t,r){if(r=Object.create(r||null),!t.buffer)return null;r.maxLength||(r.maxLength=79),typeof r.indent!="number"&&(r.indent=1),typeof r.linesBefore!="number"&&(r.linesBefore=3),typeof r.linesAfter!="number"&&(r.linesAfter=2);for(var i=/\r?\n|\r|\0/g,h=[0],c=[],p,_=-1;p=i.exec(t.buffer);)c.push(p.index),h.push(p.index+p[0].length),t.position<=p.index&&_<0&&(_=h.length-2);_<0&&(_=h.length-1);var b="",S,H,j=Math.min(t.line+r.linesAfter,c.length).toString().length,z=r.maxLength-(r.indent+j+3);for(S=1;S<=r.linesBefore&&!(_-S<0);S++)H=vo(t.buffer,h[_-S],c[_-S],t.position-(h[_]-h[_-S]),z),b=At.repeat(" ",r.indent)+yo((t.line-S+1).toString(),j)+" | "+H.str+`
`+b;for(H=vo(t.buffer,h[_],c[_],t.position,z),b+=At.repeat(" ",r.indent)+yo((t.line+1).toString(),j)+" | "+H.str+`
`,b+=At.repeat("-",r.indent+j+3+H.pos)+`^
`,S=1;S<=r.linesAfter&&!(_+S>=c.length);S++)H=vo(t.buffer,h[_+S],c[_+S],t.position-(h[_]-h[_+S]),z),b+=At.repeat(" ",r.indent)+yo((t.line+S+1).toString(),j)+" | "+H.str+`
`;return b.replace(/\n$/,"")}var xv=bv,Sv=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],wv=["scalar","sequence","mapping"];function Ev(t){var r={};return t!==null&&Object.keys(t).forEach(function(i){t[i].forEach(function(h){r[String(h)]=i})}),r}function kv(t,r){if(r=r||{},Object.keys(r).forEach(function(i){if(Sv.indexOf(i)===-1)throw new Zt('Unknown option "'+i+'" is met in definition of "'+t+'" YAML type.')}),this.options=r,this.tag=t,this.kind=r.kind||null,this.resolve=r.resolve||function(){return!0},this.construct=r.construct||function(i){return i},this.instanceOf=r.instanceOf||null,this.predicate=r.predicate||null,this.represent=r.represent||null,this.representName=r.representName||null,this.defaultStyle=r.defaultStyle||null,this.multi=r.multi||!1,this.styleAliases=Ev(r.styleAliases||null),wv.indexOf(this.kind)===-1)throw new Zt('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var Dt=kv;function Yu(t,r){var i=[];return t[r].forEach(function(h){var c=i.length;i.forEach(function(p,_){p.tag===h.tag&&p.kind===h.kind&&p.multi===h.multi&&(c=_)}),i[c]=h}),i}function Av(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},r,i;function h(c){c.multi?(t.multi[c.kind].push(c),t.multi.fallback.push(c)):t[c.kind][c.tag]=t.fallback[c.tag]=c}for(r=0,i=arguments.length;r<i;r+=1)arguments[r].forEach(h);return t}function So(t){return this.extend(t)}So.prototype.extend=function(r){var i=[],h=[];if(r instanceof Dt)h.push(r);else if(Array.isArray(r))h=h.concat(r);else if(r&&(Array.isArray(r.implicit)||Array.isArray(r.explicit)))r.implicit&&(i=i.concat(r.implicit)),r.explicit&&(h=h.concat(r.explicit));else throw new Zt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");i.forEach(function(p){if(!(p instanceof Dt))throw new Zt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(p.loadKind&&p.loadKind!=="scalar")throw new Zt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(p.multi)throw new Zt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),h.forEach(function(p){if(!(p instanceof Dt))throw new Zt("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var c=Object.create(So.prototype);return c.implicit=(this.implicit||[]).concat(i),c.explicit=(this.explicit||[]).concat(h),c.compiledImplicit=Yu(c,"implicit"),c.compiledExplicit=Yu(c,"explicit"),c.compiledTypeMap=Av(c.compiledImplicit,c.compiledExplicit),c};var fc=So,dc=new Dt("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),pc=new Dt("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),_c=new Dt("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),gc=new fc({explicit:[dc,pc,_c]});function Cv(t){if(t===null)return!0;var r=t.length;return r===1&&t==="~"||r===4&&(t==="null"||t==="Null"||t==="NULL")}function Ov(){return null}function Mv(t){return t===null}var mc=new Dt("tag:yaml.org,2002:null",{kind:"scalar",resolve:Cv,construct:Ov,predicate:Mv,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Iv(t){if(t===null)return!1;var r=t.length;return r===4&&(t==="true"||t==="True"||t==="TRUE")||r===5&&(t==="false"||t==="False"||t==="FALSE")}function Lv(t){return t==="true"||t==="True"||t==="TRUE"}function $v(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var vc=new Dt("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Iv,construct:Lv,predicate:$v,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function Tv(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function Rv(t){return 48<=t&&t<=55}function Pv(t){return 48<=t&&t<=57}function Fv(t){if(t===null)return!1;var r=t.length,i=0,h=!1,c;if(!r)return!1;if(c=t[i],(c==="-"||c==="+")&&(c=t[++i]),c==="0"){if(i+1===r)return!0;if(c=t[++i],c==="b"){for(i++;i<r;i++)if(c=t[i],c!=="_"){if(c!=="0"&&c!=="1")return!1;h=!0}return h&&c!=="_"}if(c==="x"){for(i++;i<r;i++)if(c=t[i],c!=="_"){if(!Tv(t.charCodeAt(i)))return!1;h=!0}return h&&c!=="_"}if(c==="o"){for(i++;i<r;i++)if(c=t[i],c!=="_"){if(!Rv(t.charCodeAt(i)))return!1;h=!0}return h&&c!=="_"}}if(c==="_")return!1;for(;i<r;i++)if(c=t[i],c!=="_"){if(!Pv(t.charCodeAt(i)))return!1;h=!0}return!(!h||c==="_")}function Nv(t){var r=t,i=1,h;if(r.indexOf("_")!==-1&&(r=r.replace(/_/g,"")),h=r[0],(h==="-"||h==="+")&&(h==="-"&&(i=-1),r=r.slice(1),h=r[0]),r==="0")return 0;if(h==="0"){if(r[1]==="b")return i*parseInt(r.slice(2),2);if(r[1]==="x")return i*parseInt(r.slice(2),16);if(r[1]==="o")return i*parseInt(r.slice(2),8)}return i*parseInt(r,10)}function Dv(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!At.isNegativeZero(t)}var yc=new Dt("tag:yaml.org,2002:int",{kind:"scalar",resolve:Fv,construct:Nv,predicate:Dv,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Bv=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Wv(t){return!(t===null||!Bv.test(t)||t[t.length-1]==="_")}function Hv(t){var r,i;return r=t.replace(/_/g,"").toLowerCase(),i=r[0]==="-"?-1:1,"+-".indexOf(r[0])>=0&&(r=r.slice(1)),r===".inf"?i===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:r===".nan"?NaN:i*parseFloat(r,10)}var Vv=/^[-+]?[0-9]+e/;function Gv(t,r){var i;if(isNaN(t))switch(r){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(r){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(r){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(At.isNegativeZero(t))return"-0.0";return i=t.toString(10),Vv.test(i)?i.replace("e",".e"):i}function Uv(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||At.isNegativeZero(t))}var bc=new Dt("tag:yaml.org,2002:float",{kind:"scalar",resolve:Wv,construct:Hv,predicate:Uv,represent:Gv,defaultStyle:"lowercase"}),xc=gc.extend({implicit:[mc,vc,yc,bc]}),Sc=xc,wc=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Ec=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function qv(t){return t===null?!1:wc.exec(t)!==null||Ec.exec(t)!==null}function zv(t){var r,i,h,c,p,_,b,S=0,H=null,j,z,_e;if(r=wc.exec(t),r===null&&(r=Ec.exec(t)),r===null)throw new Error("Date resolve error");if(i=+r[1],h=+r[2]-1,c=+r[3],!r[4])return new Date(Date.UTC(i,h,c));if(p=+r[4],_=+r[5],b=+r[6],r[7]){for(S=r[7].slice(0,3);S.length<3;)S+="0";S=+S}return r[9]&&(j=+r[10],z=+(r[11]||0),H=(j*60+z)*6e4,r[9]==="-"&&(H=-H)),_e=new Date(Date.UTC(i,h,c,p,_,b,S)),H&&_e.setTime(_e.getTime()-H),_e}function Yv(t){return t.toISOString()}var kc=new Dt("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:qv,construct:zv,instanceOf:Date,represent:Yv});function Kv(t){return t==="<<"||t===null}var Ac=new Dt("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Kv}),Oo=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Zv(t){if(t===null)return!1;var r,i,h=0,c=t.length,p=Oo;for(i=0;i<c;i++)if(r=p.indexOf(t.charAt(i)),!(r>64)){if(r<0)return!1;h+=6}return h%8===0}function Xv(t){var r,i,h=t.replace(/[\r\n=]/g,""),c=h.length,p=Oo,_=0,b=[];for(r=0;r<c;r++)r%4===0&&r&&(b.push(_>>16&255),b.push(_>>8&255),b.push(_&255)),_=_<<6|p.indexOf(h.charAt(r));return i=c%4*6,i===0?(b.push(_>>16&255),b.push(_>>8&255),b.push(_&255)):i===18?(b.push(_>>10&255),b.push(_>>2&255)):i===12&&b.push(_>>4&255),new Uint8Array(b)}function jv(t){var r="",i=0,h,c,p=t.length,_=Oo;for(h=0;h<p;h++)h%3===0&&h&&(r+=_[i>>18&63],r+=_[i>>12&63],r+=_[i>>6&63],r+=_[i&63]),i=(i<<8)+t[h];return c=p%3,c===0?(r+=_[i>>18&63],r+=_[i>>12&63],r+=_[i>>6&63],r+=_[i&63]):c===2?(r+=_[i>>10&63],r+=_[i>>4&63],r+=_[i<<2&63],r+=_[64]):c===1&&(r+=_[i>>2&63],r+=_[i<<4&63],r+=_[64],r+=_[64]),r}function Qv(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var Cc=new Dt("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Zv,construct:Xv,predicate:Qv,represent:jv}),Jv=Object.prototype.hasOwnProperty,ey=Object.prototype.toString;function ty(t){if(t===null)return!0;var r=[],i,h,c,p,_,b=t;for(i=0,h=b.length;i<h;i+=1){if(c=b[i],_=!1,ey.call(c)!=="[object Object]")return!1;for(p in c)if(Jv.call(c,p))if(!_)_=!0;else return!1;if(!_)return!1;if(r.indexOf(p)===-1)r.push(p);else return!1}return!0}function ny(t){return t!==null?t:[]}var Oc=new Dt("tag:yaml.org,2002:omap",{kind:"sequence",resolve:ty,construct:ny}),iy=Object.prototype.toString;function ry(t){if(t===null)return!0;var r,i,h,c,p,_=t;for(p=new Array(_.length),r=0,i=_.length;r<i;r+=1){if(h=_[r],iy.call(h)!=="[object Object]"||(c=Object.keys(h),c.length!==1))return!1;p[r]=[c[0],h[c[0]]]}return!0}function ay(t){if(t===null)return[];var r,i,h,c,p,_=t;for(p=new Array(_.length),r=0,i=_.length;r<i;r+=1)h=_[r],c=Object.keys(h),p[r]=[c[0],h[c[0]]];return p}var Mc=new Dt("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:ry,construct:ay}),sy=Object.prototype.hasOwnProperty;function oy(t){if(t===null)return!0;var r,i=t;for(r in i)if(sy.call(i,r)&&i[r]!==null)return!1;return!0}function ly(t){return t!==null?t:{}}var Ic=new Dt("tag:yaml.org,2002:set",{kind:"mapping",resolve:oy,construct:ly}),Mo=Sc.extend({implicit:[kc,Ac],explicit:[Cc,Oc,Mc,Ic]}),ki=Object.prototype.hasOwnProperty,as=1,Lc=2,$c=3,ss=4,bo=1,uy=2,Ku=3,cy=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,hy=/[\x85\u2028\u2029]/,fy=/[,\[\]\{\}]/,Tc=/^(?:!|!!|![a-z\-]+!)$/i,Rc=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Zu(t){return Object.prototype.toString.call(t)}function qn(t){return t===10||t===13}function Ui(t){return t===9||t===32}function nn(t){return t===9||t===32||t===10||t===13}function Sr(t){return t===44||t===91||t===93||t===123||t===125}function dy(t){var r;return 48<=t&&t<=57?t-48:(r=t|32,97<=r&&r<=102?r-97+10:-1)}function py(t){return t===120?2:t===117?4:t===85?8:0}function _y(t){return 48<=t&&t<=57?t-48:-1}function Xu(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?" ":t===76?"\u2028":t===80?"\u2029":""}function gy(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var Pc=new Array(256),Fc=new Array(256);for(var br=0;br<256;br++)Pc[br]=Xu(br)?1:0,Fc[br]=Xu(br);function my(t,r){this.input=t,this.filename=r.filename||null,this.schema=r.schema||Mo,this.onWarning=r.onWarning||null,this.legacy=r.legacy||!1,this.json=r.json||!1,this.listener=r.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Nc(t,r){var i={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return i.snippet=xv(i),new Zt(r,i)}function xe(t,r){throw Nc(t,r)}function os(t,r){t.onWarning&&t.onWarning.call(null,Nc(t,r))}var ju={YAML:function(r,i,h){var c,p,_;r.version!==null&&xe(r,"duplication of %YAML directive"),h.length!==1&&xe(r,"YAML directive accepts exactly one argument"),c=/^([0-9]+)\.([0-9]+)$/.exec(h[0]),c===null&&xe(r,"ill-formed argument of the YAML directive"),p=parseInt(c[1],10),_=parseInt(c[2],10),p!==1&&xe(r,"unacceptable YAML version of the document"),r.version=h[0],r.checkLineBreaks=_<2,_!==1&&_!==2&&os(r,"unsupported YAML version of the document")},TAG:function(r,i,h){var c,p;h.length!==2&&xe(r,"TAG directive accepts exactly two arguments"),c=h[0],p=h[1],Tc.test(c)||xe(r,"ill-formed tag handle (first argument) of the TAG directive"),ki.call(r.tagMap,c)&&xe(r,'there is a previously declared suffix for "'+c+'" tag handle'),Rc.test(p)||xe(r,"ill-formed tag prefix (second argument) of the TAG directive");try{p=decodeURIComponent(p)}catch{xe(r,"tag prefix is malformed: "+p)}r.tagMap[c]=p}};function Ei(t,r,i,h){var c,p,_,b;if(r<i){if(b=t.input.slice(r,i),h)for(c=0,p=b.length;c<p;c+=1)_=b.charCodeAt(c),_===9||32<=_&&_<=1114111||xe(t,"expected valid JSON character");else cy.test(b)&&xe(t,"the stream contains non-printable characters");t.result+=b}}function Qu(t,r,i,h){var c,p,_,b;for(At.isObject(i)||xe(t,"cannot merge mappings; the provided source object is unacceptable"),c=Object.keys(i),_=0,b=c.length;_<b;_+=1)p=c[_],ki.call(r,p)||(r[p]=i[p],h[p]=!0)}function wr(t,r,i,h,c,p,_,b,S){var H,j;if(Array.isArray(c))for(c=Array.prototype.slice.call(c),H=0,j=c.length;H<j;H+=1)Array.isArray(c[H])&&xe(t,"nested arrays are not supported inside keys"),typeof c=="object"&&Zu(c[H])==="[object Object]"&&(c[H]="[object Object]");if(typeof c=="object"&&Zu(c)==="[object Object]"&&(c="[object Object]"),c=String(c),r===null&&(r={}),h==="tag:yaml.org,2002:merge")if(Array.isArray(p))for(H=0,j=p.length;H<j;H+=1)Qu(t,r,p[H],i);else Qu(t,r,p,i);else!t.json&&!ki.call(i,c)&&ki.call(r,c)&&(t.line=_||t.line,t.lineStart=b||t.lineStart,t.position=S||t.position,xe(t,"duplicated mapping key")),c==="__proto__"?Object.defineProperty(r,c,{configurable:!0,enumerable:!0,writable:!0,value:p}):r[c]=p,delete i[c];return r}function Io(t){var r;r=t.input.charCodeAt(t.position),r===10?t.position++:r===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):xe(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function xt(t,r,i){for(var h=0,c=t.input.charCodeAt(t.position);c!==0;){for(;Ui(c);)c===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),c=t.input.charCodeAt(++t.position);if(r&&c===35)do c=t.input.charCodeAt(++t.position);while(c!==10&&c!==13&&c!==0);if(qn(c))for(Io(t),c=t.input.charCodeAt(t.position),h++,t.lineIndent=0;c===32;)t.lineIndent++,c=t.input.charCodeAt(++t.position);else break}return i!==-1&&h!==0&&t.lineIndent<i&&os(t,"deficient indentation"),h}function hs(t){var r=t.position,i;return i=t.input.charCodeAt(r),!!((i===45||i===46)&&i===t.input.charCodeAt(r+1)&&i===t.input.charCodeAt(r+2)&&(r+=3,i=t.input.charCodeAt(r),i===0||nn(i)))}function Lo(t,r){r===1?t.result+=" ":r>1&&(t.result+=At.repeat(`
`,r-1))}function vy(t,r,i){var h,c,p,_,b,S,H,j,z=t.kind,_e=t.result,ge;if(ge=t.input.charCodeAt(t.position),nn(ge)||Sr(ge)||ge===35||ge===38||ge===42||ge===33||ge===124||ge===62||ge===39||ge===34||ge===37||ge===64||ge===96||(ge===63||ge===45)&&(c=t.input.charCodeAt(t.position+1),nn(c)||i&&Sr(c)))return!1;for(t.kind="scalar",t.result="",p=_=t.position,b=!1;ge!==0;){if(ge===58){if(c=t.input.charCodeAt(t.position+1),nn(c)||i&&Sr(c))break}else if(ge===35){if(h=t.input.charCodeAt(t.position-1),nn(h))break}else{if(t.position===t.lineStart&&hs(t)||i&&Sr(ge))break;if(qn(ge))if(S=t.line,H=t.lineStart,j=t.lineIndent,xt(t,!1,-1),t.lineIndent>=r){b=!0,ge=t.input.charCodeAt(t.position);continue}else{t.position=_,t.line=S,t.lineStart=H,t.lineIndent=j;break}}b&&(Ei(t,p,_,!1),Lo(t,t.line-S),p=_=t.position,b=!1),Ui(ge)||(_=t.position+1),ge=t.input.charCodeAt(++t.position)}return Ei(t,p,_,!1),t.result?!0:(t.kind=z,t.result=_e,!1)}function yy(t,r){var i,h,c;if(i=t.input.charCodeAt(t.position),i!==39)return!1;for(t.kind="scalar",t.result="",t.position++,h=c=t.position;(i=t.input.charCodeAt(t.position))!==0;)if(i===39)if(Ei(t,h,t.position,!0),i=t.input.charCodeAt(++t.position),i===39)h=t.position,t.position++,c=t.position;else return!0;else qn(i)?(Ei(t,h,c,!0),Lo(t,xt(t,!1,r)),h=c=t.position):t.position===t.lineStart&&hs(t)?xe(t,"unexpected end of the document within a single quoted scalar"):(t.position++,c=t.position);xe(t,"unexpected end of the stream within a single quoted scalar")}function by(t,r){var i,h,c,p,_,b;if(b=t.input.charCodeAt(t.position),b!==34)return!1;for(t.kind="scalar",t.result="",t.position++,i=h=t.position;(b=t.input.charCodeAt(t.position))!==0;){if(b===34)return Ei(t,i,t.position,!0),t.position++,!0;if(b===92){if(Ei(t,i,t.position,!0),b=t.input.charCodeAt(++t.position),qn(b))xt(t,!1,r);else if(b<256&&Pc[b])t.result+=Fc[b],t.position++;else if((_=py(b))>0){for(c=_,p=0;c>0;c--)b=t.input.charCodeAt(++t.position),(_=dy(b))>=0?p=(p<<4)+_:xe(t,"expected hexadecimal character");t.result+=gy(p),t.position++}else xe(t,"unknown escape sequence");i=h=t.position}else qn(b)?(Ei(t,i,h,!0),Lo(t,xt(t,!1,r)),i=h=t.position):t.position===t.lineStart&&hs(t)?xe(t,"unexpected end of the document within a double quoted scalar"):(t.position++,h=t.position)}xe(t,"unexpected end of the stream within a double quoted scalar")}function xy(t,r){var i=!0,h,c,p,_=t.tag,b,S=t.anchor,H,j,z,_e,ge,Ce=Object.create(null),Le,Fe,Qe,Re;if(Re=t.input.charCodeAt(t.position),Re===91)j=93,ge=!1,b=[];else if(Re===123)j=125,ge=!0,b={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=b),Re=t.input.charCodeAt(++t.position);Re!==0;){if(xt(t,!0,r),Re=t.input.charCodeAt(t.position),Re===j)return t.position++,t.tag=_,t.anchor=S,t.kind=ge?"mapping":"sequence",t.result=b,!0;i?Re===44&&xe(t,"expected the node content, but found ','"):xe(t,"missed comma between flow collection entries"),Fe=Le=Qe=null,z=_e=!1,Re===63&&(H=t.input.charCodeAt(t.position+1),nn(H)&&(z=_e=!0,t.position++,xt(t,!0,r))),h=t.line,c=t.lineStart,p=t.position,Er(t,r,as,!1,!0),Fe=t.tag,Le=t.result,xt(t,!0,r),Re=t.input.charCodeAt(t.position),(_e||t.line===h)&&Re===58&&(z=!0,Re=t.input.charCodeAt(++t.position),xt(t,!0,r),Er(t,r,as,!1,!0),Qe=t.result),ge?wr(t,b,Ce,Fe,Le,Qe,h,c,p):z?b.push(wr(t,null,Ce,Fe,Le,Qe,h,c,p)):b.push(Le),xt(t,!0,r),Re=t.input.charCodeAt(t.position),Re===44?(i=!0,Re=t.input.charCodeAt(++t.position)):i=!1}xe(t,"unexpected end of the stream within a flow collection")}function Sy(t,r){var i,h,c=bo,p=!1,_=!1,b=r,S=0,H=!1,j,z;if(z=t.input.charCodeAt(t.position),z===124)h=!1;else if(z===62)h=!0;else return!1;for(t.kind="scalar",t.result="";z!==0;)if(z=t.input.charCodeAt(++t.position),z===43||z===45)bo===c?c=z===43?Ku:uy:xe(t,"repeat of a chomping mode identifier");else if((j=_y(z))>=0)j===0?xe(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):_?xe(t,"repeat of an indentation width identifier"):(b=r+j-1,_=!0);else break;if(Ui(z)){do z=t.input.charCodeAt(++t.position);while(Ui(z));if(z===35)do z=t.input.charCodeAt(++t.position);while(!qn(z)&&z!==0)}for(;z!==0;){for(Io(t),t.lineIndent=0,z=t.input.charCodeAt(t.position);(!_||t.lineIndent<b)&&z===32;)t.lineIndent++,z=t.input.charCodeAt(++t.position);if(!_&&t.lineIndent>b&&(b=t.lineIndent),qn(z)){S++;continue}if(t.lineIndent<b){c===Ku?t.result+=At.repeat(`
`,p?1+S:S):c===bo&&p&&(t.result+=`
`);break}for(h?Ui(z)?(H=!0,t.result+=At.repeat(`
`,p?1+S:S)):H?(H=!1,t.result+=At.repeat(`
`,S+1)):S===0?p&&(t.result+=" "):t.result+=At.repeat(`
`,S):t.result+=At.repeat(`
`,p?1+S:S),p=!0,_=!0,S=0,i=t.position;!qn(z)&&z!==0;)z=t.input.charCodeAt(++t.position);Ei(t,i,t.position,!1)}return!0}function Ju(t,r){var i,h=t.tag,c=t.anchor,p=[],_,b=!1,S;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=p),S=t.input.charCodeAt(t.position);S!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,xe(t,"tab characters must not be used in indentation")),!(S!==45||(_=t.input.charCodeAt(t.position+1),!nn(_))));){if(b=!0,t.position++,xt(t,!0,-1)&&t.lineIndent<=r){p.push(null),S=t.input.charCodeAt(t.position);continue}if(i=t.line,Er(t,r,$c,!1,!0),p.push(t.result),xt(t,!0,-1),S=t.input.charCodeAt(t.position),(t.line===i||t.lineIndent>r)&&S!==0)xe(t,"bad indentation of a sequence entry");else if(t.lineIndent<r)break}return b?(t.tag=h,t.anchor=c,t.kind="sequence",t.result=p,!0):!1}function wy(t,r,i){var h,c,p,_,b,S,H=t.tag,j=t.anchor,z={},_e=Object.create(null),ge=null,Ce=null,Le=null,Fe=!1,Qe=!1,Re;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=z),Re=t.input.charCodeAt(t.position);Re!==0;){if(!Fe&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,xe(t,"tab characters must not be used in indentation")),h=t.input.charCodeAt(t.position+1),p=t.line,(Re===63||Re===58)&&nn(h))Re===63?(Fe&&(wr(t,z,_e,ge,Ce,null,_,b,S),ge=Ce=Le=null),Qe=!0,Fe=!0,c=!0):Fe?(Fe=!1,c=!0):xe(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,Re=h;else{if(_=t.line,b=t.lineStart,S=t.position,!Er(t,i,Lc,!1,!0))break;if(t.line===p){for(Re=t.input.charCodeAt(t.position);Ui(Re);)Re=t.input.charCodeAt(++t.position);if(Re===58)Re=t.input.charCodeAt(++t.position),nn(Re)||xe(t,"a whitespace character is expected after the key-value separator within a block mapping"),Fe&&(wr(t,z,_e,ge,Ce,null,_,b,S),ge=Ce=Le=null),Qe=!0,Fe=!1,c=!1,ge=t.tag,Ce=t.result;else if(Qe)xe(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=H,t.anchor=j,!0}else if(Qe)xe(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=H,t.anchor=j,!0}if((t.line===p||t.lineIndent>r)&&(Fe&&(_=t.line,b=t.lineStart,S=t.position),Er(t,r,ss,!0,c)&&(Fe?Ce=t.result:Le=t.result),Fe||(wr(t,z,_e,ge,Ce,Le,_,b,S),ge=Ce=Le=null),xt(t,!0,-1),Re=t.input.charCodeAt(t.position)),(t.line===p||t.lineIndent>r)&&Re!==0)xe(t,"bad indentation of a mapping entry");else if(t.lineIndent<r)break}return Fe&&wr(t,z,_e,ge,Ce,null,_,b,S),Qe&&(t.tag=H,t.anchor=j,t.kind="mapping",t.result=z),Qe}function Ey(t){var r,i=!1,h=!1,c,p,_;if(_=t.input.charCodeAt(t.position),_!==33)return!1;if(t.tag!==null&&xe(t,"duplication of a tag property"),_=t.input.charCodeAt(++t.position),_===60?(i=!0,_=t.input.charCodeAt(++t.position)):_===33?(h=!0,c="!!",_=t.input.charCodeAt(++t.position)):c="!",r=t.position,i){do _=t.input.charCodeAt(++t.position);while(_!==0&&_!==62);t.position<t.length?(p=t.input.slice(r,t.position),_=t.input.charCodeAt(++t.position)):xe(t,"unexpected end of the stream within a verbatim tag")}else{for(;_!==0&&!nn(_);)_===33&&(h?xe(t,"tag suffix cannot contain exclamation marks"):(c=t.input.slice(r-1,t.position+1),Tc.test(c)||xe(t,"named tag handle cannot contain such characters"),h=!0,r=t.position+1)),_=t.input.charCodeAt(++t.position);p=t.input.slice(r,t.position),fy.test(p)&&xe(t,"tag suffix cannot contain flow indicator characters")}p&&!Rc.test(p)&&xe(t,"tag name cannot contain such characters: "+p);try{p=decodeURIComponent(p)}catch{xe(t,"tag name is malformed: "+p)}return i?t.tag=p:ki.call(t.tagMap,c)?t.tag=t.tagMap[c]+p:c==="!"?t.tag="!"+p:c==="!!"?t.tag="tag:yaml.org,2002:"+p:xe(t,'undeclared tag handle "'+c+'"'),!0}function ky(t){var r,i;if(i=t.input.charCodeAt(t.position),i!==38)return!1;for(t.anchor!==null&&xe(t,"duplication of an anchor property"),i=t.input.charCodeAt(++t.position),r=t.position;i!==0&&!nn(i)&&!Sr(i);)i=t.input.charCodeAt(++t.position);return t.position===r&&xe(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(r,t.position),!0}function Ay(t){var r,i,h;if(h=t.input.charCodeAt(t.position),h!==42)return!1;for(h=t.input.charCodeAt(++t.position),r=t.position;h!==0&&!nn(h)&&!Sr(h);)h=t.input.charCodeAt(++t.position);return t.position===r&&xe(t,"name of an alias node must contain at least one character"),i=t.input.slice(r,t.position),ki.call(t.anchorMap,i)||xe(t,'unidentified alias "'+i+'"'),t.result=t.anchorMap[i],xt(t,!0,-1),!0}function Er(t,r,i,h,c){var p,_,b,S=1,H=!1,j=!1,z,_e,ge,Ce,Le,Fe;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,p=_=b=ss===i||$c===i,h&&xt(t,!0,-1)&&(H=!0,t.lineIndent>r?S=1:t.lineIndent===r?S=0:t.lineIndent<r&&(S=-1)),S===1)for(;Ey(t)||ky(t);)xt(t,!0,-1)?(H=!0,b=p,t.lineIndent>r?S=1:t.lineIndent===r?S=0:t.lineIndent<r&&(S=-1)):b=!1;if(b&&(b=H||c),(S===1||ss===i)&&(as===i||Lc===i?Le=r:Le=r+1,Fe=t.position-t.lineStart,S===1?b&&(Ju(t,Fe)||wy(t,Fe,Le))||xy(t,Le)?j=!0:(_&&Sy(t,Le)||yy(t,Le)||by(t,Le)?j=!0:Ay(t)?(j=!0,(t.tag!==null||t.anchor!==null)&&xe(t,"alias node should not have any properties")):vy(t,Le,as===i)&&(j=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):S===0&&(j=b&&Ju(t,Fe))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&xe(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),z=0,_e=t.implicitTypes.length;z<_e;z+=1)if(Ce=t.implicitTypes[z],Ce.resolve(t.result)){t.result=Ce.construct(t.result),t.tag=Ce.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(ki.call(t.typeMap[t.kind||"fallback"],t.tag))Ce=t.typeMap[t.kind||"fallback"][t.tag];else for(Ce=null,ge=t.typeMap.multi[t.kind||"fallback"],z=0,_e=ge.length;z<_e;z+=1)if(t.tag.slice(0,ge[z].tag.length)===ge[z].tag){Ce=ge[z];break}Ce||xe(t,"unknown tag !<"+t.tag+">"),t.result!==null&&Ce.kind!==t.kind&&xe(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+Ce.kind+'", not "'+t.kind+'"'),Ce.resolve(t.result,t.tag)?(t.result=Ce.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):xe(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||j}function Cy(t){var r=t.position,i,h,c,p=!1,_;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(_=t.input.charCodeAt(t.position))!==0&&(xt(t,!0,-1),_=t.input.charCodeAt(t.position),!(t.lineIndent>0||_!==37));){for(p=!0,_=t.input.charCodeAt(++t.position),i=t.position;_!==0&&!nn(_);)_=t.input.charCodeAt(++t.position);for(h=t.input.slice(i,t.position),c=[],h.length<1&&xe(t,"directive name must not be less than one character in length");_!==0;){for(;Ui(_);)_=t.input.charCodeAt(++t.position);if(_===35){do _=t.input.charCodeAt(++t.position);while(_!==0&&!qn(_));break}if(qn(_))break;for(i=t.position;_!==0&&!nn(_);)_=t.input.charCodeAt(++t.position);c.push(t.input.slice(i,t.position))}_!==0&&Io(t),ki.call(ju,h)?ju[h](t,h,c):os(t,'unknown document directive "'+h+'"')}if(xt(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,xt(t,!0,-1)):p&&xe(t,"directives end mark is expected"),Er(t,t.lineIndent-1,ss,!1,!0),xt(t,!0,-1),t.checkLineBreaks&&hy.test(t.input.slice(r,t.position))&&os(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&hs(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,xt(t,!0,-1));return}if(t.position<t.length-1)xe(t,"end of the stream or a document separator is expected");else return}function Dc(t,r){t=String(t),r=r||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var i=new my(t,r),h=t.indexOf("\0");for(h!==-1&&(i.position=h,xe(i,"null byte is not allowed in input")),i.input+="\0";i.input.charCodeAt(i.position)===32;)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)Cy(i);return i.documents}function Oy(t,r,i){r!==null&&typeof r=="object"&&typeof i>"u"&&(i=r,r=null);var h=Dc(t,i);if(typeof r!="function")return h;for(var c=0,p=h.length;c<p;c+=1)r(h[c])}function My(t,r){var i=Dc(t,r);if(i.length!==0){if(i.length===1)return i[0];throw new Zt("expected a single document in the stream, but found more")}}var Iy=Oy,Ly=My,Bc={loadAll:Iy,load:Ly},Wc=Object.prototype.toString,Hc=Object.prototype.hasOwnProperty,$o=65279,$y=9,na=10,Ty=13,Ry=32,Py=33,Fy=34,wo=35,Ny=37,Dy=38,By=39,Wy=42,Vc=44,Hy=45,ls=58,Vy=61,Gy=62,Uy=63,qy=64,Gc=91,Uc=93,zy=96,qc=123,Yy=124,zc=125,Ut={};Ut[0]="\\0";Ut[7]="\\a";Ut[8]="\\b";Ut[9]="\\t";Ut[10]="\\n";Ut[11]="\\v";Ut[12]="\\f";Ut[13]="\\r";Ut[27]="\\e";Ut[34]='\\"';Ut[92]="\\\\";Ut[133]="\\N";Ut[160]="\\_";Ut[8232]="\\L";Ut[8233]="\\P";var Ky=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Zy=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Xy(t,r){var i,h,c,p,_,b,S;if(r===null)return{};for(i={},h=Object.keys(r),c=0,p=h.length;c<p;c+=1)_=h[c],b=String(r[_]),_.slice(0,2)==="!!"&&(_="tag:yaml.org,2002:"+_.slice(2)),S=t.compiledTypeMap.fallback[_],S&&Hc.call(S.styleAliases,b)&&(b=S.styleAliases[b]),i[_]=b;return i}function jy(t){var r,i,h;if(r=t.toString(16).toUpperCase(),t<=255)i="x",h=2;else if(t<=65535)i="u",h=4;else if(t<=4294967295)i="U",h=8;else throw new Zt("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+i+At.repeat("0",h-r.length)+r}var Qy=1,ia=2;function Jy(t){this.schema=t.schema||Mo,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=At.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=Xy(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?ia:Qy,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function ec(t,r){for(var i=At.repeat(" ",r),h=0,c=-1,p="",_,b=t.length;h<b;)c=t.indexOf(`
`,h),c===-1?(_=t.slice(h),h=b):(_=t.slice(h,c+1),h=c+1),_.length&&_!==`
`&&(p+=i),p+=_;return p}function Eo(t,r){return`
`+At.repeat(" ",t.indent*r)}function eb(t,r){var i,h,c;for(i=0,h=t.implicitTypes.length;i<h;i+=1)if(c=t.implicitTypes[i],c.resolve(r))return!0;return!1}function us(t){return t===Ry||t===$y}function ra(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==$o||65536<=t&&t<=1114111}function tc(t){return ra(t)&&t!==$o&&t!==Ty&&t!==na}function nc(t,r,i){var h=tc(t),c=h&&!us(t);return(i?h:h&&t!==Vc&&t!==Gc&&t!==Uc&&t!==qc&&t!==zc)&&t!==wo&&!(r===ls&&!c)||tc(r)&&!us(r)&&t===wo||r===ls&&c}function tb(t){return ra(t)&&t!==$o&&!us(t)&&t!==Hy&&t!==Uy&&t!==ls&&t!==Vc&&t!==Gc&&t!==Uc&&t!==qc&&t!==zc&&t!==wo&&t!==Dy&&t!==Wy&&t!==Py&&t!==Yy&&t!==Vy&&t!==Gy&&t!==By&&t!==Fy&&t!==Ny&&t!==qy&&t!==zy}function nb(t){return!us(t)&&t!==ls}function Jr(t,r){var i=t.charCodeAt(r),h;return i>=55296&&i<=56319&&r+1<t.length&&(h=t.charCodeAt(r+1),h>=56320&&h<=57343)?(i-55296)*1024+h-56320+65536:i}function Yc(t){var r=/^\n* /;return r.test(t)}var Kc=1,ko=2,Zc=3,Xc=4,xr=5;function ib(t,r,i,h,c,p,_,b){var S,H=0,j=null,z=!1,_e=!1,ge=h!==-1,Ce=-1,Le=tb(Jr(t,0))&&nb(Jr(t,t.length-1));if(r||_)for(S=0;S<t.length;H>=65536?S+=2:S++){if(H=Jr(t,S),!ra(H))return xr;Le=Le&&nc(H,j,b),j=H}else{for(S=0;S<t.length;H>=65536?S+=2:S++){if(H=Jr(t,S),H===na)z=!0,ge&&(_e=_e||S-Ce-1>h&&t[Ce+1]!==" ",Ce=S);else if(!ra(H))return xr;Le=Le&&nc(H,j,b),j=H}_e=_e||ge&&S-Ce-1>h&&t[Ce+1]!==" "}return!z&&!_e?Le&&!_&&!c(t)?Kc:p===ia?xr:ko:i>9&&Yc(t)?xr:_?p===ia?xr:ko:_e?Xc:Zc}function rb(t,r,i,h,c){t.dump=function(){if(r.length===0)return t.quotingType===ia?'""':"''";if(!t.noCompatMode&&(Ky.indexOf(r)!==-1||Zy.test(r)))return t.quotingType===ia?'"'+r+'"':"'"+r+"'";var p=t.indent*Math.max(1,i),_=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-p),b=h||t.flowLevel>-1&&i>=t.flowLevel;function S(H){return eb(t,H)}switch(ib(r,b,t.indent,_,S,t.quotingType,t.forceQuotes&&!h,c)){case Kc:return r;case ko:return"'"+r.replace(/'/g,"''")+"'";case Zc:return"|"+ic(r,t.indent)+rc(ec(r,p));case Xc:return">"+ic(r,t.indent)+rc(ec(ab(r,_),p));case xr:return'"'+sb(r)+'"';default:throw new Zt("impossible error: invalid scalar style")}}()}function ic(t,r){var i=Yc(t)?String(r):"",h=t[t.length-1]===`
`,c=h&&(t[t.length-2]===`
`||t===`
`),p=c?"+":h?"":"-";return i+p+`
`}function rc(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function ab(t,r){for(var i=/(\n+)([^\n]*)/g,h=function(){var H=t.indexOf(`
`);return H=H!==-1?H:t.length,i.lastIndex=H,ac(t.slice(0,H),r)}(),c=t[0]===`
`||t[0]===" ",p,_;_=i.exec(t);){var b=_[1],S=_[2];p=S[0]===" ",h+=b+(!c&&!p&&S!==""?`
`:"")+ac(S,r),c=p}return h}function ac(t,r){if(t===""||t[0]===" ")return t;for(var i=/ [^ ]/g,h,c=0,p,_=0,b=0,S="";h=i.exec(t);)b=h.index,b-c>r&&(p=_>c?_:b,S+=`
`+t.slice(c,p),c=p+1),_=b;return S+=`
`,t.length-c>r&&_>c?S+=t.slice(c,_)+`
`+t.slice(_+1):S+=t.slice(c),S.slice(1)}function sb(t){for(var r="",i=0,h,c=0;c<t.length;i>=65536?c+=2:c++)i=Jr(t,c),h=Ut[i],!h&&ra(i)?(r+=t[c],i>=65536&&(r+=t[c+1])):r+=h||jy(i);return r}function ob(t,r,i){var h="",c=t.tag,p,_,b;for(p=0,_=i.length;p<_;p+=1)b=i[p],t.replacer&&(b=t.replacer.call(i,String(p),b)),(ai(t,r,b,!1,!1)||typeof b>"u"&&ai(t,r,null,!1,!1))&&(h!==""&&(h+=","+(t.condenseFlow?"":" ")),h+=t.dump);t.tag=c,t.dump="["+h+"]"}function sc(t,r,i,h){var c="",p=t.tag,_,b,S;for(_=0,b=i.length;_<b;_+=1)S=i[_],t.replacer&&(S=t.replacer.call(i,String(_),S)),(ai(t,r+1,S,!0,!0,!1,!0)||typeof S>"u"&&ai(t,r+1,null,!0,!0,!1,!0))&&((!h||c!=="")&&(c+=Eo(t,r)),t.dump&&na===t.dump.charCodeAt(0)?c+="-":c+="- ",c+=t.dump);t.tag=p,t.dump=c||"[]"}function lb(t,r,i){var h="",c=t.tag,p=Object.keys(i),_,b,S,H,j;for(_=0,b=p.length;_<b;_+=1)j="",h!==""&&(j+=", "),t.condenseFlow&&(j+='"'),S=p[_],H=i[S],t.replacer&&(H=t.replacer.call(i,S,H)),ai(t,r,S,!1,!1)&&(t.dump.length>1024&&(j+="? "),j+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),ai(t,r,H,!1,!1)&&(j+=t.dump,h+=j));t.tag=c,t.dump="{"+h+"}"}function ub(t,r,i,h){var c="",p=t.tag,_=Object.keys(i),b,S,H,j,z,_e;if(t.sortKeys===!0)_.sort();else if(typeof t.sortKeys=="function")_.sort(t.sortKeys);else if(t.sortKeys)throw new Zt("sortKeys must be a boolean or a function");for(b=0,S=_.length;b<S;b+=1)_e="",(!h||c!=="")&&(_e+=Eo(t,r)),H=_[b],j=i[H],t.replacer&&(j=t.replacer.call(i,H,j)),ai(t,r+1,H,!0,!0,!0)&&(z=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,z&&(t.dump&&na===t.dump.charCodeAt(0)?_e+="?":_e+="? "),_e+=t.dump,z&&(_e+=Eo(t,r)),ai(t,r+1,j,!0,z)&&(t.dump&&na===t.dump.charCodeAt(0)?_e+=":":_e+=": ",_e+=t.dump,c+=_e));t.tag=p,t.dump=c||"{}"}function oc(t,r,i){var h,c,p,_,b,S;for(c=i?t.explicitTypes:t.implicitTypes,p=0,_=c.length;p<_;p+=1)if(b=c[p],(b.instanceOf||b.predicate)&&(!b.instanceOf||typeof r=="object"&&r instanceof b.instanceOf)&&(!b.predicate||b.predicate(r))){if(i?b.multi&&b.representName?t.tag=b.representName(r):t.tag=b.tag:t.tag="?",b.represent){if(S=t.styleMap[b.tag]||b.defaultStyle,Wc.call(b.represent)==="[object Function]")h=b.represent(r,S);else if(Hc.call(b.represent,S))h=b.represent[S](r,S);else throw new Zt("!<"+b.tag+'> tag resolver accepts not "'+S+'" style');t.dump=h}return!0}return!1}function ai(t,r,i,h,c,p,_){t.tag=null,t.dump=i,oc(t,i,!1)||oc(t,i,!0);var b=Wc.call(t.dump),S=h,H;h&&(h=t.flowLevel<0||t.flowLevel>r);var j=b==="[object Object]"||b==="[object Array]",z,_e;if(j&&(z=t.duplicates.indexOf(i),_e=z!==-1),(t.tag!==null&&t.tag!=="?"||_e||t.indent!==2&&r>0)&&(c=!1),_e&&t.usedDuplicates[z])t.dump="*ref_"+z;else{if(j&&_e&&!t.usedDuplicates[z]&&(t.usedDuplicates[z]=!0),b==="[object Object]")h&&Object.keys(t.dump).length!==0?(ub(t,r,t.dump,c),_e&&(t.dump="&ref_"+z+t.dump)):(lb(t,r,t.dump),_e&&(t.dump="&ref_"+z+" "+t.dump));else if(b==="[object Array]")h&&t.dump.length!==0?(t.noArrayIndent&&!_&&r>0?sc(t,r-1,t.dump,c):sc(t,r,t.dump,c),_e&&(t.dump="&ref_"+z+t.dump)):(ob(t,r,t.dump),_e&&(t.dump="&ref_"+z+" "+t.dump));else if(b==="[object String]")t.tag!=="?"&&rb(t,t.dump,r,p,S);else{if(b==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new Zt("unacceptable kind of an object to dump "+b)}t.tag!==null&&t.tag!=="?"&&(H=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?H="!"+H:H.slice(0,18)==="tag:yaml.org,2002:"?H="!!"+H.slice(18):H="!<"+H+">",t.dump=H+" "+t.dump)}return!0}function cb(t,r){var i=[],h=[],c,p;for(Ao(t,i,h),c=0,p=h.length;c<p;c+=1)r.duplicates.push(i[h[c]]);r.usedDuplicates=new Array(p)}function Ao(t,r,i){var h,c,p;if(t!==null&&typeof t=="object")if(c=r.indexOf(t),c!==-1)i.indexOf(c)===-1&&i.push(c);else if(r.push(t),Array.isArray(t))for(c=0,p=t.length;c<p;c+=1)Ao(t[c],r,i);else for(h=Object.keys(t),c=0,p=h.length;c<p;c+=1)Ao(t[h[c]],r,i)}function hb(t,r){r=r||{};var i=new Jy(r);i.noRefs||cb(t,i);var h=t;return i.replacer&&(h=i.replacer.call({"":h},"",h)),ai(i,0,h,!0,!0)?i.dump+`
`:""}var fb=hb,db={dump:fb};function To(t,r){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+r+" instead, which is now safe by default.")}}var pb=Dt,_b=fc,gb=gc,mb=xc,vb=Sc,yb=Mo,bb=Bc.load,xb=Bc.loadAll,Sb=db.dump,wb=Zt,Eb={binary:Cc,float:bc,map:_c,null:mc,pairs:Mc,set:Ic,timestamp:kc,bool:vc,int:yc,merge:Ac,omap:Oc,seq:pc,str:dc},kb=To("safeLoad","load"),Ab=To("safeLoadAll","loadAll"),Cb=To("safeDump","dump"),Tb={Type:pb,Schema:_b,FAILSAFE_SCHEMA:gb,JSON_SCHEMA:mb,CORE_SCHEMA:vb,DEFAULT_SCHEMA:yb,load:bb,loadAll:xb,dump:Sb,YAMLException:wb,types:Eb,safeLoad:kb,safeLoadAll:Ab,safeDump:Cb};export{$b as _,Lb as a,Ib as d,Mb as g,Tb as j};
