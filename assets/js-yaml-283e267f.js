import{e as Qr,g as M0,r as I0,o as qe,c as Xe,d as ae,t as _t,F as bi,f as xi,n as Zt,a as Si,b as ri,h as At,i as ta,j as Cl,m as wi}from"./index-0396b713.js";var is={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */is.exports;(function(t,r){(function(){var i,h="4.17.21",o=200,d="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",_="Expected a function",m="Invalid `variable` option passed into `_.template`",x="__lodash_hash_undefined__",E=500,V="__lodash_placeholder__",K=1,se=2,he=4,we=1,ke=2,ge=1,Qe=2,Pe=4,Pt=8,nt=16,Bt=32,qn=64,Je=128,Wt=256,jt=512,Fn=30,En="...",zi=800,sa=16,Ar=1,Cr=2,Or=3,Nn=1/0,kn=9007199254740991,dn=17976931348623157e292,Yi=0/0,pn=4294967295,Ki=pn-1,$r=pn>>>1,Zi=[["ary",Je],["bind",ge],["bindKey",Qe],["curry",Pt],["curryRight",nt],["flip",jt],["partial",Bt],["partialRight",qn],["rearg",Wt]],Dn="[object Arguments]",_n="[object Array]",la="[object AsyncFunction]",Ai="[object Boolean]",si="[object Date]",fs="[object DOMException]",Xi="[object Error]",Ci="[object Function]",oa="[object GeneratorFunction]",Ot="[object Map]",Ft="[object Number]",ji="[object Null]",An="[object Object]",Mr="[object Promise]",Ee="[object Proxy]",wt="[object RegExp]",$t="[object Set]",gn="[object String]",at="[object Symbol]",ua="[object Undefined]",bt="[object WeakMap]",Cn="[object WeakSet]",gt="[object ArrayBuffer]",it="[object DataView]",Ir="[object Float32Array]",Bn="[object Float64Array]",Oi="[object Int8Array]",Qi="[object Int16Array]",Ji="[object Int32Array]",$i="[object Uint8Array]",mt="[object Uint8ClampedArray]",Lr="[object Uint16Array]",ht="[object Uint32Array]",ds=/\b__p \+= '';/g,Mt=/\b(__p \+=) '' \+/g,ca=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Tr=/&(?:amp|lt|gt|quot|#39);/g,Wn=/[&<>"']/g,It=RegExp(Tr.source),Mi=RegExp(Wn.source),Ii=/<%-([\s\S]+?)%>/g,er=/<%([\s\S]+?)%>/g,tr=/<%=([\s\S]+?)%>/g,Li=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,an=/^\w*$/,Ti=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,li=/[\\^$.*+?()[\]{}|]/g,oi=RegExp(li.source),zn=/^\s+/,Rr=/\s/,Pr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ha=/\{\n\/\* \[wrapped with (.+)\] \*/,nr=/,? & /,ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dt=/[()=,{}\[\]\/\s]/,ui=/\\(\\)?/g,st=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Fr=/\w*$/,fa=/^[-+]0x[0-9a-f]+$/i,da=/^0b[01]+$/i,xt=/^\[object .+?Constructor\]$/,fe=/^0o[0-7]+$/i,pa=/^(?:0|[1-9]\d*)$/,_a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ir=/($^)/,ci=/['\n\r\u2028\u2029\\]/g,Lt="\\ud800-\\udfff",rr="\\u0300-\\u036f",ar="\\ufe20-\\ufe2f",ga="\\u20d0-\\u20ff",Ri=rr+ar+ga,Pi="\\u2700-\\u27bf",Vt="a-z\\xdf-\\xf6\\xf8-\\xff",sr="\\xac\\xb1\\xd7\\xf7",ma="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",a="\\u2000-\\u206f",u=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",c="A-Z\\xc0-\\xd6\\xd8-\\xde",f="\\ufe0e\\ufe0f",b=sr+ma+a+u,v="['’]",k="["+Lt+"]",T="["+b+"]",M="["+Ri+"]",Z="\\d+",G="["+Pi+"]",q="["+Vt+"]",I="[^"+Lt+b+Z+Pi+Vt+c+"]",C="\\ud83c[\\udffb-\\udfff]",L="(?:"+M+"|"+C+")",N="[^"+Lt+"]",O="(?:\\ud83c[\\udde6-\\uddff]){2}",R="[\\ud800-\\udbff][\\udc00-\\udfff]",P="["+c+"]",ie="\\u200d",ue="(?:"+q+"|"+I+")",J="(?:"+P+"|"+I+")",U="(?:"+v+"(?:d|ll|m|re|s|t|ve))?",ee="(?:"+v+"(?:D|LL|M|RE|S|T|VE))?",H=L+"?",S="["+f+"]?",W="(?:"+ie+"(?:"+[N,O,R].join("|")+")"+S+H+")*",Q="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",D="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",le=S+H+W,oe="(?:"+[G,O,R].join("|")+")"+le,Me="(?:"+[N+M+"?",M,O,R,k].join("|")+")",De=RegExp(v,"g"),xe=RegExp(M,"g"),Ie=RegExp(C+"(?="+C+")|"+Me+le,"g"),ye=RegExp([P+"?"+q+"+"+U+"(?="+[T,P,"$"].join("|")+")",J+"+"+ee+"(?="+[T,P+ue,"$"].join("|")+")",P+"?"+ue+"+"+U,P+"+"+ee,D,Q,Z,oe].join("|"),"g"),me=RegExp("["+ie+Lt+Ri+f+"]"),ce=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,j=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Le=-1,de={};de[Ir]=de[Bn]=de[Oi]=de[Qi]=de[Ji]=de[$i]=de[mt]=de[Lr]=de[ht]=!0,de[Dn]=de[_n]=de[gt]=de[Ai]=de[it]=de[si]=de[Xi]=de[Ci]=de[Ot]=de[Ft]=de[An]=de[wt]=de[$t]=de[gn]=de[bt]=!1;var Te={};Te[Dn]=Te[_n]=Te[gt]=Te[it]=Te[Ai]=Te[si]=Te[Ir]=Te[Bn]=Te[Oi]=Te[Qi]=Te[Ji]=Te[Ot]=Te[Ft]=Te[An]=Te[wt]=Te[$t]=Te[gn]=Te[at]=Te[$i]=Te[mt]=Te[Lr]=Te[ht]=!0,Te[Xi]=Te[Ci]=Te[bt]=!1;var et={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Yn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},rt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ze={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},z=parseFloat,$e=parseInt,Ke=typeof Qr=="object"&&Qr&&Qr.Object===Object&&Qr,qt=typeof self=="object"&&self&&self.Object===Object&&self,Be=Ke||qt||Function("return this")(),Qt=r&&!r.nodeType&&r,On=Qt&&!0&&t&&!t.nodeType&&t,lr=On&&On.exports===Qt,$n=lr&&Ke.process,Tt=function(){try{var F=On&&On.require&&On.require("util").types;return F||$n&&$n.binding&&$n.binding("util")}catch{}}(),Rl=Tt&&Tt.isArrayBuffer,Pl=Tt&&Tt.isDate,Fl=Tt&&Tt.isMap,Nl=Tt&&Tt.isRegExp,Dl=Tt&&Tt.isSet,Bl=Tt&&Tt.isTypedArray;function sn(F,X,Y){switch(Y.length){case 0:return F.call(X);case 1:return F.call(X,Y[0]);case 2:return F.call(X,Y[0],Y[1]);case 3:return F.call(X,Y[0],Y[1],Y[2])}return F.apply(X,Y)}function Qc(F,X,Y,_e){for(var Re=-1,Ye=F==null?0:F.length;++Re<Ye;){var Et=F[Re];X(_e,Et,Y(Et),F)}return _e}function mn(F,X){for(var Y=-1,_e=F==null?0:F.length;++Y<_e&&X(F[Y],Y,F)!==!1;);return F}function Jc(F,X){for(var Y=F==null?0:F.length;Y--&&X(F[Y],Y,F)!==!1;);return F}function Wl(F,X){for(var Y=-1,_e=F==null?0:F.length;++Y<_e;)if(!X(F[Y],Y,F))return!1;return!0}function hi(F,X){for(var Y=-1,_e=F==null?0:F.length,Re=0,Ye=[];++Y<_e;){var Et=F[Y];X(Et,Y,F)&&(Ye[Re++]=Et)}return Ye}function va(F,X){var Y=F==null?0:F.length;return!!Y&&or(F,X,0)>-1}function ps(F,X,Y){for(var _e=-1,Re=F==null?0:F.length;++_e<Re;)if(Y(X,F[_e]))return!0;return!1}function lt(F,X){for(var Y=-1,_e=F==null?0:F.length,Re=Array(_e);++Y<_e;)Re[Y]=X(F[Y],Y,F);return Re}function fi(F,X){for(var Y=-1,_e=X.length,Re=F.length;++Y<_e;)F[Re+Y]=X[Y];return F}function _s(F,X,Y,_e){var Re=-1,Ye=F==null?0:F.length;for(_e&&Ye&&(Y=F[++Re]);++Re<Ye;)Y=X(Y,F[Re],Re,F);return Y}function eh(F,X,Y,_e){var Re=F==null?0:F.length;for(_e&&Re&&(Y=F[--Re]);Re--;)Y=X(Y,F[Re],Re,F);return Y}function gs(F,X){for(var Y=-1,_e=F==null?0:F.length;++Y<_e;)if(X(F[Y],Y,F))return!0;return!1}var th=ms("length");function nh(F){return F.split("")}function ih(F){return F.match(ft)||[]}function Vl(F,X,Y){var _e;return Y(F,function(Re,Ye,Et){if(X(Re,Ye,Et))return _e=Ye,!1}),_e}function ya(F,X,Y,_e){for(var Re=F.length,Ye=Y+(_e?1:-1);_e?Ye--:++Ye<Re;)if(X(F[Ye],Ye,F))return Ye;return-1}function or(F,X,Y){return X===X?_h(F,X,Y):ya(F,Hl,Y)}function rh(F,X,Y,_e){for(var Re=Y-1,Ye=F.length;++Re<Ye;)if(_e(F[Re],X))return Re;return-1}function Hl(F){return F!==F}function Gl(F,X){var Y=F==null?0:F.length;return Y?ys(F,X)/Y:Yi}function ms(F){return function(X){return X==null?i:X[F]}}function vs(F){return function(X){return F==null?i:F[X]}}function Ul(F,X,Y,_e,Re){return Re(F,function(Ye,Et,tt){Y=_e?(_e=!1,Ye):X(Y,Ye,Et,tt)}),Y}function ah(F,X){var Y=F.length;for(F.sort(X);Y--;)F[Y]=F[Y].value;return F}function ys(F,X){for(var Y,_e=-1,Re=F.length;++_e<Re;){var Ye=X(F[_e]);Ye!==i&&(Y=Y===i?Ye:Y+Ye)}return Y}function bs(F,X){for(var Y=-1,_e=Array(F);++Y<F;)_e[Y]=X(Y);return _e}function sh(F,X){return lt(X,function(Y){return[Y,F[Y]]})}function ql(F){return F&&F.slice(0,Zl(F)+1).replace(zn,"")}function ln(F){return function(X){return F(X)}}function xs(F,X){return lt(X,function(Y){return F[Y]})}function Nr(F,X){return F.has(X)}function zl(F,X){for(var Y=-1,_e=F.length;++Y<_e&&or(X,F[Y],0)>-1;);return Y}function Yl(F,X){for(var Y=F.length;Y--&&or(X,F[Y],0)>-1;);return Y}function lh(F,X){for(var Y=F.length,_e=0;Y--;)F[Y]===X&&++_e;return _e}var oh=vs(et),uh=vs(Yn);function ch(F){return"\\"+ze[F]}function hh(F,X){return F==null?i:F[X]}function ur(F){return me.test(F)}function fh(F){return ce.test(F)}function dh(F){for(var X,Y=[];!(X=F.next()).done;)Y.push(X.value);return Y}function Ss(F){var X=-1,Y=Array(F.size);return F.forEach(function(_e,Re){Y[++X]=[Re,_e]}),Y}function Kl(F,X){return function(Y){return F(X(Y))}}function di(F,X){for(var Y=-1,_e=F.length,Re=0,Ye=[];++Y<_e;){var Et=F[Y];(Et===X||Et===V)&&(F[Y]=V,Ye[Re++]=Y)}return Ye}function ba(F){var X=-1,Y=Array(F.size);return F.forEach(function(_e){Y[++X]=_e}),Y}function ph(F){var X=-1,Y=Array(F.size);return F.forEach(function(_e){Y[++X]=[_e,_e]}),Y}function _h(F,X,Y){for(var _e=Y-1,Re=F.length;++_e<Re;)if(F[_e]===X)return _e;return-1}function gh(F,X,Y){for(var _e=Y+1;_e--;)if(F[_e]===X)return _e;return _e}function cr(F){return ur(F)?vh(F):th(F)}function Mn(F){return ur(F)?yh(F):nh(F)}function Zl(F){for(var X=F.length;X--&&Rr.test(F.charAt(X)););return X}var mh=vs(rt);function vh(F){for(var X=Ie.lastIndex=0;Ie.test(F);)++X;return X}function yh(F){return F.match(Ie)||[]}function bh(F){return F.match(ye)||[]}var xh=function F(X){X=X==null?Be:hr.defaults(Be.Object(),X,hr.pick(Be,j));var Y=X.Array,_e=X.Date,Re=X.Error,Ye=X.Function,Et=X.Math,tt=X.Object,ws=X.RegExp,Sh=X.String,vn=X.TypeError,xa=Y.prototype,wh=Ye.prototype,fr=tt.prototype,Sa=X["__core-js_shared__"],wa=wh.toString,je=fr.hasOwnProperty,Eh=0,Xl=function(){var e=/[^.]+$/.exec(Sa&&Sa.keys&&Sa.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ea=fr.toString,kh=wa.call(tt),Ah=Be._,Ch=ws("^"+wa.call(je).replace(li,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ka=lr?X.Buffer:i,pi=X.Symbol,Aa=X.Uint8Array,jl=ka?ka.allocUnsafe:i,Ca=Kl(tt.getPrototypeOf,tt),Ql=tt.create,Jl=fr.propertyIsEnumerable,Oa=xa.splice,eo=pi?pi.isConcatSpreadable:i,Dr=pi?pi.iterator:i,Fi=pi?pi.toStringTag:i,$a=function(){try{var e=Vi(tt,"defineProperty");return e({},"",{}),e}catch{}}(),Oh=X.clearTimeout!==Be.clearTimeout&&X.clearTimeout,$h=_e&&_e.now!==Be.Date.now&&_e.now,Mh=X.setTimeout!==Be.setTimeout&&X.setTimeout,Ma=Et.ceil,Ia=Et.floor,Es=tt.getOwnPropertySymbols,Ih=ka?ka.isBuffer:i,to=X.isFinite,Lh=xa.join,Th=Kl(tt.keys,tt),kt=Et.max,Ht=Et.min,Rh=_e.now,Ph=X.parseInt,no=Et.random,Fh=xa.reverse,ks=Vi(X,"DataView"),Br=Vi(X,"Map"),As=Vi(X,"Promise"),dr=Vi(X,"Set"),Wr=Vi(X,"WeakMap"),Vr=Vi(tt,"create"),La=Wr&&new Wr,pr={},Nh=Hi(ks),Dh=Hi(Br),Bh=Hi(As),Wh=Hi(dr),Vh=Hi(Wr),Ta=pi?pi.prototype:i,Hr=Ta?Ta.valueOf:i,io=Ta?Ta.toString:i;function g(e){if(pt(e)&&!Fe(e)&&!(e instanceof Ge)){if(e instanceof yn)return e;if(je.call(e,"__wrapped__"))return au(e)}return new yn(e)}var _r=function(){function e(){}return function(n){if(!ct(n))return{};if(Ql)return Ql(n);e.prototype=n;var s=new e;return e.prototype=i,s}}();function Ra(){}function yn(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=i}g.templateSettings={escape:Ii,evaluate:er,interpolate:tr,variable:"",imports:{_:g}},g.prototype=Ra.prototype,g.prototype.constructor=g,yn.prototype=_r(Ra.prototype),yn.prototype.constructor=yn;function Ge(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=pn,this.__views__=[]}function Hh(){var e=new Ge(this.__wrapped__);return e.__actions__=Jt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Jt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Jt(this.__views__),e}function Gh(){if(this.__filtered__){var e=new Ge(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Uh(){var e=this.__wrapped__.value(),n=this.__dir__,s=Fe(e),l=n<0,p=s?e.length:0,y=id(0,p,this.__views__),w=y.start,A=y.end,B=A-w,te=l?A:w-1,ne=this.__iteratees__,re=ne.length,pe=0,ve=Ht(B,this.__takeCount__);if(!s||!l&&p==B&&ve==B)return Oo(e,this.__actions__);var Ce=[];e:for(;B--&&pe<ve;){te+=n;for(var We=-1,Oe=e[te];++We<re;){var He=ne[We],Ue=He.iteratee,cn=He.type,Kt=Ue(Oe);if(cn==Cr)Oe=Kt;else if(!Kt){if(cn==Ar)continue e;break e}}Ce[pe++]=Oe}return Ce}Ge.prototype=_r(Ra.prototype),Ge.prototype.constructor=Ge;function Ni(e){var n=-1,s=e==null?0:e.length;for(this.clear();++n<s;){var l=e[n];this.set(l[0],l[1])}}function qh(){this.__data__=Vr?Vr(null):{},this.size=0}function zh(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function Yh(e){var n=this.__data__;if(Vr){var s=n[e];return s===x?i:s}return je.call(n,e)?n[e]:i}function Kh(e){var n=this.__data__;return Vr?n[e]!==i:je.call(n,e)}function Zh(e,n){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=Vr&&n===i?x:n,this}Ni.prototype.clear=qh,Ni.prototype.delete=zh,Ni.prototype.get=Yh,Ni.prototype.has=Kh,Ni.prototype.set=Zh;function Kn(e){var n=-1,s=e==null?0:e.length;for(this.clear();++n<s;){var l=e[n];this.set(l[0],l[1])}}function Xh(){this.__data__=[],this.size=0}function jh(e){var n=this.__data__,s=Pa(n,e);if(s<0)return!1;var l=n.length-1;return s==l?n.pop():Oa.call(n,s,1),--this.size,!0}function Qh(e){var n=this.__data__,s=Pa(n,e);return s<0?i:n[s][1]}function Jh(e){return Pa(this.__data__,e)>-1}function ef(e,n){var s=this.__data__,l=Pa(s,e);return l<0?(++this.size,s.push([e,n])):s[l][1]=n,this}Kn.prototype.clear=Xh,Kn.prototype.delete=jh,Kn.prototype.get=Qh,Kn.prototype.has=Jh,Kn.prototype.set=ef;function Zn(e){var n=-1,s=e==null?0:e.length;for(this.clear();++n<s;){var l=e[n];this.set(l[0],l[1])}}function tf(){this.size=0,this.__data__={hash:new Ni,map:new(Br||Kn),string:new Ni}}function nf(e){var n=Ya(this,e).delete(e);return this.size-=n?1:0,n}function rf(e){return Ya(this,e).get(e)}function af(e){return Ya(this,e).has(e)}function sf(e,n){var s=Ya(this,e),l=s.size;return s.set(e,n),this.size+=s.size==l?0:1,this}Zn.prototype.clear=tf,Zn.prototype.delete=nf,Zn.prototype.get=rf,Zn.prototype.has=af,Zn.prototype.set=sf;function Di(e){var n=-1,s=e==null?0:e.length;for(this.__data__=new Zn;++n<s;)this.add(e[n])}function lf(e){return this.__data__.set(e,x),this}function of(e){return this.__data__.has(e)}Di.prototype.add=Di.prototype.push=lf,Di.prototype.has=of;function In(e){var n=this.__data__=new Kn(e);this.size=n.size}function uf(){this.__data__=new Kn,this.size=0}function cf(e){var n=this.__data__,s=n.delete(e);return this.size=n.size,s}function hf(e){return this.__data__.get(e)}function ff(e){return this.__data__.has(e)}function df(e,n){var s=this.__data__;if(s instanceof Kn){var l=s.__data__;if(!Br||l.length<o-1)return l.push([e,n]),this.size=++s.size,this;s=this.__data__=new Zn(l)}return s.set(e,n),this.size=s.size,this}In.prototype.clear=uf,In.prototype.delete=cf,In.prototype.get=hf,In.prototype.has=ff,In.prototype.set=df;function ro(e,n){var s=Fe(e),l=!s&&Gi(e),p=!s&&!l&&yi(e),y=!s&&!l&&!p&&yr(e),w=s||l||p||y,A=w?bs(e.length,Sh):[],B=A.length;for(var te in e)(n||je.call(e,te))&&!(w&&(te=="length"||p&&(te=="offset"||te=="parent")||y&&(te=="buffer"||te=="byteLength"||te=="byteOffset")||Jn(te,B)))&&A.push(te);return A}function ao(e){var n=e.length;return n?e[Ns(0,n-1)]:i}function pf(e,n){return Ka(Jt(e),Bi(n,0,e.length))}function _f(e){return Ka(Jt(e))}function Cs(e,n,s){(s!==i&&!Ln(e[n],s)||s===i&&!(n in e))&&Xn(e,n,s)}function Gr(e,n,s){var l=e[n];(!(je.call(e,n)&&Ln(l,s))||s===i&&!(n in e))&&Xn(e,n,s)}function Pa(e,n){for(var s=e.length;s--;)if(Ln(e[s][0],n))return s;return-1}function gf(e,n,s,l){return _i(e,function(p,y,w){n(l,p,s(p),w)}),l}function so(e,n){return e&&Hn(n,Rt(n),e)}function mf(e,n){return e&&Hn(n,tn(n),e)}function Xn(e,n,s){n=="__proto__"&&$a?$a(e,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[n]=s}function Os(e,n){for(var s=-1,l=n.length,p=Y(l),y=e==null;++s<l;)p[s]=y?i:ol(e,n[s]);return p}function Bi(e,n,s){return e===e&&(s!==i&&(e=e<=s?e:s),n!==i&&(e=e>=n?e:n)),e}function bn(e,n,s,l,p,y){var w,A=n&K,B=n&se,te=n&he;if(s&&(w=p?s(e,l,p,y):s(e)),w!==i)return w;if(!ct(e))return e;var ne=Fe(e);if(ne){if(w=ad(e),!A)return Jt(e,w)}else{var re=Gt(e),pe=re==Ci||re==oa;if(yi(e))return Io(e,A);if(re==An||re==Dn||pe&&!p){if(w=B||pe?{}:Xo(e),!A)return B?Kf(e,mf(w,e)):Yf(e,so(w,e))}else{if(!Te[re])return p?e:{};w=sd(e,re,A)}}y||(y=new In);var ve=y.get(e);if(ve)return ve;y.set(e,w),ku(e)?e.forEach(function(Oe){w.add(bn(Oe,n,s,Oe,e,y))}):wu(e)&&e.forEach(function(Oe,He){w.set(He,bn(Oe,n,s,He,e,y))});var Ce=te?B?Ks:Ys:B?tn:Rt,We=ne?i:Ce(e);return mn(We||e,function(Oe,He){We&&(He=Oe,Oe=e[He]),Gr(w,He,bn(Oe,n,s,He,e,y))}),w}function vf(e){var n=Rt(e);return function(s){return lo(s,e,n)}}function lo(e,n,s){var l=s.length;if(e==null)return!l;for(e=tt(e);l--;){var p=s[l],y=n[p],w=e[p];if(w===i&&!(p in e)||!y(w))return!1}return!0}function oo(e,n,s){if(typeof e!="function")throw new vn(_);return Xr(function(){e.apply(i,s)},n)}function Ur(e,n,s,l){var p=-1,y=va,w=!0,A=e.length,B=[],te=n.length;if(!A)return B;s&&(n=lt(n,ln(s))),l?(y=ps,w=!1):n.length>=o&&(y=Nr,w=!1,n=new Di(n));e:for(;++p<A;){var ne=e[p],re=s==null?ne:s(ne);if(ne=l||ne!==0?ne:0,w&&re===re){for(var pe=te;pe--;)if(n[pe]===re)continue e;B.push(ne)}else y(n,re,l)||B.push(ne)}return B}var _i=Fo(Vn),uo=Fo(Ms,!0);function yf(e,n){var s=!0;return _i(e,function(l,p,y){return s=!!n(l,p,y),s}),s}function Fa(e,n,s){for(var l=-1,p=e.length;++l<p;){var y=e[l],w=n(y);if(w!=null&&(A===i?w===w&&!un(w):s(w,A)))var A=w,B=y}return B}function bf(e,n,s,l){var p=e.length;for(s=Ne(s),s<0&&(s=-s>p?0:p+s),l=l===i||l>p?p:Ne(l),l<0&&(l+=p),l=s>l?0:Cu(l);s<l;)e[s++]=n;return e}function co(e,n){var s=[];return _i(e,function(l,p,y){n(l,p,y)&&s.push(l)}),s}function Nt(e,n,s,l,p){var y=-1,w=e.length;for(s||(s=od),p||(p=[]);++y<w;){var A=e[y];n>0&&s(A)?n>1?Nt(A,n-1,s,l,p):fi(p,A):l||(p[p.length]=A)}return p}var $s=No(),ho=No(!0);function Vn(e,n){return e&&$s(e,n,Rt)}function Ms(e,n){return e&&ho(e,n,Rt)}function Na(e,n){return hi(n,function(s){return ei(e[s])})}function Wi(e,n){n=mi(n,e);for(var s=0,l=n.length;e!=null&&s<l;)e=e[Gn(n[s++])];return s&&s==l?e:i}function fo(e,n,s){var l=n(e);return Fe(e)?l:fi(l,s(e))}function zt(e){return e==null?e===i?ua:ji:Fi&&Fi in tt(e)?nd(e):_d(e)}function Is(e,n){return e>n}function xf(e,n){return e!=null&&je.call(e,n)}function Sf(e,n){return e!=null&&n in tt(e)}function wf(e,n,s){return e>=Ht(n,s)&&e<kt(n,s)}function Ls(e,n,s){for(var l=s?ps:va,p=e[0].length,y=e.length,w=y,A=Y(y),B=1/0,te=[];w--;){var ne=e[w];w&&n&&(ne=lt(ne,ln(n))),B=Ht(ne.length,B),A[w]=!s&&(n||p>=120&&ne.length>=120)?new Di(w&&ne):i}ne=e[0];var re=-1,pe=A[0];e:for(;++re<p&&te.length<B;){var ve=ne[re],Ce=n?n(ve):ve;if(ve=s||ve!==0?ve:0,!(pe?Nr(pe,Ce):l(te,Ce,s))){for(w=y;--w;){var We=A[w];if(!(We?Nr(We,Ce):l(e[w],Ce,s)))continue e}pe&&pe.push(Ce),te.push(ve)}}return te}function Ef(e,n,s,l){return Vn(e,function(p,y,w){n(l,s(p),y,w)}),l}function qr(e,n,s){n=mi(n,e),e=eu(e,n);var l=e==null?e:e[Gn(Sn(n))];return l==null?i:sn(l,e,s)}function po(e){return pt(e)&&zt(e)==Dn}function kf(e){return pt(e)&&zt(e)==gt}function Af(e){return pt(e)&&zt(e)==si}function zr(e,n,s,l,p){return e===n?!0:e==null||n==null||!pt(e)&&!pt(n)?e!==e&&n!==n:Cf(e,n,s,l,zr,p)}function Cf(e,n,s,l,p,y){var w=Fe(e),A=Fe(n),B=w?_n:Gt(e),te=A?_n:Gt(n);B=B==Dn?An:B,te=te==Dn?An:te;var ne=B==An,re=te==An,pe=B==te;if(pe&&yi(e)){if(!yi(n))return!1;w=!0,ne=!1}if(pe&&!ne)return y||(y=new In),w||yr(e)?Yo(e,n,s,l,p,y):ed(e,n,B,s,l,p,y);if(!(s&we)){var ve=ne&&je.call(e,"__wrapped__"),Ce=re&&je.call(n,"__wrapped__");if(ve||Ce){var We=ve?e.value():e,Oe=Ce?n.value():n;return y||(y=new In),p(We,Oe,s,l,y)}}return pe?(y||(y=new In),td(e,n,s,l,p,y)):!1}function Of(e){return pt(e)&&Gt(e)==Ot}function Ts(e,n,s,l){var p=s.length,y=p,w=!l;if(e==null)return!y;for(e=tt(e);p--;){var A=s[p];if(w&&A[2]?A[1]!==e[A[0]]:!(A[0]in e))return!1}for(;++p<y;){A=s[p];var B=A[0],te=e[B],ne=A[1];if(w&&A[2]){if(te===i&&!(B in e))return!1}else{var re=new In;if(l)var pe=l(te,ne,B,e,n,re);if(!(pe===i?zr(ne,te,we|ke,l,re):pe))return!1}}return!0}function _o(e){if(!ct(e)||cd(e))return!1;var n=ei(e)?Ch:xt;return n.test(Hi(e))}function $f(e){return pt(e)&&zt(e)==wt}function Mf(e){return pt(e)&&Gt(e)==$t}function If(e){return pt(e)&&es(e.length)&&!!de[zt(e)]}function go(e){return typeof e=="function"?e:e==null?nn:typeof e=="object"?Fe(e)?yo(e[0],e[1]):vo(e):Du(e)}function Rs(e){if(!Zr(e))return Th(e);var n=[];for(var s in tt(e))je.call(e,s)&&s!="constructor"&&n.push(s);return n}function Lf(e){if(!ct(e))return pd(e);var n=Zr(e),s=[];for(var l in e)l=="constructor"&&(n||!je.call(e,l))||s.push(l);return s}function Ps(e,n){return e<n}function mo(e,n){var s=-1,l=en(e)?Y(e.length):[];return _i(e,function(p,y,w){l[++s]=n(p,y,w)}),l}function vo(e){var n=Xs(e);return n.length==1&&n[0][2]?Qo(n[0][0],n[0][1]):function(s){return s===e||Ts(s,e,n)}}function yo(e,n){return Qs(e)&&jo(n)?Qo(Gn(e),n):function(s){var l=ol(s,e);return l===i&&l===n?ul(s,e):zr(n,l,we|ke)}}function Da(e,n,s,l,p){e!==n&&$s(n,function(y,w){if(p||(p=new In),ct(y))Tf(e,n,w,s,Da,l,p);else{var A=l?l(el(e,w),y,w+"",e,n,p):i;A===i&&(A=y),Cs(e,w,A)}},tn)}function Tf(e,n,s,l,p,y,w){var A=el(e,s),B=el(n,s),te=w.get(B);if(te){Cs(e,s,te);return}var ne=y?y(A,B,s+"",e,n,w):i,re=ne===i;if(re){var pe=Fe(B),ve=!pe&&yi(B),Ce=!pe&&!ve&&yr(B);ne=B,pe||ve||Ce?Fe(A)?ne=A:vt(A)?ne=Jt(A):ve?(re=!1,ne=Io(B,!0)):Ce?(re=!1,ne=Lo(B,!0)):ne=[]:jr(B)||Gi(B)?(ne=A,Gi(A)?ne=Ou(A):(!ct(A)||ei(A))&&(ne=Xo(B))):re=!1}re&&(w.set(B,ne),p(ne,B,l,y,w),w.delete(B)),Cs(e,s,ne)}function bo(e,n){var s=e.length;if(s)return n+=n<0?s:0,Jn(n,s)?e[n]:i}function xo(e,n,s){n.length?n=lt(n,function(y){return Fe(y)?function(w){return Wi(w,y.length===1?y[0]:y)}:y}):n=[nn];var l=-1;n=lt(n,ln(Ae()));var p=mo(e,function(y,w,A){var B=lt(n,function(te){return te(y)});return{criteria:B,index:++l,value:y}});return ah(p,function(y,w){return zf(y,w,s)})}function Rf(e,n){return So(e,n,function(s,l){return ul(e,l)})}function So(e,n,s){for(var l=-1,p=n.length,y={};++l<p;){var w=n[l],A=Wi(e,w);s(A,w)&&Yr(y,mi(w,e),A)}return y}function Pf(e){return function(n){return Wi(n,e)}}function Fs(e,n,s,l){var p=l?rh:or,y=-1,w=n.length,A=e;for(e===n&&(n=Jt(n)),s&&(A=lt(e,ln(s)));++y<w;)for(var B=0,te=n[y],ne=s?s(te):te;(B=p(A,ne,B,l))>-1;)A!==e&&Oa.call(A,B,1),Oa.call(e,B,1);return e}function wo(e,n){for(var s=e?n.length:0,l=s-1;s--;){var p=n[s];if(s==l||p!==y){var y=p;Jn(p)?Oa.call(e,p,1):Ws(e,p)}}return e}function Ns(e,n){return e+Ia(no()*(n-e+1))}function Ff(e,n,s,l){for(var p=-1,y=kt(Ma((n-e)/(s||1)),0),w=Y(y);y--;)w[l?y:++p]=e,e+=s;return w}function Ds(e,n){var s="";if(!e||n<1||n>kn)return s;do n%2&&(s+=e),n=Ia(n/2),n&&(e+=e);while(n);return s}function Ve(e,n){return tl(Jo(e,n,nn),e+"")}function Nf(e){return ao(br(e))}function Df(e,n){var s=br(e);return Ka(s,Bi(n,0,s.length))}function Yr(e,n,s,l){if(!ct(e))return e;n=mi(n,e);for(var p=-1,y=n.length,w=y-1,A=e;A!=null&&++p<y;){var B=Gn(n[p]),te=s;if(B==="__proto__"||B==="constructor"||B==="prototype")return e;if(p!=w){var ne=A[B];te=l?l(ne,B,A):i,te===i&&(te=ct(ne)?ne:Jn(n[p+1])?[]:{})}Gr(A,B,te),A=A[B]}return e}var Eo=La?function(e,n){return La.set(e,n),e}:nn,Bf=$a?function(e,n){return $a(e,"toString",{configurable:!0,enumerable:!1,value:hl(n),writable:!0})}:nn;function Wf(e){return Ka(br(e))}function xn(e,n,s){var l=-1,p=e.length;n<0&&(n=-n>p?0:p+n),s=s>p?p:s,s<0&&(s+=p),p=n>s?0:s-n>>>0,n>>>=0;for(var y=Y(p);++l<p;)y[l]=e[l+n];return y}function Vf(e,n){var s;return _i(e,function(l,p,y){return s=n(l,p,y),!s}),!!s}function Ba(e,n,s){var l=0,p=e==null?l:e.length;if(typeof n=="number"&&n===n&&p<=$r){for(;l<p;){var y=l+p>>>1,w=e[y];w!==null&&!un(w)&&(s?w<=n:w<n)?l=y+1:p=y}return p}return Bs(e,n,nn,s)}function Bs(e,n,s,l){var p=0,y=e==null?0:e.length;if(y===0)return 0;n=s(n);for(var w=n!==n,A=n===null,B=un(n),te=n===i;p<y;){var ne=Ia((p+y)/2),re=s(e[ne]),pe=re!==i,ve=re===null,Ce=re===re,We=un(re);if(w)var Oe=l||Ce;else te?Oe=Ce&&(l||pe):A?Oe=Ce&&pe&&(l||!ve):B?Oe=Ce&&pe&&!ve&&(l||!We):ve||We?Oe=!1:Oe=l?re<=n:re<n;Oe?p=ne+1:y=ne}return Ht(y,Ki)}function ko(e,n){for(var s=-1,l=e.length,p=0,y=[];++s<l;){var w=e[s],A=n?n(w):w;if(!s||!Ln(A,B)){var B=A;y[p++]=w===0?0:w}}return y}function Ao(e){return typeof e=="number"?e:un(e)?Yi:+e}function on(e){if(typeof e=="string")return e;if(Fe(e))return lt(e,on)+"";if(un(e))return io?io.call(e):"";var n=e+"";return n=="0"&&1/e==-Nn?"-0":n}function gi(e,n,s){var l=-1,p=va,y=e.length,w=!0,A=[],B=A;if(s)w=!1,p=ps;else if(y>=o){var te=n?null:Qf(e);if(te)return ba(te);w=!1,p=Nr,B=new Di}else B=n?[]:A;e:for(;++l<y;){var ne=e[l],re=n?n(ne):ne;if(ne=s||ne!==0?ne:0,w&&re===re){for(var pe=B.length;pe--;)if(B[pe]===re)continue e;n&&B.push(re),A.push(ne)}else p(B,re,s)||(B!==A&&B.push(re),A.push(ne))}return A}function Ws(e,n){return n=mi(n,e),e=eu(e,n),e==null||delete e[Gn(Sn(n))]}function Co(e,n,s,l){return Yr(e,n,s(Wi(e,n)),l)}function Wa(e,n,s,l){for(var p=e.length,y=l?p:-1;(l?y--:++y<p)&&n(e[y],y,e););return s?xn(e,l?0:y,l?y+1:p):xn(e,l?y+1:0,l?p:y)}function Oo(e,n){var s=e;return s instanceof Ge&&(s=s.value()),_s(n,function(l,p){return p.func.apply(p.thisArg,fi([l],p.args))},s)}function Vs(e,n,s){var l=e.length;if(l<2)return l?gi(e[0]):[];for(var p=-1,y=Y(l);++p<l;)for(var w=e[p],A=-1;++A<l;)A!=p&&(y[p]=Ur(y[p]||w,e[A],n,s));return gi(Nt(y,1),n,s)}function $o(e,n,s){for(var l=-1,p=e.length,y=n.length,w={};++l<p;){var A=l<y?n[l]:i;s(w,e[l],A)}return w}function Hs(e){return vt(e)?e:[]}function Gs(e){return typeof e=="function"?e:nn}function mi(e,n){return Fe(e)?e:Qs(e,n)?[e]:ru(Ze(e))}var Hf=Ve;function vi(e,n,s){var l=e.length;return s=s===i?l:s,!n&&s>=l?e:xn(e,n,s)}var Mo=Oh||function(e){return Be.clearTimeout(e)};function Io(e,n){if(n)return e.slice();var s=e.length,l=jl?jl(s):new e.constructor(s);return e.copy(l),l}function Us(e){var n=new e.constructor(e.byteLength);return new Aa(n).set(new Aa(e)),n}function Gf(e,n){var s=n?Us(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}function Uf(e){var n=new e.constructor(e.source,Fr.exec(e));return n.lastIndex=e.lastIndex,n}function qf(e){return Hr?tt(Hr.call(e)):{}}function Lo(e,n){var s=n?Us(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}function To(e,n){if(e!==n){var s=e!==i,l=e===null,p=e===e,y=un(e),w=n!==i,A=n===null,B=n===n,te=un(n);if(!A&&!te&&!y&&e>n||y&&w&&B&&!A&&!te||l&&w&&B||!s&&B||!p)return 1;if(!l&&!y&&!te&&e<n||te&&s&&p&&!l&&!y||A&&s&&p||!w&&p||!B)return-1}return 0}function zf(e,n,s){for(var l=-1,p=e.criteria,y=n.criteria,w=p.length,A=s.length;++l<w;){var B=To(p[l],y[l]);if(B){if(l>=A)return B;var te=s[l];return B*(te=="desc"?-1:1)}}return e.index-n.index}function Ro(e,n,s,l){for(var p=-1,y=e.length,w=s.length,A=-1,B=n.length,te=kt(y-w,0),ne=Y(B+te),re=!l;++A<B;)ne[A]=n[A];for(;++p<w;)(re||p<y)&&(ne[s[p]]=e[p]);for(;te--;)ne[A++]=e[p++];return ne}function Po(e,n,s,l){for(var p=-1,y=e.length,w=-1,A=s.length,B=-1,te=n.length,ne=kt(y-A,0),re=Y(ne+te),pe=!l;++p<ne;)re[p]=e[p];for(var ve=p;++B<te;)re[ve+B]=n[B];for(;++w<A;)(pe||p<y)&&(re[ve+s[w]]=e[p++]);return re}function Jt(e,n){var s=-1,l=e.length;for(n||(n=Y(l));++s<l;)n[s]=e[s];return n}function Hn(e,n,s,l){var p=!s;s||(s={});for(var y=-1,w=n.length;++y<w;){var A=n[y],B=l?l(s[A],e[A],A,s,e):i;B===i&&(B=e[A]),p?Xn(s,A,B):Gr(s,A,B)}return s}function Yf(e,n){return Hn(e,js(e),n)}function Kf(e,n){return Hn(e,Ko(e),n)}function Va(e,n){return function(s,l){var p=Fe(s)?Qc:gf,y=n?n():{};return p(s,e,Ae(l,2),y)}}function gr(e){return Ve(function(n,s){var l=-1,p=s.length,y=p>1?s[p-1]:i,w=p>2?s[2]:i;for(y=e.length>3&&typeof y=="function"?(p--,y):i,w&&Yt(s[0],s[1],w)&&(y=p<3?i:y,p=1),n=tt(n);++l<p;){var A=s[l];A&&e(n,A,l,y)}return n})}function Fo(e,n){return function(s,l){if(s==null)return s;if(!en(s))return e(s,l);for(var p=s.length,y=n?p:-1,w=tt(s);(n?y--:++y<p)&&l(w[y],y,w)!==!1;);return s}}function No(e){return function(n,s,l){for(var p=-1,y=tt(n),w=l(n),A=w.length;A--;){var B=w[e?A:++p];if(s(y[B],B,y)===!1)break}return n}}function Zf(e,n,s){var l=n&ge,p=Kr(e);function y(){var w=this&&this!==Be&&this instanceof y?p:e;return w.apply(l?s:this,arguments)}return y}function Do(e){return function(n){n=Ze(n);var s=ur(n)?Mn(n):i,l=s?s[0]:n.charAt(0),p=s?vi(s,1).join(""):n.slice(1);return l[e]()+p}}function mr(e){return function(n){return _s(Fu(Pu(n).replace(De,"")),e,"")}}function Kr(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var s=_r(e.prototype),l=e.apply(s,n);return ct(l)?l:s}}function Xf(e,n,s){var l=Kr(e);function p(){for(var y=arguments.length,w=Y(y),A=y,B=vr(p);A--;)w[A]=arguments[A];var te=y<3&&w[0]!==B&&w[y-1]!==B?[]:di(w,B);if(y-=te.length,y<s)return Go(e,n,Ha,p.placeholder,i,w,te,i,i,s-y);var ne=this&&this!==Be&&this instanceof p?l:e;return sn(ne,this,w)}return p}function Bo(e){return function(n,s,l){var p=tt(n);if(!en(n)){var y=Ae(s,3);n=Rt(n),s=function(A){return y(p[A],A,p)}}var w=e(n,s,l);return w>-1?p[y?n[w]:w]:i}}function Wo(e){return Qn(function(n){var s=n.length,l=s,p=yn.prototype.thru;for(e&&n.reverse();l--;){var y=n[l];if(typeof y!="function")throw new vn(_);if(p&&!w&&za(y)=="wrapper")var w=new yn([],!0)}for(l=w?l:s;++l<s;){y=n[l];var A=za(y),B=A=="wrapper"?Zs(y):i;B&&Js(B[0])&&B[1]==(Je|Pt|Bt|Wt)&&!B[4].length&&B[9]==1?w=w[za(B[0])].apply(w,B[3]):w=y.length==1&&Js(y)?w[A]():w.thru(y)}return function(){var te=arguments,ne=te[0];if(w&&te.length==1&&Fe(ne))return w.plant(ne).value();for(var re=0,pe=s?n[re].apply(this,te):ne;++re<s;)pe=n[re].call(this,pe);return pe}})}function Ha(e,n,s,l,p,y,w,A,B,te){var ne=n&Je,re=n&ge,pe=n&Qe,ve=n&(Pt|nt),Ce=n&jt,We=pe?i:Kr(e);function Oe(){for(var He=arguments.length,Ue=Y(He),cn=He;cn--;)Ue[cn]=arguments[cn];if(ve)var Kt=vr(Oe),hn=lh(Ue,Kt);if(l&&(Ue=Ro(Ue,l,p,ve)),y&&(Ue=Po(Ue,y,w,ve)),He-=hn,ve&&He<te){var yt=di(Ue,Kt);return Go(e,n,Ha,Oe.placeholder,s,Ue,yt,A,B,te-He)}var Tn=re?s:this,ni=pe?Tn[e]:e;return He=Ue.length,A?Ue=gd(Ue,A):Ce&&He>1&&Ue.reverse(),ne&&B<He&&(Ue.length=B),this&&this!==Be&&this instanceof Oe&&(ni=We||Kr(ni)),ni.apply(Tn,Ue)}return Oe}function Vo(e,n){return function(s,l){return Ef(s,e,n(l),{})}}function Ga(e,n){return function(s,l){var p;if(s===i&&l===i)return n;if(s!==i&&(p=s),l!==i){if(p===i)return l;typeof s=="string"||typeof l=="string"?(s=on(s),l=on(l)):(s=Ao(s),l=Ao(l)),p=e(s,l)}return p}}function qs(e){return Qn(function(n){return n=lt(n,ln(Ae())),Ve(function(s){var l=this;return e(n,function(p){return sn(p,l,s)})})})}function Ua(e,n){n=n===i?" ":on(n);var s=n.length;if(s<2)return s?Ds(n,e):n;var l=Ds(n,Ma(e/cr(n)));return ur(n)?vi(Mn(l),0,e).join(""):l.slice(0,e)}function jf(e,n,s,l){var p=n&ge,y=Kr(e);function w(){for(var A=-1,B=arguments.length,te=-1,ne=l.length,re=Y(ne+B),pe=this&&this!==Be&&this instanceof w?y:e;++te<ne;)re[te]=l[te];for(;B--;)re[te++]=arguments[++A];return sn(pe,p?s:this,re)}return w}function Ho(e){return function(n,s,l){return l&&typeof l!="number"&&Yt(n,s,l)&&(s=l=i),n=ti(n),s===i?(s=n,n=0):s=ti(s),l=l===i?n<s?1:-1:ti(l),Ff(n,s,l,e)}}function qa(e){return function(n,s){return typeof n=="string"&&typeof s=="string"||(n=wn(n),s=wn(s)),e(n,s)}}function Go(e,n,s,l,p,y,w,A,B,te){var ne=n&Pt,re=ne?w:i,pe=ne?i:w,ve=ne?y:i,Ce=ne?i:y;n|=ne?Bt:qn,n&=~(ne?qn:Bt),n&Pe||(n&=~(ge|Qe));var We=[e,n,p,ve,re,Ce,pe,A,B,te],Oe=s.apply(i,We);return Js(e)&&tu(Oe,We),Oe.placeholder=l,nu(Oe,e,n)}function zs(e){var n=Et[e];return function(s,l){if(s=wn(s),l=l==null?0:Ht(Ne(l),292),l&&to(s)){var p=(Ze(s)+"e").split("e"),y=n(p[0]+"e"+(+p[1]+l));return p=(Ze(y)+"e").split("e"),+(p[0]+"e"+(+p[1]-l))}return n(s)}}var Qf=dr&&1/ba(new dr([,-0]))[1]==Nn?function(e){return new dr(e)}:pl;function Uo(e){return function(n){var s=Gt(n);return s==Ot?Ss(n):s==$t?ph(n):sh(n,e(n))}}function jn(e,n,s,l,p,y,w,A){var B=n&Qe;if(!B&&typeof e!="function")throw new vn(_);var te=l?l.length:0;if(te||(n&=~(Bt|qn),l=p=i),w=w===i?w:kt(Ne(w),0),A=A===i?A:Ne(A),te-=p?p.length:0,n&qn){var ne=l,re=p;l=p=i}var pe=B?i:Zs(e),ve=[e,n,s,l,p,ne,re,y,w,A];if(pe&&dd(ve,pe),e=ve[0],n=ve[1],s=ve[2],l=ve[3],p=ve[4],A=ve[9]=ve[9]===i?B?0:e.length:kt(ve[9]-te,0),!A&&n&(Pt|nt)&&(n&=~(Pt|nt)),!n||n==ge)var Ce=Zf(e,n,s);else n==Pt||n==nt?Ce=Xf(e,n,A):(n==Bt||n==(ge|Bt))&&!p.length?Ce=jf(e,n,s,l):Ce=Ha.apply(i,ve);var We=pe?Eo:tu;return nu(We(Ce,ve),e,n)}function qo(e,n,s,l){return e===i||Ln(e,fr[s])&&!je.call(l,s)?n:e}function zo(e,n,s,l,p,y){return ct(e)&&ct(n)&&(y.set(n,e),Da(e,n,i,zo,y),y.delete(n)),e}function Jf(e){return jr(e)?i:e}function Yo(e,n,s,l,p,y){var w=s&we,A=e.length,B=n.length;if(A!=B&&!(w&&B>A))return!1;var te=y.get(e),ne=y.get(n);if(te&&ne)return te==n&&ne==e;var re=-1,pe=!0,ve=s&ke?new Di:i;for(y.set(e,n),y.set(n,e);++re<A;){var Ce=e[re],We=n[re];if(l)var Oe=w?l(We,Ce,re,n,e,y):l(Ce,We,re,e,n,y);if(Oe!==i){if(Oe)continue;pe=!1;break}if(ve){if(!gs(n,function(He,Ue){if(!Nr(ve,Ue)&&(Ce===He||p(Ce,He,s,l,y)))return ve.push(Ue)})){pe=!1;break}}else if(!(Ce===We||p(Ce,We,s,l,y))){pe=!1;break}}return y.delete(e),y.delete(n),pe}function ed(e,n,s,l,p,y,w){switch(s){case it:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case gt:return!(e.byteLength!=n.byteLength||!y(new Aa(e),new Aa(n)));case Ai:case si:case Ft:return Ln(+e,+n);case Xi:return e.name==n.name&&e.message==n.message;case wt:case gn:return e==n+"";case Ot:var A=Ss;case $t:var B=l&we;if(A||(A=ba),e.size!=n.size&&!B)return!1;var te=w.get(e);if(te)return te==n;l|=ke,w.set(e,n);var ne=Yo(A(e),A(n),l,p,y,w);return w.delete(e),ne;case at:if(Hr)return Hr.call(e)==Hr.call(n)}return!1}function td(e,n,s,l,p,y){var w=s&we,A=Ys(e),B=A.length,te=Ys(n),ne=te.length;if(B!=ne&&!w)return!1;for(var re=B;re--;){var pe=A[re];if(!(w?pe in n:je.call(n,pe)))return!1}var ve=y.get(e),Ce=y.get(n);if(ve&&Ce)return ve==n&&Ce==e;var We=!0;y.set(e,n),y.set(n,e);for(var Oe=w;++re<B;){pe=A[re];var He=e[pe],Ue=n[pe];if(l)var cn=w?l(Ue,He,pe,n,e,y):l(He,Ue,pe,e,n,y);if(!(cn===i?He===Ue||p(He,Ue,s,l,y):cn)){We=!1;break}Oe||(Oe=pe=="constructor")}if(We&&!Oe){var Kt=e.constructor,hn=n.constructor;Kt!=hn&&"constructor"in e&&"constructor"in n&&!(typeof Kt=="function"&&Kt instanceof Kt&&typeof hn=="function"&&hn instanceof hn)&&(We=!1)}return y.delete(e),y.delete(n),We}function Qn(e){return tl(Jo(e,i,ou),e+"")}function Ys(e){return fo(e,Rt,js)}function Ks(e){return fo(e,tn,Ko)}var Zs=La?function(e){return La.get(e)}:pl;function za(e){for(var n=e.name+"",s=pr[n],l=je.call(pr,n)?s.length:0;l--;){var p=s[l],y=p.func;if(y==null||y==e)return p.name}return n}function vr(e){var n=je.call(g,"placeholder")?g:e;return n.placeholder}function Ae(){var e=g.iteratee||fl;return e=e===fl?go:e,arguments.length?e(arguments[0],arguments[1]):e}function Ya(e,n){var s=e.__data__;return ud(n)?s[typeof n=="string"?"string":"hash"]:s.map}function Xs(e){for(var n=Rt(e),s=n.length;s--;){var l=n[s],p=e[l];n[s]=[l,p,jo(p)]}return n}function Vi(e,n){var s=hh(e,n);return _o(s)?s:i}function nd(e){var n=je.call(e,Fi),s=e[Fi];try{e[Fi]=i;var l=!0}catch{}var p=Ea.call(e);return l&&(n?e[Fi]=s:delete e[Fi]),p}var js=Es?function(e){return e==null?[]:(e=tt(e),hi(Es(e),function(n){return Jl.call(e,n)}))}:_l,Ko=Es?function(e){for(var n=[];e;)fi(n,js(e)),e=Ca(e);return n}:_l,Gt=zt;(ks&&Gt(new ks(new ArrayBuffer(1)))!=it||Br&&Gt(new Br)!=Ot||As&&Gt(As.resolve())!=Mr||dr&&Gt(new dr)!=$t||Wr&&Gt(new Wr)!=bt)&&(Gt=function(e){var n=zt(e),s=n==An?e.constructor:i,l=s?Hi(s):"";if(l)switch(l){case Nh:return it;case Dh:return Ot;case Bh:return Mr;case Wh:return $t;case Vh:return bt}return n});function id(e,n,s){for(var l=-1,p=s.length;++l<p;){var y=s[l],w=y.size;switch(y.type){case"drop":e+=w;break;case"dropRight":n-=w;break;case"take":n=Ht(n,e+w);break;case"takeRight":e=kt(e,n-w);break}}return{start:e,end:n}}function rd(e){var n=e.match(ha);return n?n[1].split(nr):[]}function Zo(e,n,s){n=mi(n,e);for(var l=-1,p=n.length,y=!1;++l<p;){var w=Gn(n[l]);if(!(y=e!=null&&s(e,w)))break;e=e[w]}return y||++l!=p?y:(p=e==null?0:e.length,!!p&&es(p)&&Jn(w,p)&&(Fe(e)||Gi(e)))}function ad(e){var n=e.length,s=new e.constructor(n);return n&&typeof e[0]=="string"&&je.call(e,"index")&&(s.index=e.index,s.input=e.input),s}function Xo(e){return typeof e.constructor=="function"&&!Zr(e)?_r(Ca(e)):{}}function sd(e,n,s){var l=e.constructor;switch(n){case gt:return Us(e);case Ai:case si:return new l(+e);case it:return Gf(e,s);case Ir:case Bn:case Oi:case Qi:case Ji:case $i:case mt:case Lr:case ht:return Lo(e,s);case Ot:return new l;case Ft:case gn:return new l(e);case wt:return Uf(e);case $t:return new l;case at:return qf(e)}}function ld(e,n){var s=n.length;if(!s)return e;var l=s-1;return n[l]=(s>1?"& ":"")+n[l],n=n.join(s>2?", ":" "),e.replace(Pr,`{
/* [wrapped with `+n+`] */
`)}function od(e){return Fe(e)||Gi(e)||!!(eo&&e&&e[eo])}function Jn(e,n){var s=typeof e;return n=n??kn,!!n&&(s=="number"||s!="symbol"&&pa.test(e))&&e>-1&&e%1==0&&e<n}function Yt(e,n,s){if(!ct(s))return!1;var l=typeof n;return(l=="number"?en(s)&&Jn(n,s.length):l=="string"&&n in s)?Ln(s[n],e):!1}function Qs(e,n){if(Fe(e))return!1;var s=typeof e;return s=="number"||s=="symbol"||s=="boolean"||e==null||un(e)?!0:an.test(e)||!Li.test(e)||n!=null&&e in tt(n)}function ud(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function Js(e){var n=za(e),s=g[n];if(typeof s!="function"||!(n in Ge.prototype))return!1;if(e===s)return!0;var l=Zs(s);return!!l&&e===l[0]}function cd(e){return!!Xl&&Xl in e}var hd=Sa?ei:gl;function Zr(e){var n=e&&e.constructor,s=typeof n=="function"&&n.prototype||fr;return e===s}function jo(e){return e===e&&!ct(e)}function Qo(e,n){return function(s){return s==null?!1:s[e]===n&&(n!==i||e in tt(s))}}function fd(e){var n=Qa(e,function(l){return s.size===E&&s.clear(),l}),s=n.cache;return n}function dd(e,n){var s=e[1],l=n[1],p=s|l,y=p<(ge|Qe|Je),w=l==Je&&s==Pt||l==Je&&s==Wt&&e[7].length<=n[8]||l==(Je|Wt)&&n[7].length<=n[8]&&s==Pt;if(!(y||w))return e;l&ge&&(e[2]=n[2],p|=s&ge?0:Pe);var A=n[3];if(A){var B=e[3];e[3]=B?Ro(B,A,n[4]):A,e[4]=B?di(e[3],V):n[4]}return A=n[5],A&&(B=e[5],e[5]=B?Po(B,A,n[6]):A,e[6]=B?di(e[5],V):n[6]),A=n[7],A&&(e[7]=A),l&Je&&(e[8]=e[8]==null?n[8]:Ht(e[8],n[8])),e[9]==null&&(e[9]=n[9]),e[0]=n[0],e[1]=p,e}function pd(e){var n=[];if(e!=null)for(var s in tt(e))n.push(s);return n}function _d(e){return Ea.call(e)}function Jo(e,n,s){return n=kt(n===i?e.length-1:n,0),function(){for(var l=arguments,p=-1,y=kt(l.length-n,0),w=Y(y);++p<y;)w[p]=l[n+p];p=-1;for(var A=Y(n+1);++p<n;)A[p]=l[p];return A[n]=s(w),sn(e,this,A)}}function eu(e,n){return n.length<2?e:Wi(e,xn(n,0,-1))}function gd(e,n){for(var s=e.length,l=Ht(n.length,s),p=Jt(e);l--;){var y=n[l];e[l]=Jn(y,s)?p[y]:i}return e}function el(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var tu=iu(Eo),Xr=Mh||function(e,n){return Be.setTimeout(e,n)},tl=iu(Bf);function nu(e,n,s){var l=n+"";return tl(e,ld(l,md(rd(l),s)))}function iu(e){var n=0,s=0;return function(){var l=Rh(),p=sa-(l-s);if(s=l,p>0){if(++n>=zi)return arguments[0]}else n=0;return e.apply(i,arguments)}}function Ka(e,n){var s=-1,l=e.length,p=l-1;for(n=n===i?l:n;++s<n;){var y=Ns(s,p),w=e[y];e[y]=e[s],e[s]=w}return e.length=n,e}var ru=fd(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(Ti,function(s,l,p,y){n.push(p?y.replace(ui,"$1"):l||s)}),n});function Gn(e){if(typeof e=="string"||un(e))return e;var n=e+"";return n=="0"&&1/e==-Nn?"-0":n}function Hi(e){if(e!=null){try{return wa.call(e)}catch{}try{return e+""}catch{}}return""}function md(e,n){return mn(Zi,function(s){var l="_."+s[0];n&s[1]&&!va(e,l)&&e.push(l)}),e.sort()}function au(e){if(e instanceof Ge)return e.clone();var n=new yn(e.__wrapped__,e.__chain__);return n.__actions__=Jt(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}function vd(e,n,s){(s?Yt(e,n,s):n===i)?n=1:n=kt(Ne(n),0);var l=e==null?0:e.length;if(!l||n<1)return[];for(var p=0,y=0,w=Y(Ma(l/n));p<l;)w[y++]=xn(e,p,p+=n);return w}function yd(e){for(var n=-1,s=e==null?0:e.length,l=0,p=[];++n<s;){var y=e[n];y&&(p[l++]=y)}return p}function bd(){var e=arguments.length;if(!e)return[];for(var n=Y(e-1),s=arguments[0],l=e;l--;)n[l-1]=arguments[l];return fi(Fe(s)?Jt(s):[s],Nt(n,1))}var xd=Ve(function(e,n){return vt(e)?Ur(e,Nt(n,1,vt,!0)):[]}),Sd=Ve(function(e,n){var s=Sn(n);return vt(s)&&(s=i),vt(e)?Ur(e,Nt(n,1,vt,!0),Ae(s,2)):[]}),wd=Ve(function(e,n){var s=Sn(n);return vt(s)&&(s=i),vt(e)?Ur(e,Nt(n,1,vt,!0),i,s):[]});function Ed(e,n,s){var l=e==null?0:e.length;return l?(n=s||n===i?1:Ne(n),xn(e,n<0?0:n,l)):[]}function kd(e,n,s){var l=e==null?0:e.length;return l?(n=s||n===i?1:Ne(n),n=l-n,xn(e,0,n<0?0:n)):[]}function Ad(e,n){return e&&e.length?Wa(e,Ae(n,3),!0,!0):[]}function Cd(e,n){return e&&e.length?Wa(e,Ae(n,3),!0):[]}function Od(e,n,s,l){var p=e==null?0:e.length;return p?(s&&typeof s!="number"&&Yt(e,n,s)&&(s=0,l=p),bf(e,n,s,l)):[]}function su(e,n,s){var l=e==null?0:e.length;if(!l)return-1;var p=s==null?0:Ne(s);return p<0&&(p=kt(l+p,0)),ya(e,Ae(n,3),p)}function lu(e,n,s){var l=e==null?0:e.length;if(!l)return-1;var p=l-1;return s!==i&&(p=Ne(s),p=s<0?kt(l+p,0):Ht(p,l-1)),ya(e,Ae(n,3),p,!0)}function ou(e){var n=e==null?0:e.length;return n?Nt(e,1):[]}function $d(e){var n=e==null?0:e.length;return n?Nt(e,Nn):[]}function Md(e,n){var s=e==null?0:e.length;return s?(n=n===i?1:Ne(n),Nt(e,n)):[]}function Id(e){for(var n=-1,s=e==null?0:e.length,l={};++n<s;){var p=e[n];l[p[0]]=p[1]}return l}function uu(e){return e&&e.length?e[0]:i}function Ld(e,n,s){var l=e==null?0:e.length;if(!l)return-1;var p=s==null?0:Ne(s);return p<0&&(p=kt(l+p,0)),or(e,n,p)}function Td(e){var n=e==null?0:e.length;return n?xn(e,0,-1):[]}var Rd=Ve(function(e){var n=lt(e,Hs);return n.length&&n[0]===e[0]?Ls(n):[]}),Pd=Ve(function(e){var n=Sn(e),s=lt(e,Hs);return n===Sn(s)?n=i:s.pop(),s.length&&s[0]===e[0]?Ls(s,Ae(n,2)):[]}),Fd=Ve(function(e){var n=Sn(e),s=lt(e,Hs);return n=typeof n=="function"?n:i,n&&s.pop(),s.length&&s[0]===e[0]?Ls(s,i,n):[]});function Nd(e,n){return e==null?"":Lh.call(e,n)}function Sn(e){var n=e==null?0:e.length;return n?e[n-1]:i}function Dd(e,n,s){var l=e==null?0:e.length;if(!l)return-1;var p=l;return s!==i&&(p=Ne(s),p=p<0?kt(l+p,0):Ht(p,l-1)),n===n?gh(e,n,p):ya(e,Hl,p,!0)}function Bd(e,n){return e&&e.length?bo(e,Ne(n)):i}var Wd=Ve(cu);function cu(e,n){return e&&e.length&&n&&n.length?Fs(e,n):e}function Vd(e,n,s){return e&&e.length&&n&&n.length?Fs(e,n,Ae(s,2)):e}function Hd(e,n,s){return e&&e.length&&n&&n.length?Fs(e,n,i,s):e}var Gd=Qn(function(e,n){var s=e==null?0:e.length,l=Os(e,n);return wo(e,lt(n,function(p){return Jn(p,s)?+p:p}).sort(To)),l});function Ud(e,n){var s=[];if(!(e&&e.length))return s;var l=-1,p=[],y=e.length;for(n=Ae(n,3);++l<y;){var w=e[l];n(w,l,e)&&(s.push(w),p.push(l))}return wo(e,p),s}function nl(e){return e==null?e:Fh.call(e)}function qd(e,n,s){var l=e==null?0:e.length;return l?(s&&typeof s!="number"&&Yt(e,n,s)?(n=0,s=l):(n=n==null?0:Ne(n),s=s===i?l:Ne(s)),xn(e,n,s)):[]}function zd(e,n){return Ba(e,n)}function Yd(e,n,s){return Bs(e,n,Ae(s,2))}function Kd(e,n){var s=e==null?0:e.length;if(s){var l=Ba(e,n);if(l<s&&Ln(e[l],n))return l}return-1}function Zd(e,n){return Ba(e,n,!0)}function Xd(e,n,s){return Bs(e,n,Ae(s,2),!0)}function jd(e,n){var s=e==null?0:e.length;if(s){var l=Ba(e,n,!0)-1;if(Ln(e[l],n))return l}return-1}function Qd(e){return e&&e.length?ko(e):[]}function Jd(e,n){return e&&e.length?ko(e,Ae(n,2)):[]}function ep(e){var n=e==null?0:e.length;return n?xn(e,1,n):[]}function tp(e,n,s){return e&&e.length?(n=s||n===i?1:Ne(n),xn(e,0,n<0?0:n)):[]}function np(e,n,s){var l=e==null?0:e.length;return l?(n=s||n===i?1:Ne(n),n=l-n,xn(e,n<0?0:n,l)):[]}function ip(e,n){return e&&e.length?Wa(e,Ae(n,3),!1,!0):[]}function rp(e,n){return e&&e.length?Wa(e,Ae(n,3)):[]}var ap=Ve(function(e){return gi(Nt(e,1,vt,!0))}),sp=Ve(function(e){var n=Sn(e);return vt(n)&&(n=i),gi(Nt(e,1,vt,!0),Ae(n,2))}),lp=Ve(function(e){var n=Sn(e);return n=typeof n=="function"?n:i,gi(Nt(e,1,vt,!0),i,n)});function op(e){return e&&e.length?gi(e):[]}function up(e,n){return e&&e.length?gi(e,Ae(n,2)):[]}function cp(e,n){return n=typeof n=="function"?n:i,e&&e.length?gi(e,i,n):[]}function il(e){if(!(e&&e.length))return[];var n=0;return e=hi(e,function(s){if(vt(s))return n=kt(s.length,n),!0}),bs(n,function(s){return lt(e,ms(s))})}function hu(e,n){if(!(e&&e.length))return[];var s=il(e);return n==null?s:lt(s,function(l){return sn(n,i,l)})}var hp=Ve(function(e,n){return vt(e)?Ur(e,n):[]}),fp=Ve(function(e){return Vs(hi(e,vt))}),dp=Ve(function(e){var n=Sn(e);return vt(n)&&(n=i),Vs(hi(e,vt),Ae(n,2))}),pp=Ve(function(e){var n=Sn(e);return n=typeof n=="function"?n:i,Vs(hi(e,vt),i,n)}),_p=Ve(il);function gp(e,n){return $o(e||[],n||[],Gr)}function mp(e,n){return $o(e||[],n||[],Yr)}var vp=Ve(function(e){var n=e.length,s=n>1?e[n-1]:i;return s=typeof s=="function"?(e.pop(),s):i,hu(e,s)});function fu(e){var n=g(e);return n.__chain__=!0,n}function yp(e,n){return n(e),e}function Za(e,n){return n(e)}var bp=Qn(function(e){var n=e.length,s=n?e[0]:0,l=this.__wrapped__,p=function(y){return Os(y,e)};return n>1||this.__actions__.length||!(l instanceof Ge)||!Jn(s)?this.thru(p):(l=l.slice(s,+s+(n?1:0)),l.__actions__.push({func:Za,args:[p],thisArg:i}),new yn(l,this.__chain__).thru(function(y){return n&&!y.length&&y.push(i),y}))});function xp(){return fu(this)}function Sp(){return new yn(this.value(),this.__chain__)}function wp(){this.__values__===i&&(this.__values__=Au(this.value()));var e=this.__index__>=this.__values__.length,n=e?i:this.__values__[this.__index__++];return{done:e,value:n}}function Ep(){return this}function kp(e){for(var n,s=this;s instanceof Ra;){var l=au(s);l.__index__=0,l.__values__=i,n?p.__wrapped__=l:n=l;var p=l;s=s.__wrapped__}return p.__wrapped__=e,n}function Ap(){var e=this.__wrapped__;if(e instanceof Ge){var n=e;return this.__actions__.length&&(n=new Ge(this)),n=n.reverse(),n.__actions__.push({func:Za,args:[nl],thisArg:i}),new yn(n,this.__chain__)}return this.thru(nl)}function Cp(){return Oo(this.__wrapped__,this.__actions__)}var Op=Va(function(e,n,s){je.call(e,s)?++e[s]:Xn(e,s,1)});function $p(e,n,s){var l=Fe(e)?Wl:yf;return s&&Yt(e,n,s)&&(n=i),l(e,Ae(n,3))}function Mp(e,n){var s=Fe(e)?hi:co;return s(e,Ae(n,3))}var Ip=Bo(su),Lp=Bo(lu);function Tp(e,n){return Nt(Xa(e,n),1)}function Rp(e,n){return Nt(Xa(e,n),Nn)}function Pp(e,n,s){return s=s===i?1:Ne(s),Nt(Xa(e,n),s)}function du(e,n){var s=Fe(e)?mn:_i;return s(e,Ae(n,3))}function pu(e,n){var s=Fe(e)?Jc:uo;return s(e,Ae(n,3))}var Fp=Va(function(e,n,s){je.call(e,s)?e[s].push(n):Xn(e,s,[n])});function Np(e,n,s,l){e=en(e)?e:br(e),s=s&&!l?Ne(s):0;var p=e.length;return s<0&&(s=kt(p+s,0)),ts(e)?s<=p&&e.indexOf(n,s)>-1:!!p&&or(e,n,s)>-1}var Dp=Ve(function(e,n,s){var l=-1,p=typeof n=="function",y=en(e)?Y(e.length):[];return _i(e,function(w){y[++l]=p?sn(n,w,s):qr(w,n,s)}),y}),Bp=Va(function(e,n,s){Xn(e,s,n)});function Xa(e,n){var s=Fe(e)?lt:mo;return s(e,Ae(n,3))}function Wp(e,n,s,l){return e==null?[]:(Fe(n)||(n=n==null?[]:[n]),s=l?i:s,Fe(s)||(s=s==null?[]:[s]),xo(e,n,s))}var Vp=Va(function(e,n,s){e[s?0:1].push(n)},function(){return[[],[]]});function Hp(e,n,s){var l=Fe(e)?_s:Ul,p=arguments.length<3;return l(e,Ae(n,4),s,p,_i)}function Gp(e,n,s){var l=Fe(e)?eh:Ul,p=arguments.length<3;return l(e,Ae(n,4),s,p,uo)}function Up(e,n){var s=Fe(e)?hi:co;return s(e,Ja(Ae(n,3)))}function qp(e){var n=Fe(e)?ao:Nf;return n(e)}function zp(e,n,s){(s?Yt(e,n,s):n===i)?n=1:n=Ne(n);var l=Fe(e)?pf:Df;return l(e,n)}function Yp(e){var n=Fe(e)?_f:Wf;return n(e)}function Kp(e){if(e==null)return 0;if(en(e))return ts(e)?cr(e):e.length;var n=Gt(e);return n==Ot||n==$t?e.size:Rs(e).length}function Zp(e,n,s){var l=Fe(e)?gs:Vf;return s&&Yt(e,n,s)&&(n=i),l(e,Ae(n,3))}var Xp=Ve(function(e,n){if(e==null)return[];var s=n.length;return s>1&&Yt(e,n[0],n[1])?n=[]:s>2&&Yt(n[0],n[1],n[2])&&(n=[n[0]]),xo(e,Nt(n,1),[])}),ja=$h||function(){return Be.Date.now()};function jp(e,n){if(typeof n!="function")throw new vn(_);return e=Ne(e),function(){if(--e<1)return n.apply(this,arguments)}}function _u(e,n,s){return n=s?i:n,n=e&&n==null?e.length:n,jn(e,Je,i,i,i,i,n)}function gu(e,n){var s;if(typeof n!="function")throw new vn(_);return e=Ne(e),function(){return--e>0&&(s=n.apply(this,arguments)),e<=1&&(n=i),s}}var rl=Ve(function(e,n,s){var l=ge;if(s.length){var p=di(s,vr(rl));l|=Bt}return jn(e,l,n,s,p)}),mu=Ve(function(e,n,s){var l=ge|Qe;if(s.length){var p=di(s,vr(mu));l|=Bt}return jn(n,l,e,s,p)});function vu(e,n,s){n=s?i:n;var l=jn(e,Pt,i,i,i,i,i,n);return l.placeholder=vu.placeholder,l}function yu(e,n,s){n=s?i:n;var l=jn(e,nt,i,i,i,i,i,n);return l.placeholder=yu.placeholder,l}function bu(e,n,s){var l,p,y,w,A,B,te=0,ne=!1,re=!1,pe=!0;if(typeof e!="function")throw new vn(_);n=wn(n)||0,ct(s)&&(ne=!!s.leading,re="maxWait"in s,y=re?kt(wn(s.maxWait)||0,n):y,pe="trailing"in s?!!s.trailing:pe);function ve(yt){var Tn=l,ni=p;return l=p=i,te=yt,w=e.apply(ni,Tn),w}function Ce(yt){return te=yt,A=Xr(He,n),ne?ve(yt):w}function We(yt){var Tn=yt-B,ni=yt-te,Bu=n-Tn;return re?Ht(Bu,y-ni):Bu}function Oe(yt){var Tn=yt-B,ni=yt-te;return B===i||Tn>=n||Tn<0||re&&ni>=y}function He(){var yt=ja();if(Oe(yt))return Ue(yt);A=Xr(He,We(yt))}function Ue(yt){return A=i,pe&&l?ve(yt):(l=p=i,w)}function cn(){A!==i&&Mo(A),te=0,l=B=p=A=i}function Kt(){return A===i?w:Ue(ja())}function hn(){var yt=ja(),Tn=Oe(yt);if(l=arguments,p=this,B=yt,Tn){if(A===i)return Ce(B);if(re)return Mo(A),A=Xr(He,n),ve(B)}return A===i&&(A=Xr(He,n)),w}return hn.cancel=cn,hn.flush=Kt,hn}var Qp=Ve(function(e,n){return oo(e,1,n)}),Jp=Ve(function(e,n,s){return oo(e,wn(n)||0,s)});function e_(e){return jn(e,jt)}function Qa(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new vn(_);var s=function(){var l=arguments,p=n?n.apply(this,l):l[0],y=s.cache;if(y.has(p))return y.get(p);var w=e.apply(this,l);return s.cache=y.set(p,w)||y,w};return s.cache=new(Qa.Cache||Zn),s}Qa.Cache=Zn;function Ja(e){if(typeof e!="function")throw new vn(_);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}function t_(e){return gu(2,e)}var n_=Hf(function(e,n){n=n.length==1&&Fe(n[0])?lt(n[0],ln(Ae())):lt(Nt(n,1),ln(Ae()));var s=n.length;return Ve(function(l){for(var p=-1,y=Ht(l.length,s);++p<y;)l[p]=n[p].call(this,l[p]);return sn(e,this,l)})}),al=Ve(function(e,n){var s=di(n,vr(al));return jn(e,Bt,i,n,s)}),xu=Ve(function(e,n){var s=di(n,vr(xu));return jn(e,qn,i,n,s)}),i_=Qn(function(e,n){return jn(e,Wt,i,i,i,n)});function r_(e,n){if(typeof e!="function")throw new vn(_);return n=n===i?n:Ne(n),Ve(e,n)}function a_(e,n){if(typeof e!="function")throw new vn(_);return n=n==null?0:kt(Ne(n),0),Ve(function(s){var l=s[n],p=vi(s,0,n);return l&&fi(p,l),sn(e,this,p)})}function s_(e,n,s){var l=!0,p=!0;if(typeof e!="function")throw new vn(_);return ct(s)&&(l="leading"in s?!!s.leading:l,p="trailing"in s?!!s.trailing:p),bu(e,n,{leading:l,maxWait:n,trailing:p})}function l_(e){return _u(e,1)}function o_(e,n){return al(Gs(n),e)}function u_(){if(!arguments.length)return[];var e=arguments[0];return Fe(e)?e:[e]}function c_(e){return bn(e,he)}function h_(e,n){return n=typeof n=="function"?n:i,bn(e,he,n)}function f_(e){return bn(e,K|he)}function d_(e,n){return n=typeof n=="function"?n:i,bn(e,K|he,n)}function p_(e,n){return n==null||lo(e,n,Rt(n))}function Ln(e,n){return e===n||e!==e&&n!==n}var __=qa(Is),g_=qa(function(e,n){return e>=n}),Gi=po(function(){return arguments}())?po:function(e){return pt(e)&&je.call(e,"callee")&&!Jl.call(e,"callee")},Fe=Y.isArray,m_=Rl?ln(Rl):kf;function en(e){return e!=null&&es(e.length)&&!ei(e)}function vt(e){return pt(e)&&en(e)}function v_(e){return e===!0||e===!1||pt(e)&&zt(e)==Ai}var yi=Ih||gl,y_=Pl?ln(Pl):Af;function b_(e){return pt(e)&&e.nodeType===1&&!jr(e)}function x_(e){if(e==null)return!0;if(en(e)&&(Fe(e)||typeof e=="string"||typeof e.splice=="function"||yi(e)||yr(e)||Gi(e)))return!e.length;var n=Gt(e);if(n==Ot||n==$t)return!e.size;if(Zr(e))return!Rs(e).length;for(var s in e)if(je.call(e,s))return!1;return!0}function S_(e,n){return zr(e,n)}function w_(e,n,s){s=typeof s=="function"?s:i;var l=s?s(e,n):i;return l===i?zr(e,n,i,s):!!l}function sl(e){if(!pt(e))return!1;var n=zt(e);return n==Xi||n==fs||typeof e.message=="string"&&typeof e.name=="string"&&!jr(e)}function E_(e){return typeof e=="number"&&to(e)}function ei(e){if(!ct(e))return!1;var n=zt(e);return n==Ci||n==oa||n==la||n==Ee}function Su(e){return typeof e=="number"&&e==Ne(e)}function es(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=kn}function ct(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function pt(e){return e!=null&&typeof e=="object"}var wu=Fl?ln(Fl):Of;function k_(e,n){return e===n||Ts(e,n,Xs(n))}function A_(e,n,s){return s=typeof s=="function"?s:i,Ts(e,n,Xs(n),s)}function C_(e){return Eu(e)&&e!=+e}function O_(e){if(hd(e))throw new Re(d);return _o(e)}function $_(e){return e===null}function M_(e){return e==null}function Eu(e){return typeof e=="number"||pt(e)&&zt(e)==Ft}function jr(e){if(!pt(e)||zt(e)!=An)return!1;var n=Ca(e);if(n===null)return!0;var s=je.call(n,"constructor")&&n.constructor;return typeof s=="function"&&s instanceof s&&wa.call(s)==kh}var ll=Nl?ln(Nl):$f;function I_(e){return Su(e)&&e>=-kn&&e<=kn}var ku=Dl?ln(Dl):Mf;function ts(e){return typeof e=="string"||!Fe(e)&&pt(e)&&zt(e)==gn}function un(e){return typeof e=="symbol"||pt(e)&&zt(e)==at}var yr=Bl?ln(Bl):If;function L_(e){return e===i}function T_(e){return pt(e)&&Gt(e)==bt}function R_(e){return pt(e)&&zt(e)==Cn}var P_=qa(Ps),F_=qa(function(e,n){return e<=n});function Au(e){if(!e)return[];if(en(e))return ts(e)?Mn(e):Jt(e);if(Dr&&e[Dr])return dh(e[Dr]());var n=Gt(e),s=n==Ot?Ss:n==$t?ba:br;return s(e)}function ti(e){if(!e)return e===0?e:0;if(e=wn(e),e===Nn||e===-Nn){var n=e<0?-1:1;return n*dn}return e===e?e:0}function Ne(e){var n=ti(e),s=n%1;return n===n?s?n-s:n:0}function Cu(e){return e?Bi(Ne(e),0,pn):0}function wn(e){if(typeof e=="number")return e;if(un(e))return Yi;if(ct(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=ct(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=ql(e);var s=da.test(e);return s||fe.test(e)?$e(e.slice(2),s?2:8):fa.test(e)?Yi:+e}function Ou(e){return Hn(e,tn(e))}function N_(e){return e?Bi(Ne(e),-kn,kn):e===0?e:0}function Ze(e){return e==null?"":on(e)}var D_=gr(function(e,n){if(Zr(n)||en(n)){Hn(n,Rt(n),e);return}for(var s in n)je.call(n,s)&&Gr(e,s,n[s])}),$u=gr(function(e,n){Hn(n,tn(n),e)}),ns=gr(function(e,n,s,l){Hn(n,tn(n),e,l)}),B_=gr(function(e,n,s,l){Hn(n,Rt(n),e,l)}),W_=Qn(Os);function V_(e,n){var s=_r(e);return n==null?s:so(s,n)}var H_=Ve(function(e,n){e=tt(e);var s=-1,l=n.length,p=l>2?n[2]:i;for(p&&Yt(n[0],n[1],p)&&(l=1);++s<l;)for(var y=n[s],w=tn(y),A=-1,B=w.length;++A<B;){var te=w[A],ne=e[te];(ne===i||Ln(ne,fr[te])&&!je.call(e,te))&&(e[te]=y[te])}return e}),G_=Ve(function(e){return e.push(i,zo),sn(Mu,i,e)});function U_(e,n){return Vl(e,Ae(n,3),Vn)}function q_(e,n){return Vl(e,Ae(n,3),Ms)}function z_(e,n){return e==null?e:$s(e,Ae(n,3),tn)}function Y_(e,n){return e==null?e:ho(e,Ae(n,3),tn)}function K_(e,n){return e&&Vn(e,Ae(n,3))}function Z_(e,n){return e&&Ms(e,Ae(n,3))}function X_(e){return e==null?[]:Na(e,Rt(e))}function j_(e){return e==null?[]:Na(e,tn(e))}function ol(e,n,s){var l=e==null?i:Wi(e,n);return l===i?s:l}function Q_(e,n){return e!=null&&Zo(e,n,xf)}function ul(e,n){return e!=null&&Zo(e,n,Sf)}var J_=Vo(function(e,n,s){n!=null&&typeof n.toString!="function"&&(n=Ea.call(n)),e[n]=s},hl(nn)),eg=Vo(function(e,n,s){n!=null&&typeof n.toString!="function"&&(n=Ea.call(n)),je.call(e,n)?e[n].push(s):e[n]=[s]},Ae),tg=Ve(qr);function Rt(e){return en(e)?ro(e):Rs(e)}function tn(e){return en(e)?ro(e,!0):Lf(e)}function ng(e,n){var s={};return n=Ae(n,3),Vn(e,function(l,p,y){Xn(s,n(l,p,y),l)}),s}function ig(e,n){var s={};return n=Ae(n,3),Vn(e,function(l,p,y){Xn(s,p,n(l,p,y))}),s}var rg=gr(function(e,n,s){Da(e,n,s)}),Mu=gr(function(e,n,s,l){Da(e,n,s,l)}),ag=Qn(function(e,n){var s={};if(e==null)return s;var l=!1;n=lt(n,function(y){return y=mi(y,e),l||(l=y.length>1),y}),Hn(e,Ks(e),s),l&&(s=bn(s,K|se|he,Jf));for(var p=n.length;p--;)Ws(s,n[p]);return s});function sg(e,n){return Iu(e,Ja(Ae(n)))}var lg=Qn(function(e,n){return e==null?{}:Rf(e,n)});function Iu(e,n){if(e==null)return{};var s=lt(Ks(e),function(l){return[l]});return n=Ae(n),So(e,s,function(l,p){return n(l,p[0])})}function og(e,n,s){n=mi(n,e);var l=-1,p=n.length;for(p||(p=1,e=i);++l<p;){var y=e==null?i:e[Gn(n[l])];y===i&&(l=p,y=s),e=ei(y)?y.call(e):y}return e}function ug(e,n,s){return e==null?e:Yr(e,n,s)}function cg(e,n,s,l){return l=typeof l=="function"?l:i,e==null?e:Yr(e,n,s,l)}var Lu=Uo(Rt),Tu=Uo(tn);function hg(e,n,s){var l=Fe(e),p=l||yi(e)||yr(e);if(n=Ae(n,4),s==null){var y=e&&e.constructor;p?s=l?new y:[]:ct(e)?s=ei(y)?_r(Ca(e)):{}:s={}}return(p?mn:Vn)(e,function(w,A,B){return n(s,w,A,B)}),s}function fg(e,n){return e==null?!0:Ws(e,n)}function dg(e,n,s){return e==null?e:Co(e,n,Gs(s))}function pg(e,n,s,l){return l=typeof l=="function"?l:i,e==null?e:Co(e,n,Gs(s),l)}function br(e){return e==null?[]:xs(e,Rt(e))}function _g(e){return e==null?[]:xs(e,tn(e))}function gg(e,n,s){return s===i&&(s=n,n=i),s!==i&&(s=wn(s),s=s===s?s:0),n!==i&&(n=wn(n),n=n===n?n:0),Bi(wn(e),n,s)}function mg(e,n,s){return n=ti(n),s===i?(s=n,n=0):s=ti(s),e=wn(e),wf(e,n,s)}function vg(e,n,s){if(s&&typeof s!="boolean"&&Yt(e,n,s)&&(n=s=i),s===i&&(typeof n=="boolean"?(s=n,n=i):typeof e=="boolean"&&(s=e,e=i)),e===i&&n===i?(e=0,n=1):(e=ti(e),n===i?(n=e,e=0):n=ti(n)),e>n){var l=e;e=n,n=l}if(s||e%1||n%1){var p=no();return Ht(e+p*(n-e+z("1e-"+((p+"").length-1))),n)}return Ns(e,n)}var yg=mr(function(e,n,s){return n=n.toLowerCase(),e+(s?Ru(n):n)});function Ru(e){return cl(Ze(e).toLowerCase())}function Pu(e){return e=Ze(e),e&&e.replace(_a,oh).replace(xe,"")}function bg(e,n,s){e=Ze(e),n=on(n);var l=e.length;s=s===i?l:Bi(Ne(s),0,l);var p=s;return s-=n.length,s>=0&&e.slice(s,p)==n}function xg(e){return e=Ze(e),e&&Mi.test(e)?e.replace(Wn,uh):e}function Sg(e){return e=Ze(e),e&&oi.test(e)?e.replace(li,"\\$&"):e}var wg=mr(function(e,n,s){return e+(s?"-":"")+n.toLowerCase()}),Eg=mr(function(e,n,s){return e+(s?" ":"")+n.toLowerCase()}),kg=Do("toLowerCase");function Ag(e,n,s){e=Ze(e),n=Ne(n);var l=n?cr(e):0;if(!n||l>=n)return e;var p=(n-l)/2;return Ua(Ia(p),s)+e+Ua(Ma(p),s)}function Cg(e,n,s){e=Ze(e),n=Ne(n);var l=n?cr(e):0;return n&&l<n?e+Ua(n-l,s):e}function Og(e,n,s){e=Ze(e),n=Ne(n);var l=n?cr(e):0;return n&&l<n?Ua(n-l,s)+e:e}function $g(e,n,s){return s||n==null?n=0:n&&(n=+n),Ph(Ze(e).replace(zn,""),n||0)}function Mg(e,n,s){return(s?Yt(e,n,s):n===i)?n=1:n=Ne(n),Ds(Ze(e),n)}function Ig(){var e=arguments,n=Ze(e[0]);return e.length<3?n:n.replace(e[1],e[2])}var Lg=mr(function(e,n,s){return e+(s?"_":"")+n.toLowerCase()});function Tg(e,n,s){return s&&typeof s!="number"&&Yt(e,n,s)&&(n=s=i),s=s===i?pn:s>>>0,s?(e=Ze(e),e&&(typeof n=="string"||n!=null&&!ll(n))&&(n=on(n),!n&&ur(e))?vi(Mn(e),0,s):e.split(n,s)):[]}var Rg=mr(function(e,n,s){return e+(s?" ":"")+cl(n)});function Pg(e,n,s){return e=Ze(e),s=s==null?0:Bi(Ne(s),0,e.length),n=on(n),e.slice(s,s+n.length)==n}function Fg(e,n,s){var l=g.templateSettings;s&&Yt(e,n,s)&&(n=i),e=Ze(e),n=ns({},n,l,qo);var p=ns({},n.imports,l.imports,qo),y=Rt(p),w=xs(p,y),A,B,te=0,ne=n.interpolate||ir,re="__p += '",pe=ws((n.escape||ir).source+"|"+ne.source+"|"+(ne===tr?st:ir).source+"|"+(n.evaluate||ir).source+"|$","g"),ve="//# sourceURL="+(je.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Le+"]")+`
`;e.replace(pe,function(Oe,He,Ue,cn,Kt,hn){return Ue||(Ue=cn),re+=e.slice(te,hn).replace(ci,ch),He&&(A=!0,re+=`' +
__e(`+He+`) +
'`),Kt&&(B=!0,re+=`';
`+Kt+`;
__p += '`),Ue&&(re+=`' +
((__t = (`+Ue+`)) == null ? '' : __t) +
'`),te=hn+Oe.length,Oe}),re+=`';
`;var Ce=je.call(n,"variable")&&n.variable;if(!Ce)re=`with (obj) {
`+re+`
}
`;else if(dt.test(Ce))throw new Re(m);re=(B?re.replace(ds,""):re).replace(Mt,"$1").replace(ca,"$1;"),re="function("+(Ce||"obj")+`) {
`+(Ce?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(A?", __e = _.escape":"")+(B?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+re+`return __p
}`;var We=Nu(function(){return Ye(y,ve+"return "+re).apply(i,w)});if(We.source=re,sl(We))throw We;return We}function Ng(e){return Ze(e).toLowerCase()}function Dg(e){return Ze(e).toUpperCase()}function Bg(e,n,s){if(e=Ze(e),e&&(s||n===i))return ql(e);if(!e||!(n=on(n)))return e;var l=Mn(e),p=Mn(n),y=zl(l,p),w=Yl(l,p)+1;return vi(l,y,w).join("")}function Wg(e,n,s){if(e=Ze(e),e&&(s||n===i))return e.slice(0,Zl(e)+1);if(!e||!(n=on(n)))return e;var l=Mn(e),p=Yl(l,Mn(n))+1;return vi(l,0,p).join("")}function Vg(e,n,s){if(e=Ze(e),e&&(s||n===i))return e.replace(zn,"");if(!e||!(n=on(n)))return e;var l=Mn(e),p=zl(l,Mn(n));return vi(l,p).join("")}function Hg(e,n){var s=Fn,l=En;if(ct(n)){var p="separator"in n?n.separator:p;s="length"in n?Ne(n.length):s,l="omission"in n?on(n.omission):l}e=Ze(e);var y=e.length;if(ur(e)){var w=Mn(e);y=w.length}if(s>=y)return e;var A=s-cr(l);if(A<1)return l;var B=w?vi(w,0,A).join(""):e.slice(0,A);if(p===i)return B+l;if(w&&(A+=B.length-A),ll(p)){if(e.slice(A).search(p)){var te,ne=B;for(p.global||(p=ws(p.source,Ze(Fr.exec(p))+"g")),p.lastIndex=0;te=p.exec(ne);)var re=te.index;B=B.slice(0,re===i?A:re)}}else if(e.indexOf(on(p),A)!=A){var pe=B.lastIndexOf(p);pe>-1&&(B=B.slice(0,pe))}return B+l}function Gg(e){return e=Ze(e),e&&It.test(e)?e.replace(Tr,mh):e}var Ug=mr(function(e,n,s){return e+(s?" ":"")+n.toUpperCase()}),cl=Do("toUpperCase");function Fu(e,n,s){return e=Ze(e),n=s?i:n,n===i?fh(e)?bh(e):ih(e):e.match(n)||[]}var Nu=Ve(function(e,n){try{return sn(e,i,n)}catch(s){return sl(s)?s:new Re(s)}}),qg=Qn(function(e,n){return mn(n,function(s){s=Gn(s),Xn(e,s,rl(e[s],e))}),e});function zg(e){var n=e==null?0:e.length,s=Ae();return e=n?lt(e,function(l){if(typeof l[1]!="function")throw new vn(_);return[s(l[0]),l[1]]}):[],Ve(function(l){for(var p=-1;++p<n;){var y=e[p];if(sn(y[0],this,l))return sn(y[1],this,l)}})}function Yg(e){return vf(bn(e,K))}function hl(e){return function(){return e}}function Kg(e,n){return e==null||e!==e?n:e}var Zg=Wo(),Xg=Wo(!0);function nn(e){return e}function fl(e){return go(typeof e=="function"?e:bn(e,K))}function jg(e){return vo(bn(e,K))}function Qg(e,n){return yo(e,bn(n,K))}var Jg=Ve(function(e,n){return function(s){return qr(s,e,n)}}),e0=Ve(function(e,n){return function(s){return qr(e,s,n)}});function dl(e,n,s){var l=Rt(n),p=Na(n,l);s==null&&!(ct(n)&&(p.length||!l.length))&&(s=n,n=e,e=this,p=Na(n,Rt(n)));var y=!(ct(s)&&"chain"in s)||!!s.chain,w=ei(e);return mn(p,function(A){var B=n[A];e[A]=B,w&&(e.prototype[A]=function(){var te=this.__chain__;if(y||te){var ne=e(this.__wrapped__),re=ne.__actions__=Jt(this.__actions__);return re.push({func:B,args:arguments,thisArg:e}),ne.__chain__=te,ne}return B.apply(e,fi([this.value()],arguments))})}),e}function t0(){return Be._===this&&(Be._=Ah),this}function pl(){}function n0(e){return e=Ne(e),Ve(function(n){return bo(n,e)})}var i0=qs(lt),r0=qs(Wl),a0=qs(gs);function Du(e){return Qs(e)?ms(Gn(e)):Pf(e)}function s0(e){return function(n){return e==null?i:Wi(e,n)}}var l0=Ho(),o0=Ho(!0);function _l(){return[]}function gl(){return!1}function u0(){return{}}function c0(){return""}function h0(){return!0}function f0(e,n){if(e=Ne(e),e<1||e>kn)return[];var s=pn,l=Ht(e,pn);n=Ae(n),e-=pn;for(var p=bs(l,n);++s<e;)n(s);return p}function d0(e){return Fe(e)?lt(e,Gn):un(e)?[e]:Jt(ru(Ze(e)))}function p0(e){var n=++Eh;return Ze(e)+n}var _0=Ga(function(e,n){return e+n},0),g0=zs("ceil"),m0=Ga(function(e,n){return e/n},1),v0=zs("floor");function y0(e){return e&&e.length?Fa(e,nn,Is):i}function b0(e,n){return e&&e.length?Fa(e,Ae(n,2),Is):i}function x0(e){return Gl(e,nn)}function S0(e,n){return Gl(e,Ae(n,2))}function w0(e){return e&&e.length?Fa(e,nn,Ps):i}function E0(e,n){return e&&e.length?Fa(e,Ae(n,2),Ps):i}var k0=Ga(function(e,n){return e*n},1),A0=zs("round"),C0=Ga(function(e,n){return e-n},0);function O0(e){return e&&e.length?ys(e,nn):0}function $0(e,n){return e&&e.length?ys(e,Ae(n,2)):0}return g.after=jp,g.ary=_u,g.assign=D_,g.assignIn=$u,g.assignInWith=ns,g.assignWith=B_,g.at=W_,g.before=gu,g.bind=rl,g.bindAll=qg,g.bindKey=mu,g.castArray=u_,g.chain=fu,g.chunk=vd,g.compact=yd,g.concat=bd,g.cond=zg,g.conforms=Yg,g.constant=hl,g.countBy=Op,g.create=V_,g.curry=vu,g.curryRight=yu,g.debounce=bu,g.defaults=H_,g.defaultsDeep=G_,g.defer=Qp,g.delay=Jp,g.difference=xd,g.differenceBy=Sd,g.differenceWith=wd,g.drop=Ed,g.dropRight=kd,g.dropRightWhile=Ad,g.dropWhile=Cd,g.fill=Od,g.filter=Mp,g.flatMap=Tp,g.flatMapDeep=Rp,g.flatMapDepth=Pp,g.flatten=ou,g.flattenDeep=$d,g.flattenDepth=Md,g.flip=e_,g.flow=Zg,g.flowRight=Xg,g.fromPairs=Id,g.functions=X_,g.functionsIn=j_,g.groupBy=Fp,g.initial=Td,g.intersection=Rd,g.intersectionBy=Pd,g.intersectionWith=Fd,g.invert=J_,g.invertBy=eg,g.invokeMap=Dp,g.iteratee=fl,g.keyBy=Bp,g.keys=Rt,g.keysIn=tn,g.map=Xa,g.mapKeys=ng,g.mapValues=ig,g.matches=jg,g.matchesProperty=Qg,g.memoize=Qa,g.merge=rg,g.mergeWith=Mu,g.method=Jg,g.methodOf=e0,g.mixin=dl,g.negate=Ja,g.nthArg=n0,g.omit=ag,g.omitBy=sg,g.once=t_,g.orderBy=Wp,g.over=i0,g.overArgs=n_,g.overEvery=r0,g.overSome=a0,g.partial=al,g.partialRight=xu,g.partition=Vp,g.pick=lg,g.pickBy=Iu,g.property=Du,g.propertyOf=s0,g.pull=Wd,g.pullAll=cu,g.pullAllBy=Vd,g.pullAllWith=Hd,g.pullAt=Gd,g.range=l0,g.rangeRight=o0,g.rearg=i_,g.reject=Up,g.remove=Ud,g.rest=r_,g.reverse=nl,g.sampleSize=zp,g.set=ug,g.setWith=cg,g.shuffle=Yp,g.slice=qd,g.sortBy=Xp,g.sortedUniq=Qd,g.sortedUniqBy=Jd,g.split=Tg,g.spread=a_,g.tail=ep,g.take=tp,g.takeRight=np,g.takeRightWhile=ip,g.takeWhile=rp,g.tap=yp,g.throttle=s_,g.thru=Za,g.toArray=Au,g.toPairs=Lu,g.toPairsIn=Tu,g.toPath=d0,g.toPlainObject=Ou,g.transform=hg,g.unary=l_,g.union=ap,g.unionBy=sp,g.unionWith=lp,g.uniq=op,g.uniqBy=up,g.uniqWith=cp,g.unset=fg,g.unzip=il,g.unzipWith=hu,g.update=dg,g.updateWith=pg,g.values=br,g.valuesIn=_g,g.without=hp,g.words=Fu,g.wrap=o_,g.xor=fp,g.xorBy=dp,g.xorWith=pp,g.zip=_p,g.zipObject=gp,g.zipObjectDeep=mp,g.zipWith=vp,g.entries=Lu,g.entriesIn=Tu,g.extend=$u,g.extendWith=ns,dl(g,g),g.add=_0,g.attempt=Nu,g.camelCase=yg,g.capitalize=Ru,g.ceil=g0,g.clamp=gg,g.clone=c_,g.cloneDeep=f_,g.cloneDeepWith=d_,g.cloneWith=h_,g.conformsTo=p_,g.deburr=Pu,g.defaultTo=Kg,g.divide=m0,g.endsWith=bg,g.eq=Ln,g.escape=xg,g.escapeRegExp=Sg,g.every=$p,g.find=Ip,g.findIndex=su,g.findKey=U_,g.findLast=Lp,g.findLastIndex=lu,g.findLastKey=q_,g.floor=v0,g.forEach=du,g.forEachRight=pu,g.forIn=z_,g.forInRight=Y_,g.forOwn=K_,g.forOwnRight=Z_,g.get=ol,g.gt=__,g.gte=g_,g.has=Q_,g.hasIn=ul,g.head=uu,g.identity=nn,g.includes=Np,g.indexOf=Ld,g.inRange=mg,g.invoke=tg,g.isArguments=Gi,g.isArray=Fe,g.isArrayBuffer=m_,g.isArrayLike=en,g.isArrayLikeObject=vt,g.isBoolean=v_,g.isBuffer=yi,g.isDate=y_,g.isElement=b_,g.isEmpty=x_,g.isEqual=S_,g.isEqualWith=w_,g.isError=sl,g.isFinite=E_,g.isFunction=ei,g.isInteger=Su,g.isLength=es,g.isMap=wu,g.isMatch=k_,g.isMatchWith=A_,g.isNaN=C_,g.isNative=O_,g.isNil=M_,g.isNull=$_,g.isNumber=Eu,g.isObject=ct,g.isObjectLike=pt,g.isPlainObject=jr,g.isRegExp=ll,g.isSafeInteger=I_,g.isSet=ku,g.isString=ts,g.isSymbol=un,g.isTypedArray=yr,g.isUndefined=L_,g.isWeakMap=T_,g.isWeakSet=R_,g.join=Nd,g.kebabCase=wg,g.last=Sn,g.lastIndexOf=Dd,g.lowerCase=Eg,g.lowerFirst=kg,g.lt=P_,g.lte=F_,g.max=y0,g.maxBy=b0,g.mean=x0,g.meanBy=S0,g.min=w0,g.minBy=E0,g.stubArray=_l,g.stubFalse=gl,g.stubObject=u0,g.stubString=c0,g.stubTrue=h0,g.multiply=k0,g.nth=Bd,g.noConflict=t0,g.noop=pl,g.now=ja,g.pad=Ag,g.padEnd=Cg,g.padStart=Og,g.parseInt=$g,g.random=vg,g.reduce=Hp,g.reduceRight=Gp,g.repeat=Mg,g.replace=Ig,g.result=og,g.round=A0,g.runInContext=F,g.sample=qp,g.size=Kp,g.snakeCase=Lg,g.some=Zp,g.sortedIndex=zd,g.sortedIndexBy=Yd,g.sortedIndexOf=Kd,g.sortedLastIndex=Zd,g.sortedLastIndexBy=Xd,g.sortedLastIndexOf=jd,g.startCase=Rg,g.startsWith=Pg,g.subtract=C0,g.sum=O0,g.sumBy=$0,g.template=Fg,g.times=f0,g.toFinite=ti,g.toInteger=Ne,g.toLength=Cu,g.toLower=Ng,g.toNumber=wn,g.toSafeInteger=N_,g.toString=Ze,g.toUpper=Dg,g.trim=Bg,g.trimEnd=Wg,g.trimStart=Vg,g.truncate=Hg,g.unescape=Gg,g.uniqueId=p0,g.upperCase=Ug,g.upperFirst=cl,g.each=du,g.eachRight=pu,g.first=uu,dl(g,function(){var e={};return Vn(g,function(n,s){je.call(g.prototype,s)||(e[s]=n)}),e}(),{chain:!1}),g.VERSION=h,mn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){g[e].placeholder=g}),mn(["drop","take"],function(e,n){Ge.prototype[e]=function(s){s=s===i?1:kt(Ne(s),0);var l=this.__filtered__&&!n?new Ge(this):this.clone();return l.__filtered__?l.__takeCount__=Ht(s,l.__takeCount__):l.__views__.push({size:Ht(s,pn),type:e+(l.__dir__<0?"Right":"")}),l},Ge.prototype[e+"Right"]=function(s){return this.reverse()[e](s).reverse()}}),mn(["filter","map","takeWhile"],function(e,n){var s=n+1,l=s==Ar||s==Or;Ge.prototype[e]=function(p){var y=this.clone();return y.__iteratees__.push({iteratee:Ae(p,3),type:s}),y.__filtered__=y.__filtered__||l,y}}),mn(["head","last"],function(e,n){var s="take"+(n?"Right":"");Ge.prototype[e]=function(){return this[s](1).value()[0]}}),mn(["initial","tail"],function(e,n){var s="drop"+(n?"":"Right");Ge.prototype[e]=function(){return this.__filtered__?new Ge(this):this[s](1)}}),Ge.prototype.compact=function(){return this.filter(nn)},Ge.prototype.find=function(e){return this.filter(e).head()},Ge.prototype.findLast=function(e){return this.reverse().find(e)},Ge.prototype.invokeMap=Ve(function(e,n){return typeof e=="function"?new Ge(this):this.map(function(s){return qr(s,e,n)})}),Ge.prototype.reject=function(e){return this.filter(Ja(Ae(e)))},Ge.prototype.slice=function(e,n){e=Ne(e);var s=this;return s.__filtered__&&(e>0||n<0)?new Ge(s):(e<0?s=s.takeRight(-e):e&&(s=s.drop(e)),n!==i&&(n=Ne(n),s=n<0?s.dropRight(-n):s.take(n-e)),s)},Ge.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ge.prototype.toArray=function(){return this.take(pn)},Vn(Ge.prototype,function(e,n){var s=/^(?:filter|find|map|reject)|While$/.test(n),l=/^(?:head|last)$/.test(n),p=g[l?"take"+(n=="last"?"Right":""):n],y=l||/^find/.test(n);p&&(g.prototype[n]=function(){var w=this.__wrapped__,A=l?[1]:arguments,B=w instanceof Ge,te=A[0],ne=B||Fe(w),re=function(He){var Ue=p.apply(g,fi([He],A));return l&&pe?Ue[0]:Ue};ne&&s&&typeof te=="function"&&te.length!=1&&(B=ne=!1);var pe=this.__chain__,ve=!!this.__actions__.length,Ce=y&&!pe,We=B&&!ve;if(!y&&ne){w=We?w:new Ge(this);var Oe=e.apply(w,A);return Oe.__actions__.push({func:Za,args:[re],thisArg:i}),new yn(Oe,pe)}return Ce&&We?e.apply(this,A):(Oe=this.thru(re),Ce?l?Oe.value()[0]:Oe.value():Oe)})}),mn(["pop","push","shift","sort","splice","unshift"],function(e){var n=xa[e],s=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",l=/^(?:pop|shift)$/.test(e);g.prototype[e]=function(){var p=arguments;if(l&&!this.__chain__){var y=this.value();return n.apply(Fe(y)?y:[],p)}return this[s](function(w){return n.apply(Fe(w)?w:[],p)})}}),Vn(Ge.prototype,function(e,n){var s=g[n];if(s){var l=s.name+"";je.call(pr,l)||(pr[l]=[]),pr[l].push({name:n,func:s})}}),pr[Ha(i,Qe).name]=[{name:"wrapper",func:i}],Ge.prototype.clone=Hh,Ge.prototype.reverse=Gh,Ge.prototype.value=Uh,g.prototype.at=bp,g.prototype.chain=xp,g.prototype.commit=Sp,g.prototype.next=wp,g.prototype.plant=kp,g.prototype.reverse=Ap,g.prototype.toJSON=g.prototype.valueOf=g.prototype.value=Cp,g.prototype.first=g.prototype.head,Dr&&(g.prototype[Dr]=Ep),g},hr=xh();On?((On.exports=hr)._=hr,Qt._=hr):Be._=hr}).call(Qr)})(is,is.exports);var L0=is.exports;const ut=M0(L0),T0={key:0},R0={class:"mb3 b tracked-light"},P0={class:"tc"},F0=["name","id","value"],N0=["for"],D0={key:1},B0={class:"mb3 b tracked-light"},W0={class:"tc"},V0={class:"column-severity w-33"},H0=["name","id"],G0=["for"],U0={class:"column-severity w-33"},q0=["name","id"],z0=["for"],Y0={class:"column-severity w-33"},K0=["name","id"],Z0=["for"],X0={key:2},j0={class:"mt0 pt2 mb3 b tracked-light"},Q0=["name","id"],J0=["for"],e1=["name","id"],t1=["for"],n1={props:["edit_state","question","edit_type","parent_show_next_question","set_edit_state","update_edit_state_parent","question_state","isRoot","parent_div_name"],data(){let t=0;if("options"in this.question)switch(this.question.options.length){case 2:t=50;break;case 3:t=33;break;case 4:t=25;break;case 6:t=16;break}let r;return this.isRoot==="true"?r=`question-${this.edit_type.name}-${this.question.name}`:r=`${this.parent_div_name}-${this.question.name}`,{col_size:t,div_name:r}},methods:{has_children(){return this.isObject(this.question.options)},show_next_question(t){let r=t.target.value;if(this.has_children()){for(let h=0;h<this.question.options.length;h++){let o=this.question.options[h],d=`.${this.div_name}-${o.name}`;$(d).hide(400)}let i=`.${this.div_name}-${r}`;$(i).is(":visible")||$(i).slideDown(400)}},update_edit_state(t){if(t===""&&(t=null),this.isRoot==="true"){let r=ut.cloneDeep(this.edit_state);this.has_children()?r[this.edit_type.name][this.question.name].val=t:r[this.edit_type.name][this.question.name]=t,this.set_edit_state(r)}else{let r=ut.cloneDeep(this.question_state);this.has_children()?r.val=t:r=t,this.update_edit_state_parent(this.question.name,r)}},update_edit_state_child(t,r){let i=ut.cloneDeep(this.question_state);if(i[t]=r,this.isRoot==="true"){let h=ut.cloneDeep(this.edit_state);h[this.edit_type.name][this.question.name]=i,this.set_edit_state(h)}else this.update_edit_state_parent(this.question.name,i)},getClassNames(){let t=[];return t.push(this.div_name),this.isRoot!=="true"&&t.push("child-question"),t},child_state(t){return this.has_children()&&typeof this.question.options!="string"?this.question_state[t.name]:this.question_state}},computed:{isObject(){return t=>typeof t=="object"&&t!==null}}},i1=Object.assign(n1,{__name:"Question",setup(t){return(r,i)=>{const h=I0("Question",!0);return qe(),Xe("div",{class:Zt(r.getClassNames())},[r.isObject(t.question.options)?(qe(),Xe("div",T0,[ae("p",R0,_t(t.question.question),1),ae("div",P0,[(qe(!0),Xe(bi,null,xi(t.question.options,o=>(qe(),Xe("div",{class:Zt(`column-severity w-${r.col_size}`),key:o.id},[ae("input",{onClick:i[0]||(i[0]=(...d)=>r.show_next_question&&r.show_next_question(...d)),class:"checkbox-tools checkbox-tools-severity",type:"radio",name:t.question.name,id:`${r.div_name}-${o.name}`,value:o.name,onInput:i[1]||(i[1]=d=>r.update_edit_state(d.target.value))},null,40,F0),ae("label",{class:Zt(`for-checkbox-tools-severity question-${t.edit_type.name}`),for:`${r.div_name}-${o.name}`},_t(o.label),11,N0)],2))),128))]),(qe(!0),Xe(bi,null,xi(t.question.options,o=>(qe(),Xe("div",{key:o.id},[Si(h,{edit_state:t.edit_state,question_state:r.child_state(o),question:o,edit_type:t.edit_type,set_edit_state:t.set_edit_state,parent_show_next_question:r.show_next_question,isRoot:"false",update_edit_state_parent:r.update_edit_state_child,parent_div_name:r.div_name},null,8,["edit_state","question_state","question","edit_type","set_edit_state","parent_show_next_question","update_edit_state_parent","parent_div_name"])]))),128))])):ri("",!0),t.question.options==="likert-3"?(qe(),Xe("div",D0,[ae("p",B0,_t(t.question.question),1),ae("div",W0,[ae("div",V0,[ae("input",{onClick:i[2]||(i[2]=(...o)=>r.show_next_question&&r.show_next_question(...o)),class:"checkbox-tools checkbox-tools-severity",type:"radio",name:`${r.div_name}-severity`,id:`${r.div_name}-severity-1`,value:"minor",onInput:i[3]||(i[3]=o=>r.update_edit_state(o.target.value))},null,40,H0),ae("label",{class:Zt(`for-checkbox-tools-severity question-${t.edit_type.name}`),for:`${r.div_name}-severity-1`}," 1 - minor ",10,G0)]),ae("div",U0,[ae("input",{onClick:i[4]||(i[4]=(...o)=>r.show_next_question&&r.show_next_question(...o)),class:"checkbox-tools checkbox-tools-severity",type:"radio",name:`${r.div_name}-severity`,id:`${r.div_name}-severity-2`,value:"somewhat",onInput:i[5]||(i[5]=o=>r.update_edit_state(o.target.value))},null,40,q0),ae("label",{class:Zt(`for-checkbox-tools-severity question-${t.edit_type.name}`),for:`${r.div_name}-severity-2`}," 2 - somewhat ",10,z0)]),ae("div",Y0,[ae("input",{onClick:i[6]||(i[6]=(...o)=>r.show_next_question&&r.show_next_question(...o)),class:"checkbox-tools checkbox-tools-severity",type:"radio",name:`${r.div_name}-severity`,id:`${r.div_name}-severity-3`,value:"a lot",onInput:i[7]||(i[7]=o=>r.update_edit_state(o.target.value))},null,40,K0),ae("label",{class:Zt(`for-checkbox-tools-severity question-${t.edit_type.name}`),for:`${r.div_name}-severity-3`}," 3 - a lot ",10,Z0)])])])):ri("",!0),t.question.options==="binary"?(qe(),Xe("div",X0,[ae("p",j0,[At(_t(t.question.question)+" ",1),ae("input",{class:"checkbox-tools-yes-no",type:"radio",name:`${r.div_name}-yes-no`,id:`${r.div_name}-yes`,value:"yes",onInput:i[8]||(i[8]=o=>r.update_edit_state(o.target.value))},null,40,Q0),ae("label",{class:Zt(`normal for-checkbox-tools-yes-no question-${t.edit_type.name}`),for:`${r.div_name}-yes`},"yes",10,J0),ae("input",{class:"checkbox-tools-yes-no",type:"radio",name:`${r.div_name}-yes-no`,id:`${r.div_name}-no`,value:"no",onInput:i[9]||(i[9]=o=>r.update_edit_state(o.target.value))},null,40,e1),ae("label",{class:Zt(`normal for-checkbox-tools-yes-no question-${t.edit_type.name}`),for:`${r.div_name}-no`},"no",10,t1)])])):ri("",!0)],2)}}}),r1=["deletion","insertion","substitution","split","reorder","structure"],a1=["deletion","insertion","substitution","reorder"],s1=["split","substitution","reorder","structure"],l1=Object.fromEntries(r1.map(t=>[t,{}])),bl=Object.fromEntries(a1.map(t=>[t,{}])),oc=Object.fromEntries(s1.map(t=>[t,{}])),o1="annotations.json",u1={class:"quality-selection-divs"},c1={class:"quality-selection w-100",id:"add_an_edit"},h1=ae("p",{class:"f3 courier ttu mv1"},[At("Adding an Edit "),ae("i",{class:"fa-solid fa-plus"})],-1),f1={id:"dropdown-button-container"},d1={class:"over-hide z-bigger mt2"},p1={class:"row"},_1=ae("p",{class:"mb2 b tracked-light"},[ae("i",null,"Select the Edit Category.")],-1),g1={class:"tc mb3"},m1=["id","value"],v1=["for"],y1=["data-category"],b1={key:0},x1={class:"mt0 mb2 b tracked-light"},S1={class:"tracked-light"},w1={key:1},E1=["data-category"],k1={class:"mt0 mb2 b tracked-light"},A1={class:"tracked-light"},C1={key:2},O1={class:"span-selection-div","data-category":"item.name"},$1={class:"mt0 mb2 b tracked-light"},M1={class:"tracked-light lh-paras-2"},I1=["innerHTML"],L1={class:"buttons tc mt2"},T1=ae("i",{class:"fa-solid fa-close"},null,-1),R1=ae("i",{class:"fa-solid fa-check"},null,-1),P1=["id","data-category"],F1=ae("p",{class:"f3 courier ttu mv1"},[At("Annotating an Edit "),ae("i",{class:"fa-solid fa-pencil"})],-1),N1={class:"f4 mt0 mb2 tc"},D1={id:"dropdown-button-container"},B1={class:"single_part over-hide z-bigger mt3"},W1={class:"row"},V1={class:"buttons tc"},H1=ae("i",{class:"fa-solid fa-close"},null,-1),G1=["onClick"],U1=ae("i",{class:"fa-solid fa-check"},null,-1),q1={props:["edits_dict","hits_data","current_hit","selected_edits_html","selected_edits","selected_split","selected_split_id","selected_span_in_original","selected_span_in_simplified","selected_span_in_original_indexs","selected_span_in_simplified_indexs","set_span_text","set_span_indices","set_hits_data","refresh_interface_edit","editor_open","set_editor_state","annotating_edit_span_category_id","set_annotating_edit_span_category_id","annotating_edit_span","set_annotating_edit_span","config"],data(){return{edit_state:this.initalize_edit_state()}},methods:{initalize_edit_state(){function t(i){if(typeof i!="object")return null;let h={};for(const o in i)h.val=null,h[i[o].name]=t(i[o].options);return h}let r={};for(const i in this.config.config.edits){let h=this.config.config.edits[i];r[h.name]=t(h.annotation)}return r},set_edit_state(t){console.log(t),this.edit_state=t},cancel_click(){$(".icon-default").removeClass("open"),this.refresh_edit(),this.original_html=this.original_html+"1",this.original_html=this.original_html.slice(0,-1),this.simplified_html=this.simplified_html+"1",this.simplified_html=this.simplified_html.slice(0,-1),this.edits_html=this.edits_html+"1",this.edits_html=this.edits_html.slice(0,-1)},save_click(){let t=ut.cloneDeep(this.hits_data);$(".icon-default").removeClass("open"),this.set_editor_state(!this.editor_open);let r=$("input[name=edit_cotegory]:checked").val();const i=t[this.current_hit-1].edits;let h=0;for(const _ of i)console.log(_),_.category==r&&parseInt(_.id)>h&&(h=parseInt(_.id));const o=this.config.config.edits.find(_=>_.name===r);let d={category:r,id:h+1,annotation:null};if(o.type=="primitive"&&(o.enable_input&&(d.input_idx=[this.selected_span_in_original_indexs]),o.enable_output&&(d.output_idx=[this.selected_span_in_simplified_indexs])),o.type=="composite"){let _=bl;for(let m in this.selected_edits){let x=1;for(let E in this.selected_edits[m])_[m][E]=x,x++}for(let m=0;m<original_spans.length;m++){let x=original_spans[m],E=this.id_to_category[x[0]],V=x[3];if(E in this.selected_edits&&x[3]in this.selected_edits[E]&&(x.push(x[0]),x.push(_[E][x[3]]),x[0]=this.category_to_id[r],r=="split"?x[3]=this.selected_split_id:r=="structure"&&(x[3]=h+1),V in this.hits_data[this.current_hit-1].annotations[E])){let K=ut.cloneDeep(this.hits_data);delete K[this.current_hit-1].annotations[E][V],this.set_hits_data(K)}}}t[this.current_hit-1].edits.push(d),this.set_hits_data(t),this.refresh_edit()},save_annotation_click(t,r){let i=this.annotating_edit_span_category_id,h=ut.cloneDeep(this.hits_data),o=ut.cloneDeep(this.edit_state[t]),d=h[this.current_hit-1].edits.find(function(_){return _.category===t&&_.id===i});d.annotation=o,this.set_hits_data(h),this.refresh_edit()},refresh_edit(){this.set_editor_state(!1),this.refresh_interface_edit(),$("input[name=edit_cotegory]").prop("checked",!1),$(".checkbox-tools").prop("checked",!1),$(".checkbox-tools-yes-no").prop("checked",!1),$(".annotation-icon").removeClass("txt-substitution txt-insertion txt-deletion txt-split"),$(".quality-selection").hide(400),$(".span-selection-div").hide(400),$(".child-question").hide(),this.edit_state=this.initalize_edit_state()},show_span_selection(t){$(".span-selection-div").hide(400),$(`.span-selection-div[data-category=${t.target.value}]`).slideDown(400),this.selected_add_edit_category_temp=t.target.value,this.set_span_text("","original"),this.set_span_text("","simplified"),this.set_span_indices("","original"),this.set_span_indices("","simplified")}}},z1=Object.assign(q1,{__name:"AnnotationEditor",setup(t){return(r,i)=>(qe(),Xe("div",u1,[ae("div",c1,[h1,ae("div",f1,[ae("div",d1,[ae("div",p1,[_1,ae("div",g1,[(qe(!0),Xe(bi,null,xi(this.config.config.edits,h=>(qe(),Xe("div",{key:h.id,class:"w-15 mr2 dib"},[ae("input",{onClick:i[0]||(i[0]=(...o)=>r.show_span_selection&&r.show_span_selection(...o)),class:"checkbox-tools-edit-category checkbox-tools",type:"radio",name:"edit_cotegory",id:`edit_cotegory-${h.name}`,value:h.name},null,8,m1),ae("label",{class:Zt(`txt-${h.name}`),for:`edit_cotegory-${h.name}`},[ae("i",{class:Zt(`fa-solid ${h.icon} fa-1-5x mb1`)},null,2),At(" "+_t(h.label),1)],10,v1)]))),128))]),(qe(!0),Xe(bi,null,xi(this.config.config.edits,h=>(qe(),Xe("div",{key:h.id,class:"span-selection-div","data-category":h.name},[h.enable_input?(qe(),Xe("div",b1,[ae("p",x1,[At("Select the text span from the "),ae("i",null,_t(this.config.config.input_label),1),At(".")]),ae("p",S1,[At("Selected span: "),ae("span",{class:Zt(`bg-${h.name}-light`)},_t(t.selected_span_in_original),3)])])):ri("",!0),h.enable_output?(qe(),Xe("div",w1,[ae("div",{class:"span-selection-div","data-category":h.name},[ae("p",k1,[At("Select the text span from the "),ae("i",null,_t(this.config.config.output_label),1),At(".")]),ae("p",A1,[At("Selected span: "),ae("span",{class:Zt(`bg-${h.name}-light`)},_t(t.selected_span_in_simplified),3)])],8,E1)])):ri("",!0),h.type=="composite"?(qe(),Xe("div",C1,[ae("div",O1,[ae("p",$1,"Click the edits that associated with this "+_t(h.name)+" change edit.",1),ae("p",M1,[At("Selected edits: "),ae("span",{innerHTML:t.selected_edits_html},null,8,I1)])])])):ri("",!0)],8,y1))),128))])]),ae("div",L1,[ae("button",{onClick:i[1]||(i[1]=(...h)=>r.cancel_click&&r.cancel_click(...h)),class:"cancel-button b quality_button bw0 ba mr2 br-pill-ns grow",type:"button"},[At("Cancel "),T1]),ae("button",{onClick:i[2]||(i[2]=(...h)=>r.save_click&&r.save_click(...h)),class:"confirm-button b quality_button bw0 ba ml2 br-pill-ns",type:"button"},[At("Save "),R1])])])]),(qe(!0),Xe(bi,null,xi(this.config.config.edits,h=>(qe(),Xe("div",{key:h.id},[ae("div",{class:"quality-selection w-100",id:`${h.name}_edit_annotation`,"data-category":h.name},[F1,ae("div",N1,[ae("span",{class:Zt(`edit-type txt-${h.name} f3`)},_t(h.label)+": ",3),h.enable_input?(qe(),Xe("span",{key:0,class:Zt(`pa1 edit-text br-pill-ns border-${h.name}-all ${h.name}_below txt-${h.name}`)}," "+_t(t.annotating_edit_span.original)+" ",3)):ri("",!0),h.enable_output?(qe(),Xe("span",{key:1,class:Zt(`pa1 edit-text br-pill-ns border-${h.name}-all ${h.name}_below txt-${h.name}`)}," "+_t(t.annotating_edit_span.simplified)+" ",3)):ri("",!0)]),ae("div",D1,[ae("div",B1,[ae("div",W1,[(qe(!0),Xe(bi,null,xi(h.annotation,o=>(qe(),Xe("div",{key:o.id},[Si(i1,{edit_state:this.edit_state,question_state:this.edit_state[h.name][o.name],question:o,edit_type:h,set_edit_state:r.set_edit_state,parent_show_next_question:null,isRoot:"true"},null,8,["edit_state","question_state","question","edit_type","set_edit_state"])]))),128))])]),ae("div",V1,[ae("button",{onClick:i[3]||(i[3]=(...o)=>r.cancel_click&&r.cancel_click(...o)),class:"cancel-button b quality_button bw0 ba mr2 br-pill-ns grow",type:"button"},[At("Cancel "),H1]),ae("button",{onClick:o=>r.save_annotation_click(h.name,r.$e),class:"confirm-button b quality_button bw0 ba ml2 br-pill-ns"},[At("Save "),U1],8,G1)])])],8,P1)]))),128))]))}});/*! LeaderLine v1.0.7 (c) anseki https://anseki.github.io/leader-line/ */var Ui=function(){var t,r,i,h,o,d,_,m,x,E,V,K,se,he,we,ke,ge,Qe,Pe,Pt,nt,Bt,qn,Je="leader-line",Wt=1,jt=2,Fn=3,En=4,zi={top:Wt,right:jt,bottom:Fn,left:En},sa=1,Ar=2,Cr=3,Or=4,Nn=5,kn={straight:sa,arc:Ar,fluid:Cr,magnet:Or,grid:Nn},dn="behind",Yi=Je+"-defs",pn='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="leader-line-defs"><style><![CDATA[.leader-line{position:absolute;overflow:visible!important;pointer-events:none!important;font-size:16px}#leader-line-defs{width:0;height:0;position:absolute;left:0;top:0}.leader-line-line-path{fill:none}.leader-line-mask-bg-rect{fill:white}.leader-line-caps-mask-anchor,.leader-line-caps-mask-marker-shape{fill:black}.leader-line-caps-mask-anchor{stroke:black}.leader-line-caps-mask-line,.leader-line-plugs-face{stroke:rgba(0,0,0,0)}.leader-line-line-mask-shape{stroke:white}.leader-line-line-outline-mask-shape{stroke:black}.leader-line-plug-mask-shape{fill:white;stroke:black}.leader-line-plug-outline-mask-shape{fill:black;stroke:white}.leader-line-areaAnchor{position:absolute;overflow:visible!important}]]></style><defs><circle id="leader-line-disc" cx="0" cy="0" r="5"/><rect id="leader-line-square" x="-5" y="-5" width="10" height="10"/><polygon id="leader-line-arrow1" points="-8,-8 8,0 -8,8 -5,0"/><polygon id="leader-line-arrow2" points="-4,-8 4,0 -4,8 -7,5 -2,0 -7,-5"/><polygon id="leader-line-arrow3" points="-4,-5 8,0 -4,5"/><g id="leader-line-hand"><path style="fill: #fcfcfc" d="M9.19 11.14h4.75c1.38 0 2.49-1.11 2.49-2.49 0-.51-.15-.98-.41-1.37h1.3c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.53-2.49-2.53h1.02c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49h14.96c1.37 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49H16.58C16-9.86 14.28-11.14 9.7-11.14c-4.79 0-6.55 3.42-7.87 4.73H-2.14v13.23h3.68C3.29 9.97 5.47 11.14 9.19 11.14L9.19 11.14Z"/><path style="fill: black" d="M13.95 12c1.85 0 3.35-1.5 3.35-3.35 0-.17-.02-.34-.04-.51h.07c1.85 0 3.35-1.5 3.35-3.35 0-.79-.27-1.51-.72-2.08 1.03-.57 1.74-1.67 1.74-2.93 0-.59-.16-1.15-.43-1.63h12.04c1.85 0 3.35-1.5 3.35-3.35 0-1.85-1.5-3.35-3.35-3.35H17.2C16.26-10.93 13.91-12 9.7-12 5.36-12 3.22-9.4 1.94-7.84c0 0-.29.33-.5.57-.63 0-3.58 0-3.58 0C-2.61-7.27-3-6.88-3-6.41v13.23c0 .47.39.86.86.86 0 0 2.48 0 3.2 0C2.9 10.73 5.29 12 9.19 12L13.95 12ZM9.19 10.28c-3.46 0-5.33-1.05-6.9-3.87-.15-.27-.44-.44-.75-.44 0 0-1.81 0-2.82 0V-5.55c1.06 0 3.11 0 3.11 0 .25 0 .44-.06.61-.25l.83-.95c1.23-1.49 2.91-3.53 6.43-3.53 3.45 0 4.9.74 5.57 1.72h-4.3c-.48 0-.86.38-.86.86s.39.86.86.86h22.34c.9 0 1.63.73 1.63 1.63 0 .9-.73 1.63-1.63 1.63H15.83c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.52c.9 0 1.63.73 1.63 1.63s-.73 1.63-1.63 1.63h-3.12c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.11c.88 0 1.63.76 1.63 1.67 0 .9-.73 1.63-1.63 1.63h-3.2c-.48 0-.86.39-.86.86 0 .47.39.86.86.86h1.36c.05.16.09.34.09.51 0 .9-.73 1.63-1.63 1.63C13.95 10.28 9.19 10.28 9.19 10.28Z"/></g><g id="leader-line-crosshair"><path d="M0-78.97c-43.54 0-78.97 35.43-78.97 78.97 0 43.54 35.43 78.97 78.97 78.97s78.97-35.43 78.97-78.97C78.97-43.54 43.55-78.97 0-78.97ZM76.51-1.21h-9.91v-9.11h-2.43v9.11h-11.45c-.64-28.12-23.38-50.86-51.5-51.5V-64.17h9.11V-66.6h-9.11v-9.91C42.46-75.86 75.86-42.45 76.51-1.21ZM-1.21-30.76h-9.11v2.43h9.11V-4.2c-1.44.42-2.57 1.54-2.98 2.98H-28.33v-9.11h-2.43v9.11H-50.29C-49.65-28-27.99-49.65-1.21-50.29V-30.76ZM-30.76 1.21v9.11h2.43v-9.11H-4.2c.42 1.44 1.54 2.57 2.98 2.98v24.13h-9.11v2.43h9.11v19.53C-27.99 49.65-49.65 28-50.29 1.21H-30.76ZM1.22 30.75h9.11v-2.43h-9.11V4.2c1.44-.42 2.56-1.54 2.98-2.98h24.13v9.11h2.43v-9.11h19.53C49.65 28 28 49.65 1.22 50.29V30.75ZM30.76-1.21v-9.11h-2.43v9.11H4.2c-.42-1.44-1.54-2.56-2.98-2.98V-28.33h9.11v-2.43h-9.11V-50.29C28-49.65 49.65-28 50.29-1.21H30.76ZM-1.21-76.51v9.91h-9.11v2.43h9.11v11.45c-28.12.64-50.86 23.38-51.5 51.5H-64.17v-9.11H-66.6v9.11h-9.91C-75.86-42.45-42.45-75.86-1.21-76.51ZM-76.51 1.21h9.91v9.11h2.43v-9.11h11.45c.64 28.12 23.38 50.86 51.5 51.5v11.45h-9.11v2.43h9.11v9.91C-42.45 75.86-75.86 42.45-76.51 1.21ZM1.22 76.51v-9.91h9.11v-2.43h-9.11v-11.45c28.12-.64 50.86-23.38 51.5-51.5h11.45v9.11h2.43v-9.11h9.91C75.86 42.45 42.45 75.86 1.22 76.51Z"/><path d="M0 83.58-7.1 96 7.1 96Z"/><path d="M0-83.58 7.1-96-7.1-96"/><path d="M83.58 0 96 7.1 96-7.1Z"/><path d="M-83.58 0-96-7.1-96 7.1Z"/></g></defs></svg>',Ki={disc:{elmId:"leader-line-disc",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},square:{elmId:"leader-line-square",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},arrow1:{elmId:"leader-line-arrow1",bBox:{left:-8,top:-8,width:16,height:16,right:8,bottom:8},widthR:4,heightR:4,bCircle:8,sideLen:8,backLen:8,overhead:8,outlineBase:2,outlineMax:1.5},arrow2:{elmId:"leader-line-arrow2",bBox:{left:-7,top:-8,width:11,height:16,right:4,bottom:8},widthR:2.75,heightR:4,bCircle:8,sideLen:8,backLen:7,overhead:4,outlineBase:1,outlineMax:1.75},arrow3:{elmId:"leader-line-arrow3",bBox:{left:-4,top:-5,width:12,height:10,right:8,bottom:5},widthR:3,heightR:2.5,bCircle:8,sideLen:5,backLen:4,overhead:8,outlineBase:1,outlineMax:2.5},hand:{elmId:"leader-line-hand",bBox:{left:-3,top:-12,width:40,height:24,right:37,bottom:12},widthR:10,heightR:6,bCircle:37,sideLen:12,backLen:3,overhead:37},crosshair:{elmId:"leader-line-crosshair",noRotate:!0,bBox:{left:-96,top:-96,width:192,height:192,right:96,bottom:96},widthR:48,heightR:48,bCircle:96,sideLen:96,backLen:96,overhead:0}},$r={behind:dn,disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},Zi={disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},Dn=[Wt,jt,Fn,En],_n="auto",la={x:"left",y:"top",width:"width",height:"height"},Ai=80,si=4,fs=5,Xi=120,Ci=8,oa=3.75,Ot=10,Ft=30,ji=.5522847,An=.25*Math.PI,Mr=/^\s*(\-?[\d\.]+)\s*(\%)?\s*$/,Ee="http://www.w3.org/2000/svg",Bn="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&!window.navigator.msPointerEnabled,wt=!Bn&&!!document.uniqueID,$t="MozAppearance"in document.documentElement.style,gn=!(Bn||$t||!window.chrome||!window.CSS),at=!Bn&&!wt&&!$t&&!gn&&!window.chrome&&"WebkitAppearance"in document.documentElement.style,ua=wt||Bn?.2:.1,bt={path:Cr,lineColor:"coral",lineSize:4,plugSE:[dn,"arrow1"],plugSizeSE:[1,1],lineOutlineEnabled:!1,lineOutlineColor:"indianred",lineOutlineSize:.25,plugOutlineEnabledSE:[!1,!1],plugOutlineSizeSE:[1,1]},Cn=(nt={}.toString,Bt={}.hasOwnProperty.toString,qn=Bt.call(Object),function(a){return a&&nt.call(a)==="[object Object]"&&(!(a=Object.getPrototypeOf(a))||(a=a.hasOwnProperty("constructor")&&a.constructor)&&typeof a=="function"&&Bt.call(a)===qn)}),gt=Number.isFinite||function(a){return typeof a=="number"&&window.isFinite(a)},it=(he={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},we=1e3/60/2,ke=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,we)},ge=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(a){clearTimeout(a)},Qe=Number.isFinite||function(a){return typeof a=="number"&&window.isFinite(a)},Pe=[],Pt=0,{add:function(a,u,c,f,b,v,k){var T,M,Z,G,q,I,C,L,N,O,R=++Pt;function P(ie,ue){return{value:a(ue),timeRatio:ie,outputRatio:ue}}if(typeof b=="string"&&(b=he[b]),a=a||function(){},c<we)T=[P(0,0),P(1,1)];else{if(M=we/c,T=[P(0,0)],b[0]===0&&b[1]===0&&b[2]===1&&b[3]===1)for(G=M;G<=1;G+=M)T.push(P(G,G));else for(q=Z=(G=M)/10;q<=1;q+=Z)C=q,O=N=L=void 0,L=(O=q*q)*q,O*=3*(N=1-q),G<=(I={x:(C=3*(N*N)*q)*b[0]+O*b[2]+L,y:C*b[1]+O*b[3]+L}).x&&(T.push(P(I.x,I.y)),G+=M);T.push(P(1,1))}return Pe.push(v={animId:R,frameCallback:u,duration:c,count:f,frames:T,reverse:!!v}),k!==!1&&Tr(v,k),R},remove:function(a){var u;Pe.some(function(c,f){return c.animId===a&&(u=f,!(c.framesStart=null))})&&Pe.splice(u,1)},start:function(a,u,c){Pe.some(function(f){return f.animId===a&&(f.reverse=!!u,Tr(f,c),!0)})},stop:function(a,u){var c;return Pe.some(function(f){return f.animId===a&&(u?f.lastFrame!=null&&(c=f.frames[f.lastFrame].timeRatio):(c=(Date.now()-f.framesStart)/f.duration,(c=f.reverse?1-c:c)<0?c=0:1<c&&(c=1)),!(f.framesStart=null))}),c},validTiming:function(a){return typeof a=="string"?he[a]:Array.isArray(a)&&[0,1,2,3].every(function(u){return Qe(a[u])&&0<=a[u]&&a[u]<=1})?[a[0],a[1],a[2],a[3]]:null}}),Ir=function(a){a.SVGPathElement.prototype.getPathData&&a.SVGPathElement.prototype.setPathData||function(){function u(I){this._string=I,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()}var c={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},f=a.navigator.userAgent.indexOf("MSIE ")!==-1;u.prototype={parseSegment:function(){var L=this._string[this._currentIndex],I=c[L]||null;if(I===null){if(this._prevCommand===null||(I=(L==="+"||L==="-"||L==="."||"0"<=L&&L<="9")&&this._prevCommand!=="Z"?this._prevCommand==="M"?"L":this._prevCommand==="m"?"l":this._prevCommand:null)===null)return null}else this._currentIndex+=1;var C=null,L=(this._prevCommand=I).toUpperCase();return L==="H"||L==="V"?C=[this._parseNumber()]:L==="M"||L==="L"||L==="T"?C=[this._parseNumber(),this._parseNumber()]:L==="S"||L==="Q"?C=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:L==="C"?C=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:L==="A"?C=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:L==="Z"&&(this._skipOptionalSpaces(),C=[]),C===null||0<=C.indexOf(null)?null:{type:I,values:C}},hasMoreData:function(){return this._currentIndex<this._endIndex},peekSegmentType:function(){var I=this._string[this._currentIndex];return c[I]||null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;var I=this.peekSegmentType();return I==="M"||I==="m"},_isCurrentSpace:function(){var I=this._string[this._currentIndex];return I<=" "&&(I===" "||I===`
`||I==="	"||I==="\r"||I==="\f")},_skipOptionalSpaces:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string[this._currentIndex]!==",")&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&this._string[this._currentIndex]===","&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){var I=0,C=0,L=1,N=0,O=1,R=1,P=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&this._string[this._currentIndex]==="+"?this._currentIndex+=1:this._currentIndex<this._endIndex&&this._string[this._currentIndex]==="-"&&(this._currentIndex+=1,O=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])&&this._string[this._currentIndex]!==".")return null;for(var ie=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==ie)for(var ue=this._currentIndex-1,J=1;ie<=ue;)C+=J*(this._string[ue]-"0"),--ue,J*=10;if(this._currentIndex<this._endIndex&&this._string[this._currentIndex]==="."){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)L*=10,N+=(this._string.charAt(this._currentIndex)-"0")/L,this._currentIndex+=1}if(this._currentIndex!==P&&this._currentIndex+1<this._endIndex&&(this._string[this._currentIndex]==="e"||this._string[this._currentIndex]==="E")&&this._string[this._currentIndex+1]!=="x"&&this._string[this._currentIndex+1]!=="m"){if(this._currentIndex+=1,this._string[this._currentIndex]==="+"?this._currentIndex+=1:this._string[this._currentIndex]==="-"&&(this._currentIndex+=1,R=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)I*=10,I+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var U=C+N;return U*=O,I&&(U*=Math.pow(10,R*I)),P===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),U)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var I=null,C=this._string[this._currentIndex];if(this._currentIndex+=1,C==="0")I=0;else{if(C!=="1")return null;I=1}return this._skipOptionalSpacesOrDelimiter(),I}};function b(I){if(!I||I.length===0)return[];var C=new u(I),L=[];if(C.initialCommandIsMoveTo())for(;C.hasMoreData();){var N=C.parseSegment();if(N===null)break;L.push(N)}return L}function v(I){return I.map(function(C){return{type:C.type,values:Array.prototype.slice.call(C.values)}})}function k(I){var C=[],L=null,N=null,O=null,R=null,P=null,ie=null,ue=null;return I.forEach(function(J){var U,ee,H,S,W,Q,D,le;J.type==="M"?(D=J.values[0],le=J.values[1],C.push({type:"M",values:[D,le]}),R=ie=D,P=ue=le):J.type==="C"?(W=J.values[0],Q=J.values[1],U=J.values[2],ee=J.values[3],D=J.values[4],le=J.values[5],C.push({type:"C",values:[W,Q,U,ee,D,le]}),N=U,O=ee,R=D,P=le):J.type==="L"?(D=J.values[0],le=J.values[1],C.push({type:"L",values:[D,le]}),R=D,P=le):J.type==="H"?(D=J.values[0],C.push({type:"L",values:[D,P]}),R=D):J.type==="V"?(le=J.values[0],C.push({type:"L",values:[R,le]}),P=le):J.type==="S"?(U=J.values[0],ee=J.values[1],D=J.values[2],le=J.values[3],S=L==="C"||L==="S"?(H=R+(R-N),P+(P-O)):(H=R,P),C.push({type:"C",values:[H,S,U,ee,D,le]}),N=U,O=ee,R=D,P=le):J.type==="T"?(D=J.values[0],le=J.values[1],Q=L==="Q"||L==="T"?(W=R+(R-N),P+(P-O)):(W=R,P),C.push({type:"C",values:[H=R+2*(W-R)/3,S=P+2*(Q-P)/3,D+2*(W-D)/3,le+2*(Q-le)/3,D,le]}),N=W,O=Q,R=D,P=le):J.type==="Q"?(W=J.values[0],Q=J.values[1],D=J.values[2],le=J.values[3],C.push({type:"C",values:[H=R+2*(W-R)/3,S=P+2*(Q-P)/3,D+2*(W-D)/3,le+2*(Q-le)/3,D,le]}),N=W,O=Q,R=D,P=le):J.type==="A"?(ee=J.values[0],H=J.values[1],S=J.values[2],W=J.values[3],Q=J.values[4],D=J.values[5],le=J.values[6],ee===0||H===0?(C.push({type:"C",values:[R,P,D,le,D,le]}),R=D,P=le):R===D&&P===le||q(R,P,D,le,ee,H,S,W,Q).forEach(function(oe){C.push({type:"C",values:oe}),R=D,P=le})):J.type==="Z"&&(C.push(J),R=ie,P=ue),L=J.type}),C}var T=a.SVGPathElement.prototype.setAttribute,M=a.SVGPathElement.prototype.removeAttribute,Z=a.Symbol?a.Symbol():"__cachedPathData",G=a.Symbol?a.Symbol():"__cachedNormalizedPathData",q=function(I,C,L,Ie,le,oe,P,ie,ue,J){function U(j,Le,de){return{x:j*Math.cos(de)-Le*Math.sin(de),y:j*Math.sin(de)+Le*Math.cos(de)}}var ee=Math.PI*P/180,ye=[];J?(xe=J[0],D=J[1],De=J[2],Q=J[3]):(I=(Me=U(I,C,-ee)).x,C=Me.y,1<(Me=(W=(I-(L=(S=U(L,Ie,-ee)).x))/2)*W/(le*le)+(H=(C-(Ie=S.y))/2)*H/(oe*oe))&&(le*=Me=Math.sqrt(Me),oe*=Me),S=le*le,Me=oe*oe,De=(S=(ie===ue?-1:1)*Math.sqrt(Math.abs((S*Me-S*H*H-Me*W*W)/(S*H*H+Me*W*W))))*le*H/oe+(I+L)/2,Q=S*-oe*W/le+(C+Ie)/2,xe=Math.asin(parseFloat(((C-Q)/oe).toFixed(9))),D=Math.asin(parseFloat(((Ie-Q)/oe).toFixed(9))),I<De&&(xe=Math.PI-xe),L<De&&(D=Math.PI-D),xe<0&&(xe=2*Math.PI+xe),D<0&&(D=2*Math.PI+D),ue&&D<xe&&(xe-=2*Math.PI),!ue&&xe<D&&(D-=2*Math.PI));var H,S,W,Me=D-xe;Math.abs(Me)>120*Math.PI/180&&(H=D,S=L,W=Ie,D=ue&&xe<D?xe+120*Math.PI/180*1:xe+120*Math.PI/180*-1,L=De+le*Math.cos(D),Ie=Q+oe*Math.sin(D),ye=q(L,Ie,S,W,le,oe,P,0,ue,[D,H,De,Q]));var Me=D-xe,De=Math.cos(xe),Q=Math.sin(xe),xe=Math.cos(D),D=Math.sin(D),Me=Math.tan(Me/4),le=4/3*le*Me,oe=4/3*oe*Me,Me=[I,C],De=[I+le*Q,C-oe*De],xe=[L+le*D,Ie-oe*xe],Ie=[L,Ie];if(De[0]=2*Me[0]-De[0],De[1]=2*Me[1]-De[1],J)return[De,xe,Ie].concat(ye);var ye=[De,xe,Ie].concat(ye).join().split(","),me=[],ce=[];return ye.forEach(function(j,Le){Le%2?ce.push(U(ye[Le-1],ye[Le],ee).y):ce.push(U(ye[Le],ye[Le+1],ee).x),ce.length===6&&(me.push(ce),ce=[])}),me};a.SVGPathElement.prototype.setAttribute=function(I,C){I==="d"&&(this[Z]=null,this[G]=null),T.call(this,I,C)},a.SVGPathElement.prototype.removeAttribute=function(I,C){I==="d"&&(this[Z]=null,this[G]=null),M.call(this,I)},a.SVGPathElement.prototype.getPathData=function(I){if(I&&I.normalize)return this[G]?v(this[G]):(this[Z]?P=v(this[Z]):(P=b(this.getAttribute("d")||""),this[Z]=v(P)),I=k((C=[],R=O=N=L=null,P.forEach(function(ie){var ue,J,U,ee,H,S,W=ie.type;W==="M"?(H=ie.values[0],S=ie.values[1],C.push({type:"M",values:[H,S]}),L=O=H,N=R=S):W==="m"?(H=L+ie.values[0],S=N+ie.values[1],C.push({type:"M",values:[H,S]}),L=O=H,N=R=S):W==="L"?(H=ie.values[0],S=ie.values[1],C.push({type:"L",values:[H,S]}),L=H,N=S):W==="l"?(H=L+ie.values[0],S=N+ie.values[1],C.push({type:"L",values:[H,S]}),L=H,N=S):W==="C"?(ue=ie.values[0],J=ie.values[1],U=ie.values[2],ee=ie.values[3],H=ie.values[4],S=ie.values[5],C.push({type:"C",values:[ue,J,U,ee,H,S]}),L=H,N=S):W==="c"?(ue=L+ie.values[0],J=N+ie.values[1],U=L+ie.values[2],ee=N+ie.values[3],H=L+ie.values[4],S=N+ie.values[5],C.push({type:"C",values:[ue,J,U,ee,H,S]}),L=H,N=S):W==="Q"?(ue=ie.values[0],J=ie.values[1],H=ie.values[2],S=ie.values[3],C.push({type:"Q",values:[ue,J,H,S]}),L=H,N=S):W==="q"?(ue=L+ie.values[0],J=N+ie.values[1],H=L+ie.values[2],S=N+ie.values[3],C.push({type:"Q",values:[ue,J,H,S]}),L=H,N=S):W==="A"?(H=ie.values[5],S=ie.values[6],C.push({type:"A",values:[ie.values[0],ie.values[1],ie.values[2],ie.values[3],ie.values[4],H,S]}),L=H,N=S):W==="a"?(H=L+ie.values[5],S=N+ie.values[6],C.push({type:"A",values:[ie.values[0],ie.values[1],ie.values[2],ie.values[3],ie.values[4],H,S]}),L=H,N=S):W==="H"?(H=ie.values[0],C.push({type:"H",values:[H]}),L=H):W==="h"?(H=L+ie.values[0],C.push({type:"H",values:[H]}),L=H):W==="V"?(S=ie.values[0],C.push({type:"V",values:[S]}),N=S):W==="v"?(S=N+ie.values[0],C.push({type:"V",values:[S]}),N=S):W==="S"?(U=ie.values[0],ee=ie.values[1],H=ie.values[2],S=ie.values[3],C.push({type:"S",values:[U,ee,H,S]}),L=H,N=S):W==="s"?(U=L+ie.values[0],ee=N+ie.values[1],H=L+ie.values[2],S=N+ie.values[3],C.push({type:"S",values:[U,ee,H,S]}),L=H,N=S):W==="T"?(H=ie.values[0],S=ie.values[1],C.push({type:"T",values:[H,S]}),L=H,N=S):W==="t"?(H=L+ie.values[0],S=N+ie.values[1],C.push({type:"T",values:[H,S]}),L=H,N=S):W!=="Z"&&W!=="z"||(C.push({type:"Z",values:[]}),L=O,N=R)}),C)),this[G]=v(I),I);if(this[Z])return v(this[Z]);var C,L,N,O,R,P=b(this.getAttribute("d")||"");return this[Z]=v(P),P},a.SVGPathElement.prototype.setPathData=function(I){if(I.length===0)f?this.setAttribute("d",""):this.removeAttribute("d");else{for(var C="",L=0,N=I.length;L<N;L+=1){var O=I[L];0<L&&(C+=" "),C+=O.type,O.values&&0<O.values.length&&(C+=" "+O.values.join(" "))}this.setAttribute("d",C)}},a.SVGRectElement.prototype.getPathData=function(I){var C=this.x.baseVal.value,P=this.y.baseVal.value,L=this.width.baseVal.value,N=this.height.baseVal.value,O=(this.hasAttribute("rx")?this.rx:this.ry).baseVal.value,R=(this.hasAttribute("ry")?this.ry:this.rx).baseVal.value,P=(P=[{type:"M",values:[C+(O=L/2<O?L/2:O),P]},{type:"H",values:[C+L-O]},{type:"A",values:[O,R=N/2<R?N/2:R,0,0,1,C+L,P+R]},{type:"V",values:[P+N-R]},{type:"A",values:[O,R,0,0,1,C+L-O,P+N]},{type:"H",values:[C+O]},{type:"A",values:[O,R,0,0,1,C,P+N-R]},{type:"V",values:[P+R]},{type:"A",values:[O,R,0,0,1,C+O,P]},{type:"Z",values:[]}]).filter(function(ie){return ie.type!=="A"||ie.values[0]!==0&&ie.values[1]!==0});return P=I&&I.normalize===!0?k(P):P},a.SVGCircleElement.prototype.getPathData=function(I){var C=this.cx.baseVal.value,N=this.cy.baseVal.value,L=this.r.baseVal.value,N=[{type:"M",values:[C+L,N]},{type:"A",values:[L,L,0,0,1,C,N+L]},{type:"A",values:[L,L,0,0,1,C-L,N]},{type:"A",values:[L,L,0,0,1,C,N-L]},{type:"A",values:[L,L,0,0,1,C+L,N]},{type:"Z",values:[]}];return N=I&&I.normalize===!0?k(N):N},a.SVGEllipseElement.prototype.getPathData=function(I){var C=this.cx.baseVal.value,O=this.cy.baseVal.value,L=this.rx.baseVal.value,N=this.ry.baseVal.value,O=[{type:"M",values:[C+L,O]},{type:"A",values:[L,N,0,0,1,C,O+N]},{type:"A",values:[L,N,0,0,1,C-L,O]},{type:"A",values:[L,N,0,0,1,C,O-N]},{type:"A",values:[L,N,0,0,1,C+L,O]},{type:"Z",values:[]}];return O=I&&I.normalize===!0?k(O):O},a.SVGLineElement.prototype.getPathData=function(){return[{type:"M",values:[this.x1.baseVal.value,this.y1.baseVal.value]},{type:"L",values:[this.x2.baseVal.value,this.y2.baseVal.value]}]},a.SVGPolylineElement.prototype.getPathData=function(){for(var I=[],C=0;C<this.points.numberOfItems;C+=1){var L=this.points.getItem(C);I.push({type:C===0?"M":"L",values:[L.x,L.y]})}return I},a.SVGPolygonElement.prototype.getPathData=function(){for(var I=[],C=0;C<this.points.numberOfItems;C+=1){var L=this.points.getItem(C);I.push({type:C===0?"M":"L",values:[L.x,L.y]})}return I.push({type:"Z",values:[]}),I}}()},Bn=(K={},Mt.m=V=[function(a,u,c){c.r(u);var f=500,b=[],v=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(q){return setTimeout(q,1e3/60)},k=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(q){return clearTimeout(q)},T=Date.now(),M=void 0;function Z(){var q=void 0,I=void 0;M&&(k.call(window,M),M=null),b.forEach(function(C){var L;(L=C.event)&&(C.event=null,C.listener(L),q=!0)}),q?(T=Date.now(),I=!0):Date.now()-T<f&&(I=!0),I&&(M=v.call(window,Z))}function G(q){var I=-1;return b.some(function(C,L){return C.listener===q&&(I=L,!0)}),I}u.default={add:function(q){var I=void 0;return G(q)===-1?(b.push(I={listener:q}),function(C){I.event=C,M||Z()}):null},remove:function(q){-1<(q=G(q))&&(b.splice(q,1),!b.length&&M&&(k.call(window,M),M=null))}}}],Mt.c=K,Mt.d=function(a,u,c){Mt.o(a,u)||Object.defineProperty(a,u,{enumerable:!0,get:c})},Mt.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},Mt.t=function(a,u){if(1&u&&(a=Mt(a)),8&u||4&u&&typeof a=="object"&&a&&a.__esModule)return a;var c=Object.create(null);if(Mt.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:a}),2&u&&typeof a!="string")for(var f in a)Mt.d(c,f,function(b){return a[b]}.bind(null,f));return c},Mt.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return Mt.d(u,"a",u),u},Mt.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},Mt.p="",Mt(Mt.s=0).default),Oi={line_altColor:{iniValue:!1},line_color:{},line_colorTra:{iniValue:!1},line_strokeWidth:{},plug_enabled:{iniValue:!1},plug_enabledSE:{hasSE:!0,iniValue:!1},plug_plugSE:{hasSE:!0,iniValue:dn},plug_colorSE:{hasSE:!0},plug_colorTraSE:{hasSE:!0,iniValue:!1},plug_markerWidthSE:{hasSE:!0},plug_markerHeightSE:{hasSE:!0},lineOutline_enabled:{iniValue:!1},lineOutline_color:{},lineOutline_colorTra:{iniValue:!1},lineOutline_strokeWidth:{},lineOutline_inStrokeWidth:{},plugOutline_enabledSE:{hasSE:!0,iniValue:!1},plugOutline_plugSE:{hasSE:!0,iniValue:dn},plugOutline_colorSE:{hasSE:!0},plugOutline_colorTraSE:{hasSE:!0,iniValue:!1},plugOutline_strokeWidthSE:{hasSE:!0},plugOutline_inStrokeWidthSE:{hasSE:!0},position_socketXYSE:{hasSE:!0,hasProps:!0},position_plugOverheadSE:{hasSE:!0},position_path:{},position_lineStrokeWidth:{},position_socketGravitySE:{hasSE:!0},path_pathData:{},path_edge:{hasProps:!0},viewBox_bBox:{hasProps:!0},viewBox_plugBCircleSE:{hasSE:!0},lineMask_enabled:{iniValue:!1},lineMask_outlineMode:{iniValue:!1},lineMask_x:{},lineMask_y:{},lineOutlineMask_x:{},lineOutlineMask_y:{},maskBGRect_x:{},maskBGRect_y:{},capsMaskAnchor_enabledSE:{hasSE:!0,iniValue:!1},capsMaskAnchor_pathDataSE:{hasSE:!0},capsMaskAnchor_strokeWidthSE:{hasSE:!0},capsMaskMarker_enabled:{iniValue:!1},capsMaskMarker_enabledSE:{hasSE:!0,iniValue:!1},capsMaskMarker_plugSE:{hasSE:!0,iniValue:dn},capsMaskMarker_markerWidthSE:{hasSE:!0},capsMaskMarker_markerHeightSE:{hasSE:!0},caps_enabled:{iniValue:!1},attach_plugSideLenSE:{hasSE:!0},attach_plugBackLenSE:{hasSE:!0}},Qi={show_on:{},show_effect:{},show_animOptions:{},show_animId:{},show_inAnim:{}},Ji="fade",$i=[],mt={},Lr=0,ht={},ds=0;function Mt(a){if(K[a])return K[a].exports;var u=K[a]={i:a,l:!1,exports:{}};return V[a].call(u.exports,u,u.exports,Mt),u.l=!0,u.exports}function ca(){var a=Date.now(),u=!1;se&&(ge.call(window,se),se=null),Pe.forEach(function(c){var f,b,v;if(c.framesStart){if((f=a-c.framesStart)>=c.duration&&c.count&&c.loopsLeft<=1)return v=c.frames[c.lastFrame=c.reverse?0:c.frames.length-1],c.frameCallback(v.value,!0,v.timeRatio,v.outputRatio),void(c.framesStart=null);if(f>c.duration){if(b=Math.floor(f/c.duration),c.count){if(b>=c.loopsLeft)return v=c.frames[c.lastFrame=c.reverse?0:c.frames.length-1],c.frameCallback(v.value,!0,v.timeRatio,v.outputRatio),void(c.framesStart=null);c.loopsLeft-=b}c.framesStart+=c.duration*b,f=a-c.framesStart}c.reverse&&(f=c.duration-f),v=c.frames[c.lastFrame=Math.round(f/we)],c.frameCallback(v.value,!1,v.timeRatio,v.outputRatio)!==!1?u=!0:c.framesStart=null}}),u&&(se=ke.call(window,ca))}function Tr(a,u){a.framesStart=Date.now(),u!=null&&(a.framesStart-=a.duration*(a.reverse?1-u:u)),a.loopsLeft=a.count,a.lastFrame=null,ca()}function Wn(a,u){var c,f;return typeof a!=typeof u||(c=Cn(a)?"obj":Array.isArray(a)?"array":"")!=(Cn(u)?"obj":Array.isArray(u)?"array":"")||(c==="obj"?Wn(f=Object.keys(a).sort(),Object.keys(u).sort())||f.some(function(b){return Wn(a[b],u[b])}):c==="array"?a.length!==u.length||a.some(function(b,v){return Wn(b,u[v])}):a!==u)}function It(a){return a&&(Cn(a)?Object.keys(a).reduce(function(u,c){return u[c]=It(a[c]),u},{}):Array.isArray(a)?a.map(It):a)}function Mi(a){var u,c,f,b=1,v=a=(a+"").trim();function k(Z){var M=1,Z=Mr.exec(Z);return Z&&(M=parseFloat(Z[1]),Z[2]?M=0<=M&&M<=100?M/100:1:(M<0||1<M)&&(M=1)),M}return(u=/^(rgba|hsla|hwb|gray|device\-cmyk)\s*\(([\s\S]+)\)$/i.exec(a))?(c=u[1].toLowerCase(),f=u[2].trim().split(/\s*,\s*/),c==="rgba"&&f.length===4?(b=k(f[3]),v="rgb("+f.slice(0,3).join(", ")+")"):c==="hsla"&&f.length===4?(b=k(f[3]),v="hsl("+f.slice(0,3).join(", ")+")"):c==="hwb"&&f.length===4?(b=k(f[3]),v="hwb("+f.slice(0,3).join(", ")+")"):c==="gray"&&f.length===2?(b=k(f[1]),v="gray("+f[0]+")"):c==="device-cmyk"&&5<=f.length&&(b=k(f[4]),v="device-cmyk("+f.slice(0,4).join(", ")+")")):(u=/^\#(?:([\da-f]{6})([\da-f]{2})|([\da-f]{3})([\da-f]))$/i.exec(a))?v=u[1]?(b=parseInt(u[2],16)/255,"#"+u[1]):(b=parseInt(u[4]+u[4],16)/255,"#"+u[3]):a.toLocaleLowerCase()==="transparent"&&(b=0),[b,v]}function Ii(a){return!(!a||a.nodeType!==Node.ELEMENT_NODE||typeof a.getBoundingClientRect!="function")}function er(a,u){var c,f,b,v={};if(!(b=a.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(a.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_DISCONNECTED)return console.error("A disconnected element was passed."),null;for(f in c=a.getBoundingClientRect())v[f]=c[f];if(!u){if(!(b=b.defaultView))return console.error("Cannot get window that contains the element."),null;v.left+=b.pageXOffset,v.right+=b.pageXOffset,v.top+=b.pageYOffset,v.bottom+=b.pageYOffset}return v}function tr(a,u){var c,f=[],b=a;for(u=u||window;;){if(!(c=b.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(!(c=c.defaultView))return console.error("Cannot get window that contains the element."),null;if(c===u)break;if(!(b=c.frameElement))return console.error("`baseWindow` was not found."),null;f.unshift(b)}return f}function Li(a,u){var c=0,f=0;return(u=tr(a,u=u||window))?u.length?(u.forEach(function(b,v){var k=er(b,0<v);c+=k.left,f+=k.top,b=(v=b).ownerDocument.defaultView.getComputedStyle(v,""),k={left:v.clientLeft+parseFloat(b.paddingLeft),top:v.clientTop+parseFloat(b.paddingTop)},c+=k.left,f+=k.top}),(u=er(a,!0)).left+=c,u.right+=c,u.top+=f,u.bottom+=f,u):er(a):null}function an(a,f){var c=a.x-f.x,f=a.y-f.y;return Math.sqrt(c*c+f*f)}function Ti(a,b,c){var f=b.x-a.x,b=b.y-a.y;return{x:a.x+f*c,y:a.y+b*c,angle:Math.atan2(b,f)/(Math.PI/180)}}function li(a,u,c){return a=Math.atan2(a.y-u.y,u.x-a.x),{x:u.x+Math.cos(a)*c,y:u.y+Math.sin(a)*c*-1}}function oi(C,L,c,O,N){var I=N*N,q=I*N,v=1-N,G=v*v,Z=G*v,k=Z*C.x+3*G*N*L.x+3*v*I*c.x+q*O.x,T=Z*C.y+3*G*N*L.y+3*v*I*c.y+q*O.y,M=C.x+2*N*(L.x-C.x)+I*(c.x-2*L.x+C.x),Z=C.y+2*N*(L.y-C.y)+I*(c.y-2*L.y+C.y),G=L.x+2*N*(c.x-L.x)+I*(O.x-2*c.x+L.x),q=L.y+2*N*(c.y-L.y)+I*(O.y-2*c.y+L.y),I=v*C.x+N*L.x,C=v*C.y+N*L.y,L=v*c.x+N*O.x,N=v*c.y+N*O.y,O=90-180*Math.atan2(M-G,Z-q)/Math.PI;return{x:k,y:T,fromP2:{x:M,y:Z},toP1:{x:G,y:q},fromP1:{x:I,y:C},toP2:{x:L,y:N},angle:O+=180<O?-180:180}}function zn(a,u,c,f,b){function v(q,I,C,L,N){return q*(q*(-3*I+9*C-9*L+3*N)+6*I-12*C+6*L)-3*I+3*C}var k,T,M=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Z=0,G=(b=b==null||1<b?1:b<0?0:b)/2;return[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].forEach(function(q,I){k=v(T=G*q+G,a.x,u.x,c.x,f.x),T=v(T,a.y,u.y,c.y,f.y),T=k*k+T*T,Z+=M[I]*Math.sqrt(T)}),G*Z}function Rr(a,u,c,f,b){for(var v,k=.5,T=1-k;v=zn(a,u,c,f,T),!(Math.abs(v-b)<=.01);)T+=(v<b?1:-1)*(k/=2);return T}function Pr(a,u){var c;return a.forEach(function(f){f=u?f.map(function(b){return b={x:b.x,y:b.y},u(b),b}):f,(c=c||[{type:"M",values:[f[0].x,f[0].y]}]).push(f.length?f.length===2?{type:"L",values:[f[1].x,f[1].y]}:{type:"C",values:[f[1].x,f[1].y,f[2].x,f[2].y,f[3].x,f[3].y]}:{type:"Z",values:[]})}),c}function ha(a){var u=[],c=0;return a.forEach(function(f){f=(f.length===2?an:zn).apply(null,f),u.push(f),c+=f}),{segsLen:u,lenAll:c}}function nr(a,u){return a==null||u==null||a.length!==u.length||a.some(function(c,f){var b=u[f];return c.type!==b.type||c.values.some(function(v,k){return v!==b.values[k]})})}function ft(a,u,c){a.events[u]?a.events[u].indexOf(c)<0&&a.events[u].push(c):a.events[u]=[c]}function dt(a,u,c){var f;a.events[u]&&-1<(f=a.events[u].indexOf(c))&&a.events[u].splice(f,1)}function ui(a){_&&clearTimeout(_),$i.push(a),_=setTimeout(function(){$i.forEach(function(u){u()}),$i=[]},0)}function st(a,u){a.reflowTargets.indexOf(u)<0&&a.reflowTargets.push(u)}function Fr(a){a.reflowTargets.forEach(function(u){var c;c=u,setTimeout(function(){var f=c.parentNode,b=c.nextSibling;f.insertBefore(f.removeChild(c),b)},0)}),a.reflowTargets=[]}function fa(a,u,c,f,b,v,k){var T;c==="auto-start-reverse"?(typeof m!="boolean"&&(u.setAttribute("orient","auto-start-reverse"),m=u.orientType.baseVal===SVGMarkerElement.SVG_MARKER_ORIENT_UNKNOWN),m?u.setAttribute("orient",c):((T=b.createSVGTransform()).setRotate(180,0,0),v.transform.baseVal.appendItem(T),u.setAttribute("orient","auto"),T=!0)):(u.setAttribute("orient",c),m===!1&&v.transform.baseVal.clear()),u=u.viewBox.baseVal,T?(u.x=-f.right,u.y=-f.bottom):(u.x=f.left,u.y=f.top),u.width=f.width,u.height=f.height,wt&&st(a,k)}function da(a,u){return{prop:a?"markerEnd":"markerStart",orient:u?u.noRotate?"0":a?"auto":"auto-start-reverse":null}}function xt(a,u){Object.keys(u).forEach(function(c){var f=u[c];a[c]=f.iniValue!=null?f.hasSE?[f.iniValue,f.iniValue]:f.iniValue:f.hasSE?f.hasProps?[{},{}]:[]:f.hasProps?{}:null})}function fe(a,u,c,f,b){return f!==u[c]&&(u[c]=f,b&&b.forEach(function(v){v(a,f,c)}),!0)}function pa(f){function u(v,k){return v+parseFloat(k)}var b=f.document,c=f.getComputedStyle(b.documentElement,""),f=f.getComputedStyle(b.body,""),b={x:0,y:0};return f.position!=="static"?(b.x-=[c.marginLeft,c.borderLeftWidth,c.paddingLeft,f.marginLeft,f.borderLeftWidth].reduce(u,0),b.y-=[c.marginTop,c.borderTopWidth,c.paddingTop,f.marginTop,f.borderTopWidth].reduce(u,0)):c.position!=="static"&&(b.x-=[c.marginLeft,c.borderLeftWidth].reduce(u,0),b.y-=[c.marginTop,c.borderTopWidth].reduce(u,0)),b}function _a(a){var u,c=a.document;c.getElementById(Yi)||(u=new a.DOMParser().parseFromString(pn,"image/svg+xml"),c.body.appendChild(u.documentElement),Ir(a))}function ir(a){var u,c,f,b,v,k,T,M,Z,G,q,I,C,L,N=a.options,O=a.curStats,R=a.aplStats,P=O.position_socketXYSE,ie=!1;function ue(U,ee){return U=ee===Wt?{x:U.left+U.width/2,y:U.top}:ee===jt?{x:U.right,y:U.top+U.height/2}:ee===Fn?{x:U.left+U.width/2,y:U.bottom}:{x:U.left,y:U.top+U.height/2},U.socketId=ee,U}function J(U){return{x:U.x,y:U.y}}if(O.position_path=N.path,O.position_lineStrokeWidth=O.line_strokeWidth,O.position_socketGravitySE=u=It(N.socketGravitySE),c=[0,1].map(function(U){var ee=N.anchorSE[U],H=a.optionIsAttach.anchorSE[U],S=H!==!1?ht[ee._id]:null,W=H!==!1&&S.conf.getStrokeWidth?S.conf.getStrokeWidth(S,a):0,Q=H!==!1&&S.conf.getBBoxNest?S.conf.getBBoxNest(S,a,W):Li(ee,a.baseWindow);return O.capsMaskAnchor_pathDataSE[U]=H!==!1&&S.conf.getPathData?S.conf.getPathData(S,a,W):(H=(ee=Q).right!=null?ee.right:ee.left+ee.width,S=ee.bottom!=null?ee.bottom:ee.top+ee.height,[{type:"M",values:[ee.left,ee.top]},{type:"L",values:[H,ee.top]},{type:"L",values:[H,S]},{type:"L",values:[ee.left,S]},{type:"Z",values:[]}]),O.capsMaskAnchor_strokeWidthSE[U]=W,Q}),T=-1,N.socketSE[0]&&N.socketSE[1]?(P[0]=ue(c[0],N.socketSE[0]),P[1]=ue(c[1],N.socketSE[1])):(N.socketSE[0]||N.socketSE[1]?(k=N.socketSE[0]?(v=0,1):(v=1,0),P[v]=ue(c[v],N.socketSE[v]),(b=Dn.map(function(U){return ue(c[k],U)})).forEach(function(U){var ee=an(U,P[v]);(ee<T||T===-1)&&(P[k]=U,T=ee)})):(b=Dn.map(function(U){return ue(c[1],U)}),Dn.map(function(U){return ue(c[0],U)}).forEach(function(U){b.forEach(function(ee){var H=an(U,ee);(H<T||T===-1)&&(P[0]=U,P[1]=ee,T=H)})})),[0,1].forEach(function(U){var ee,H;N.socketSE[U]||(c[U].width||c[U].height?c[U].width||P[U].socketId!==En&&P[U].socketId!==jt?c[U].height||P[U].socketId!==Wt&&P[U].socketId!==Fn||(P[U].socketId=0<=P[U?0:1].y-c[U].top?Fn:Wt):P[U].socketId=0<=P[U?0:1].x-c[U].left?jt:En:(ee=P[U?0:1].x-c[U].left,H=P[U?0:1].y-c[U].top,P[U].socketId=Math.abs(ee)>=Math.abs(H)?0<=ee?jt:En:0<=H?Fn:Wt))})),O.position_path!==R.position_path||O.position_lineStrokeWidth!==R.position_lineStrokeWidth||[0,1].some(function(U){return O.position_plugOverheadSE[U]!==R.position_plugOverheadSE[U]||(ee=P[U],H=R.position_socketXYSE[U],ee.x!==H.x||ee.y!==H.y||ee.socketId!==H.socketId)||(ee=u[U],H=R.position_socketGravitySE[U],(U=ee==null?"auto":Array.isArray(ee)?"array":"number")!=(H==null?"auto":Array.isArray(H)?"array":"number")||(U=="array"?ee[0]!==H[0]||ee[1]!==H[1]:ee!==H));var ee,H})){switch(a.pathList.baseVal=f=[],a.pathList.animVal=null,O.position_path){case sa:f.push([J(P[0]),J(P[1])]);break;case Ar:I=typeof u[0]=="number"&&0<u[0]||typeof u[1]=="number"&&0<u[1],C=An*(I?-1:1),L=Math.atan2(P[1].y-P[0].y,P[1].x-P[0].x),I=C-L,L=Math.PI-L-C,C=an(P[0],P[1])/Math.sqrt(2)*ji,I={x:P[0].x+Math.cos(I)*C,y:P[0].y+Math.sin(I)*C*-1},C={x:P[1].x+Math.cos(L)*C,y:P[1].y+Math.sin(L)*C*-1},f.push([J(P[0]),I,C,J(P[1])]);break;case Cr:case Or:Z=[u[0],O.position_path===Or?0:u[1]],G=[],q=[],P.forEach(function(U,ee){var H,S=Z[ee],W=Array.isArray(S)?{x:S[0],y:S[1]}:typeof S=="number"?U.socketId===Wt?{x:0,y:-S}:U.socketId===jt?{x:S,y:0}:U.socketId===Fn?{x:0,y:S}:{x:-S,y:0}:(H=P[ee?0:1],S=0<(S=O.position_plugOverheadSE[ee])?Xi+(Ci<S?(S-Ci)*oa:0):Ai+(O.position_lineStrokeWidth>si?(O.position_lineStrokeWidth-si)*fs:0),U.socketId===Wt?{x:0,y:-(W=(W=(U.y-H.y)/2)<S?S:W)}:U.socketId===jt?{x:W=(W=(H.x-U.x)/2)<S?S:W,y:0}:U.socketId===Fn?{x:0,y:W=(W=(H.y-U.y)/2)<S?S:W}:{x:-(W=(W=(U.x-H.x)/2)<S?S:W),y:0});G[ee]=U.x+W.x,q[ee]=U.y+W.y}),f.push([J(P[0]),{x:G[0],y:q[0]},{x:G[1],y:q[1]},J(P[1])]);break;case Nn:(function(){var U,ee=1,H=2,S=3,W=4,Q=[[],[]],D=[];function le(ce){return ce===ee?S:ce===H?W:ce===S?ee:H}function oe(ce){return ce===H||ce===W?"x":"y"}function Me(ce,j,Le){var de={x:ce.x,y:ce.y};if(Le){if(Le===le(ce.dirId))throw new Error("Invalid dirId: "+Le);de.dirId=Le}else de.dirId=ce.dirId;return de.dirId===ee?de.y-=j:de.dirId===H?de.x+=j:de.dirId===S?de.y+=j:de.x-=j,de}function De(ce,j){return j.dirId===ee?ce.y<=j.y:j.dirId===H?ce.x>=j.x:j.dirId===S?ce.y>=j.y:ce.x<=j.x}function xe(ce,j){return j.dirId===ee||j.dirId===S?ce.x===j.x:ce.y===j.y}function Ie(ce){return ce[0]?{contain:0,notContain:1}:{contain:1,notContain:0}}function ye(ce,j,Le){return Math.abs(j[Le]-ce[Le])}function me(ce,j,Le){return Le==="x"?ce.x<j.x?H:W:ce.y<j.y?S:ee}for(P.forEach(function(ce,j){var Le=J(ce),de=u[j];ce=Array.isArray(de)?de[0]<0?[W,-de[0]]:0<de[0]?[H,de[0]]:de[1]<0?[ee,-de[1]]:0<de[1]?[S,de[1]]:[ce.socketId,0]:typeof de!="number"?[ce.socketId,Ft]:0<=de?[ce.socketId,de]:[le(ce.socketId),-de],Le.dirId=ce[0],de=ce[1],Q[j].push(Le),D[j]=Me(Le,de)});function(){var ce,j,Le,de,Te=[De(D[1],D[0]),De(D[0],D[1])],et=[oe(D[0].dirId),oe(D[1].dirId)];if(et[0]===et[1]){if(Te[0]&&Te[1])return void(xe(D[1],D[0])||(D[0][et[0]]===D[1][et[1]]?(Q[0].push(D[0]),Q[1].push(D[1])):(ce=D[0][et[0]]+(D[1][et[1]]-D[0][et[0]])/2,Q[0].push(Me(D[0],Math.abs(ce-D[0][et[0]]))),Q[1].push(Me(D[1],Math.abs(ce-D[1][et[1]]))))));Te[0]!==Te[1]?(j=Ie(Te),(Le=ye(D[j.notContain],D[j.contain],et[j.notContain]))<Ft&&(D[j.notContain]=Me(D[j.notContain],Ft-Le)),Q[j.notContain].push(D[j.notContain]),D[j.notContain]=Me(D[j.notContain],Ft,xe(D[j.contain],D[j.notContain])?et[j.notContain]==="x"?S:H:me(D[j.notContain],D[j.contain],et[j.notContain]==="x"?"y":"x"))):(Le=ye(D[0],D[1],et[0]==="x"?"y":"x"),Q.forEach(function(Yn,rt){var ze=rt===0?1:0;Yn.push(D[rt]),D[rt]=Me(D[rt],Ft,2*Ft<=Le?me(D[rt],D[ze],et[rt]==="x"?"y":"x"):et[rt]==="x"?S:H)}))}else{if(Te[0]&&Te[1])return void(xe(D[1],D[0])?Q[1].push(D[1]):xe(D[0],D[1])?Q[0].push(D[0]):Q[0].push(et[0]==="x"?{x:D[1].x,y:D[0].y}:{x:D[0].x,y:D[1].y}));Te[0]!==Te[1]?(j=Ie(Te),Q[j.notContain].push(D[j.notContain]),D[j.notContain]=Me(D[j.notContain],Ft,ye(D[j.notContain],D[j.contain],et[j.contain])>=Ft?me(D[j.notContain],D[j.contain],et[j.contain]):D[j.contain].dirId)):(de=[{x:D[0].x,y:D[0].y},{x:D[1].x,y:D[1].y}],Q.forEach(function(Yn,rt){var ze=rt===0?1:0,z=ye(de[rt],de[ze],et[rt]);z<Ft&&(D[rt]=Me(D[rt],Ft-z)),Yn.push(D[rt]),D[rt]=Me(D[rt],Ft,me(D[rt],D[ze],et[ze]))}))}return 1}(););Q[1].reverse(),Q[0].concat(Q[1]).forEach(function(ce,j){ce={x:ce.x,y:ce.y},0<j&&f.push([U,ce]),U=ce})})()}M=[],O.position_plugOverheadSE.forEach(function(U,ee){var H,S,W,Q,D,le,oe,Me,De,xe=!ee;0<U?(H=f[S=xe?0:f.length-1]).length===2?(M[S]=M[S]||an.apply(null,H),M[S]>Ot&&(M[S]-U<Ot&&(U=M[S]-Ot),oe=Ti(H[0],H[1],(xe?U:M[S]-U)/M[S]),f[S]=xe?[oe,H[1]]:[H[0],oe],M[S]-=U)):(M[S]=M[S]||zn.apply(null,H),M[S]>Ot&&(M[S]-U<Ot&&(U=M[S]-Ot),oe=oi(H[0],H[1],H[2],H[3],Rr(H[0],H[1],H[2],H[3],xe?U:M[S]-U)),Q=xe?(W=H[0],oe.toP1):(W=H[3],oe.fromP2),D=Math.atan2(W.y-oe.y,oe.x-W.x),le=an(oe,Q),oe.x=W.x+Math.cos(D)*U,oe.y=W.y+Math.sin(D)*U*-1,Q.x=oe.x+Math.cos(D)*le,Q.y=oe.y+Math.sin(D)*le*-1,f[S]=xe?[oe,oe.toP1,oe.toP2,H[3]]:[H[0],oe.fromP1,oe.fromP2,oe],M[S]=null)):U<0&&(H=f[S=xe?0:f.length-1],oe=P[ee].socketId,ee=-c[ee][(Me=oe===En||oe===jt?"x":"y")=="x"?"width":"height"],De=(U=U<ee?ee:U)*(oe===En||oe===Wt?-1:1),H.length===2?H[xe?0:H.length-1][Me]+=De:(xe?[0,1]:[H.length-2,H.length-1]).forEach(function(Ie){H[Ie][Me]+=De}),M[S]=null)}),R.position_socketXYSE=It(P),R.position_plugOverheadSE=It(O.position_plugOverheadSE),R.position_path=O.position_path,R.position_lineStrokeWidth=O.position_lineStrokeWidth,R.position_socketGravitySE=It(u),ie=!0,a.events.apl_position&&a.events.apl_position.forEach(function(U){U(a,f)})}return ie}function ci(a,u){u!==a.isShown&&(!!u!=!!a.isShown&&(a.svg.style.visibility=u?"":"hidden"),a.isShown=u,a.events&&a.events.svgShow&&a.events.svgShow.forEach(function(c){c(a,u)}))}function Lt(a,u){var c,f,b,v,k,T,M,Z,G,q,I,C,L,N,O,R,P,ie,ue,J,U,ee,H,S,W,Q,D,le,oe,Me,De,xe,Ie,ye,me,ce,j,Le,de,Te,et,Yn,rt,ze={};u.line&&(ze.line=(Z=(c=a).options,f=c.curStats,G=c.events,q=!1,q=fe(c,f,"line_color",Z.lineColor,G.cur_line_color)||q,q=fe(c,f,"line_colorTra",Mi(f.line_color)[0]<1)||q,q=fe(c,f,"line_strokeWidth",Z.lineSize,G.cur_line_strokeWidth)||q)),(u.plug||ze.line)&&(ze.plug=(v=(b=a).options,k=b.curStats,T=b.events,M=!1,[0,1].forEach(function(z){var $e,Ke,qt,Be,Qt,On,lr,$n,Tt=v.plugSE[z];M=fe(b,k.plug_enabledSE,z,Tt!==dn)||M,M=fe(b,k.plug_plugSE,z,Tt)||M,M=fe(b,k.plug_colorSE,z,$n=v.plugColorSE[z]||k.line_color,T.cur_plug_colorSE)||M,M=fe(b,k.plug_colorTraSE,z,Mi($n)[0]<1)||M,Tt!==dn&&(Be=Ke=($e=Ki[Zi[Tt]]).widthR*v.plugSizeSE[z],Qt=qt=$e.heightR*v.plugSizeSE[z],at&&(Be*=k.line_strokeWidth,Qt*=k.line_strokeWidth),M=fe(b,k.plug_markerWidthSE,z,Be)||M,M=fe(b,k.plug_markerHeightSE,z,Qt)||M,k.capsMaskMarker_markerWidthSE[z]=Ke,k.capsMaskMarker_markerHeightSE[z]=qt),k.plugOutline_plugSE[z]=k.capsMaskMarker_plugSE[z]=Tt,k.plug_enabledSE[z]?($n=k.line_strokeWidth/bt.lineSize*v.plugSizeSE[z],k.position_plugOverheadSE[z]=$e.overhead*$n,k.viewBox_plugBCircleSE[z]=$e.bCircle*$n,On=$e.sideLen*$n,lr=$e.backLen*$n):(k.position_plugOverheadSE[z]=-k.line_strokeWidth/2,k.viewBox_plugBCircleSE[z]=On=lr=0),fe(b,k.attach_plugSideLenSE,z,On,T.cur_attach_plugSideLenSE),fe(b,k.attach_plugBackLenSE,z,lr,T.cur_attach_plugBackLenSE),k.capsMaskAnchor_enabledSE[z]=!k.plug_enabledSE[z]}),M=fe(b,k,"plug_enabled",k.plug_enabledSE[0]||k.plug_enabledSE[1])||M)),(u.lineOutline||ze.line)&&(ze.lineOutline=(G=(Z=a).options,q=Z.curStats,H=!1,H=fe(Z,q,"lineOutline_enabled",G.lineOutlineEnabled)||H,H=fe(Z,q,"lineOutline_color",G.lineOutlineColor)||H,H=fe(Z,q,"lineOutline_colorTra",Mi(q.lineOutline_color)[0]<1)||H,G=q.line_strokeWidth*G.lineOutlineSize,H=fe(Z,q,"lineOutline_strokeWidth",q.line_strokeWidth-2*G)||H,H=fe(Z,q,"lineOutline_inStrokeWidth",q.lineOutline_colorTra?q.lineOutline_strokeWidth+2*ua:q.line_strokeWidth-G)||H)),(u.plugOutline||ze.line||ze.plug||ze.lineOutline)&&(ze.plugOutline=(C=(I=a).options,L=I.curStats,N=!1,[0,1].forEach(function(z){var $e=L.plugOutline_plugSE[z],Ke=$e!==dn?Ki[Zi[$e]]:null;N=fe(I,L.plugOutline_enabledSE,z,C.plugOutlineEnabledSE[z]&&L.plug_enabled&&L.plug_enabledSE[z]&&!!Ke&&!!Ke.outlineBase)||N,N=fe(I,L.plugOutline_colorSE,z,$e=C.plugOutlineColorSE[z]||L.lineOutline_color)||N,N=fe(I,L.plugOutline_colorTraSE,z,Mi($e)[0]<1)||N,Ke&&Ke.outlineBase&&(($e=C.plugOutlineSizeSE[z])>Ke.outlineMax&&($e=Ke.outlineMax),$e*=2*Ke.outlineBase,N=fe(I,L.plugOutline_strokeWidthSE,z,$e)||N,N=fe(I,L.plugOutline_inStrokeWidthSE,z,L.plugOutline_colorTraSE[z]?$e-ua/(L.line_strokeWidth/bt.lineSize)/C.plugSizeSE[z]*2:$e/2)||N)}),N)),(u.faces||ze.line||ze.plug||ze.lineOutline||ze.plugOutline)&&(ze.faces=(P=(O=a).curStats,ie=O.aplStats,ue=O.events,J=!1,!P.line_altColor&&fe(O,ie,"line_color",R=P.line_color,ue.apl_line_color)&&(O.lineFace.style.stroke=R,J=!0),fe(O,ie,"line_strokeWidth",R=P.line_strokeWidth,ue.apl_line_strokeWidth)&&(O.lineShape.style.strokeWidth=R+"px",J=!0,($t||wt)&&(st(O,O.lineShape),wt&&(st(O,O.lineFace),st(O,O.lineMaskCaps)))),fe(O,ie,"lineOutline_enabled",R=P.lineOutline_enabled,ue.apl_lineOutline_enabled)&&(O.lineOutlineFace.style.display=R?"inline":"none",J=!0),P.lineOutline_enabled&&(fe(O,ie,"lineOutline_color",R=P.lineOutline_color,ue.apl_lineOutline_color)&&(O.lineOutlineFace.style.stroke=R,J=!0),fe(O,ie,"lineOutline_strokeWidth",R=P.lineOutline_strokeWidth,ue.apl_lineOutline_strokeWidth)&&(O.lineOutlineMaskShape.style.strokeWidth=R+"px",J=!0,wt&&(st(O,O.lineOutlineMaskCaps),st(O,O.lineOutlineFace))),fe(O,ie,"lineOutline_inStrokeWidth",R=P.lineOutline_inStrokeWidth,ue.apl_lineOutline_inStrokeWidth)&&(O.lineMaskShape.style.strokeWidth=R+"px",J=!0,wt&&(st(O,O.lineOutlineMaskCaps),st(O,O.lineOutlineFace)))),fe(O,ie,"plug_enabled",R=P.plug_enabled,ue.apl_plug_enabled)&&(O.plugsFace.style.display=R?"inline":"none",J=!0),P.plug_enabled&&[0,1].forEach(function(z){var $e=P.plug_plugSE[z],Ke=$e!==dn?Ki[Zi[$e]]:null,qt=da(z,Ke);fe(O,ie.plug_enabledSE,z,R=P.plug_enabledSE[z],ue.apl_plug_enabledSE)&&(O.plugsFace.style[qt.prop]=R?"url(#"+O.plugMarkerIdSE[z]+")":"none",J=!0),P.plug_enabledSE[z]&&(fe(O,ie.plug_plugSE,z,$e,ue.apl_plug_plugSE)&&(O.plugFaceSE[z].href.baseVal="#"+Ke.elmId,fa(O,O.plugMarkerSE[z],qt.orient,Ke.bBox,O.svg,O.plugMarkerShapeSE[z],O.plugsFace),J=!0,$t&&st(O,O.plugsFace)),fe(O,ie.plug_colorSE,z,R=P.plug_colorSE[z],ue.apl_plug_colorSE)&&(O.plugFaceSE[z].style.fill=R,J=!0,(gn||at||wt)&&!P.line_colorTra&&st(O,wt?O.lineMaskCaps:O.capsMaskLine)),["markerWidth","markerHeight"].forEach(function(Be){var Qt="plug_"+Be+"SE";fe(O,ie[Qt],z,R=P[Qt][z],ue["apl_"+Qt])&&(O.plugMarkerSE[z][Be].baseVal.value=R,J=!0)}),fe(O,ie.plugOutline_enabledSE,z,R=P.plugOutline_enabledSE[z],ue.apl_plugOutline_enabledSE)&&(R?(O.plugFaceSE[z].style.mask="url(#"+O.plugMaskIdSE[z]+")",O.plugOutlineFaceSE[z].style.display="inline"):(O.plugFaceSE[z].style.mask="none",O.plugOutlineFaceSE[z].style.display="none"),J=!0),P.plugOutline_enabledSE[z]&&(fe(O,ie.plugOutline_plugSE,z,$e,ue.apl_plugOutline_plugSE)&&(O.plugOutlineFaceSE[z].href.baseVal=O.plugMaskShapeSE[z].href.baseVal=O.plugOutlineMaskShapeSE[z].href.baseVal="#"+Ke.elmId,[O.plugMaskSE[z],O.plugOutlineMaskSE[z]].forEach(function(Be){Be.x.baseVal.value=Ke.bBox.left,Be.y.baseVal.value=Ke.bBox.top,Be.width.baseVal.value=Ke.bBox.width,Be.height.baseVal.value=Ke.bBox.height}),J=!0),fe(O,ie.plugOutline_colorSE,z,R=P.plugOutline_colorSE[z],ue.apl_plugOutline_colorSE)&&(O.plugOutlineFaceSE[z].style.fill=R,J=!0,wt&&(st(O,O.lineMaskCaps),st(O,O.lineOutlineMaskCaps))),fe(O,ie.plugOutline_strokeWidthSE,z,R=P.plugOutline_strokeWidthSE[z],ue.apl_plugOutline_strokeWidthSE)&&(O.plugOutlineMaskShapeSE[z].style.strokeWidth=R+"px",J=!0),fe(O,ie.plugOutline_inStrokeWidthSE,z,R=P.plugOutline_inStrokeWidthSE[z],ue.apl_plugOutline_inStrokeWidthSE)&&(O.plugMaskShapeSE[z].style.strokeWidth=R+"px",J=!0)))}),J)),(u.position||ze.line||ze.plug)&&(ze.position=ir(a)),(u.path||ze.position)&&(ze.path=(H=(U=a).curStats,D=U.aplStats,Q=U.pathList.animVal||U.pathList.baseVal,S=H.path_edge,le=!1,Q&&(S.x1=S.x2=Q[0][0].x,S.y1=S.y2=Q[0][0].y,H.path_pathData=ee=Pr(Q,function(z){z.x<S.x1&&(S.x1=z.x),z.y<S.y1&&(S.y1=z.y),z.x>S.x2&&(S.x2=z.x),z.y>S.y2&&(S.y2=z.y)}),nr(ee,D.path_pathData)&&(U.linePath.setPathData(ee),D.path_pathData=ee,le=!0,wt?(st(U,U.plugsFace),st(U,U.lineMaskCaps)):$t&&st(U,U.linePath),U.events.apl_path&&U.events.apl_path.forEach(function(z){z(U,ee)}))),le)),ze.viewBox=(Q=(W=a).curStats,D=W.aplStats,le=Q.path_edge,oe=Q.viewBox_bBox,Me=D.viewBox_bBox,De=W.svg.viewBox.baseVal,xe=W.svg.style,Ie=!1,D=Math.max(Q.line_strokeWidth/2,Q.viewBox_plugBCircleSE[0]||0,Q.viewBox_plugBCircleSE[1]||0),ye={x1:le.x1-D,y1:le.y1-D,x2:le.x2+D,y2:le.y2+D},W.events.new_edge4viewBox&&W.events.new_edge4viewBox.forEach(function(z){z(W,ye)}),oe.x=Q.lineMask_x=Q.lineOutlineMask_x=Q.maskBGRect_x=ye.x1,oe.y=Q.lineMask_y=Q.lineOutlineMask_y=Q.maskBGRect_y=ye.y1,oe.width=ye.x2-ye.x1,oe.height=ye.y2-ye.y1,["x","y","width","height"].forEach(function(z){var $e;($e=oe[z])!==Me[z]&&(De[z]=Me[z]=$e,xe[la[z]]=$e+(z==="x"||z==="y"?W.bodyOffset[z]:0)+"px",Ie=!0)}),Ie),ze.mask=(j=(me=a).curStats,Le=me.aplStats,de=!1,j.plug_enabled?[0,1].forEach(function(z){j.capsMaskMarker_enabledSE[z]=j.plug_enabledSE[z]&&j.plug_colorTraSE[z]||j.plugOutline_enabledSE[z]&&j.plugOutline_colorTraSE[z]}):j.capsMaskMarker_enabledSE[0]=j.capsMaskMarker_enabledSE[1]=!1,j.capsMaskMarker_enabled=j.capsMaskMarker_enabledSE[0]||j.capsMaskMarker_enabledSE[1],j.lineMask_outlineMode=j.lineOutline_enabled,j.caps_enabled=j.capsMaskMarker_enabled||j.capsMaskAnchor_enabledSE[0]||j.capsMaskAnchor_enabledSE[1],j.lineMask_enabled=j.caps_enabled||j.lineMask_outlineMode,(j.lineMask_enabled&&!j.lineMask_outlineMode||j.lineOutline_enabled)&&["x","y"].forEach(function(z){var $e="maskBGRect_"+z;fe(me,Le,$e,ce=j[$e])&&(me.maskBGRect[z].baseVal.value=ce,de=!0)}),fe(me,Le,"lineMask_enabled",ce=j.lineMask_enabled)&&(me.lineFace.style.mask=ce?"url(#"+me.lineMaskId+")":"none",de=!0,at&&st(me,me.lineMask)),j.lineMask_enabled&&(fe(me,Le,"lineMask_outlineMode",ce=j.lineMask_outlineMode)&&(ce?(me.lineMaskBG.style.display="none",me.lineMaskShape.style.display="inline"):(me.lineMaskBG.style.display="inline",me.lineMaskShape.style.display="none"),de=!0),["x","y"].forEach(function(z){var $e="lineMask_"+z;fe(me,Le,$e,ce=j[$e])&&(me.lineMask[z].baseVal.value=ce,de=!0)}),fe(me,Le,"caps_enabled",ce=j.caps_enabled)&&(me.lineMaskCaps.style.display=me.lineOutlineMaskCaps.style.display=ce?"inline":"none",de=!0,at&&st(me,me.capsMaskLine)),j.caps_enabled&&([0,1].forEach(function(z){var $e;fe(me,Le.capsMaskAnchor_enabledSE,z,ce=j.capsMaskAnchor_enabledSE[z])&&(me.capsMaskAnchorSE[z].style.display=ce?"inline":"none",de=!0,at&&st(me,me.lineMask)),j.capsMaskAnchor_enabledSE[z]&&(nr($e=j.capsMaskAnchor_pathDataSE[z],Le.capsMaskAnchor_pathDataSE[z])&&(me.capsMaskAnchorSE[z].setPathData($e),Le.capsMaskAnchor_pathDataSE[z]=$e,de=!0),fe(me,Le.capsMaskAnchor_strokeWidthSE,z,ce=j.capsMaskAnchor_strokeWidthSE[z])&&(me.capsMaskAnchorSE[z].style.strokeWidth=ce+"px",de=!0))}),fe(me,Le,"capsMaskMarker_enabled",ce=j.capsMaskMarker_enabled)&&(me.capsMaskLine.style.display=ce?"inline":"none",de=!0),j.capsMaskMarker_enabled&&[0,1].forEach(function(z){var $e=j.capsMaskMarker_plugSE[z],Ke=$e!==dn?Ki[Zi[$e]]:null,qt=da(z,Ke);fe(me,Le.capsMaskMarker_enabledSE,z,ce=j.capsMaskMarker_enabledSE[z])&&(me.capsMaskLine.style[qt.prop]=ce?"url(#"+me.lineMaskMarkerIdSE[z]+")":"none",de=!0),j.capsMaskMarker_enabledSE[z]&&(fe(me,Le.capsMaskMarker_plugSE,z,$e)&&(me.capsMaskMarkerShapeSE[z].href.baseVal="#"+Ke.elmId,fa(me,me.capsMaskMarkerSE[z],qt.orient,Ke.bBox,me.svg,me.capsMaskMarkerShapeSE[z],me.capsMaskLine),de=!0,$t&&(st(me,me.capsMaskLine),st(me,me.lineFace))),["markerWidth","markerHeight"].forEach(function(Be){var Qt="capsMaskMarker_"+Be+"SE";fe(me,Le[Qt],z,ce=j[Qt][z])&&(me.capsMaskMarkerSE[z][Be].baseVal.value=ce,de=!0)}))}))),j.lineOutline_enabled&&["x","y"].forEach(function(z){var $e="lineOutlineMask_"+z;fe(me,Le,$e,ce=j[$e])&&(me.lineOutlineMask[z].baseVal.value=ce,de=!0)}),de),u.effect&&(Yn=(Te=a).curStats,rt=Te.aplStats,Object.keys(t).forEach(function(Be){var $e=t[Be],Ke=Be+"_enabled",qt=Be+"_options",Be=Yn[qt];fe(Te,rt,Ke,et=Yn[Ke])?(et&&(rt[qt]=It(Be)),$e[et?"init":"remove"](Te)):et&&Wn(Be,rt[qt])&&($e.remove(Te),rt[Ke]=!0,rt[qt]=It(Be),$e.init(Te))})),(gn||at)&&ze.line&&!ze.path&&st(a,a.lineShape),gn&&ze.plug&&!ze.line&&st(a,a.plugsFace),Fr(a)}function rr(a,u){return{duration:(gt(a.duration)&&0<a.duration?a:u).duration,timing:it.validTiming(a.timing)?a.timing:It(u.timing)}}function ar(a,u,c,f){var b=a.curStats,v=a.aplStats,k={};function T(){["show_on","show_effect","show_animOptions"].forEach(function(M){v[M]=b[M]})}b.show_on=u,c&&r[c]&&(b.show_effect=c,b.show_animOptions=rr(Cn(f)?f:{},r[c].defaultAnimOptions)),k.show_on=b.show_on!==v.show_on,k.show_effect=b.show_effect!==v.show_effect,k.show_animOptions=Wn(b.show_animOptions,v.show_animOptions),k.show_effect||k.show_animOptions?b.show_inAnim?(c=k.show_effect?r[v.show_effect].stop(a,!0,!0):r[v.show_effect].stop(a),T(),r[v.show_effect].init(a,c)):k.show_on&&(v.show_effect&&k.show_effect&&r[v.show_effect].stop(a,!0,!0),T(),r[v.show_effect].init(a)):k.show_on&&(T(),r[v.show_effect].start(a))}function ga(a,u,c){return c={props:a,optionName:c},a.attachments.indexOf(u)<0&&(!u.conf.bind||u.conf.bind(u,c))&&(a.attachments.push(u),u.boundTargets.push(c),1)}function Ri(a,u,c){var f=a.attachments.indexOf(u);-1<f&&a.attachments.splice(f,1),u.boundTargets.some(function(b,v){return b.props===a&&(u.conf.unbind&&u.conf.unbind(u,b),f=v,!0)})&&(u.boundTargets.splice(f,1),c||ui(function(){u.boundTargets.length||d(u)}))}function Pi(a,u){var c,f,b,v,k,T,M,Z,G,q,I,C,L,N,O,R=a.options,P={};function ie(S,W,Q,D,le){var oe={};return Q?D!=null?(oe.container=S[Q],oe.key=D):(oe.container=S,oe.key=Q):(oe.container=S,oe.key=W),oe.default=le,oe.acceptsAuto=oe.default==null,oe}function ue(S,W,Q,D,le,oe,ye){var De,xe,Ie,ye=ie(S,Q,le,oe,ye);return W[Q]!=null&&(xe=(W[Q]+"").toLowerCase())&&(ye.acceptsAuto&&xe===_n||(Ie=D[xe]))&&Ie!==ye.container[ye.key]&&(ye.container[ye.key]=Ie,De=!0),ye.container[ye.key]!=null||ye.acceptsAuto||(ye.container[ye.key]=ye.default,De=!0),De}function J(S,W,Q,D,le,oe,j,De,xe){var Ie,ye,me,ce,j=ie(S,Q,le,oe,j);if(!D){if(j.default==null)throw new Error("Invalid `type`: "+Q);D=typeof j.default}return W[Q]!=null&&(j.acceptsAuto&&(W[Q]+"").toLowerCase()===_n||(me=ye=W[Q],((ce=D)==="number"?gt(me):typeof me===ce)&&(ye=xe&&D==="string"&&ye?ye.trim():ye,1)&&(!De||De(ye))))&&ye!==j.container[j.key]&&(j.container[j.key]=ye,Ie=!0),j.container[j.key]!=null||j.acceptsAuto||(j.container[j.key]=j.default,Ie=!0),Ie}if(u=u||{},["start","end"].forEach(function(S,W){var Q=u[S],D=!1;if(Q&&(Ii(Q)||(D=o(Q,"anchor")))&&Q!==R.anchorSE[W]){if(a.optionIsAttach.anchorSE[W]!==!1&&Ri(a,ht[R.anchorSE[W]._id]),D&&!ga(a,ht[Q._id],S))throw new Error("Can't bind attachment");R.anchorSE[W]=Q,a.optionIsAttach.anchorSE[W]=D,c=P.position=!0}}),!R.anchorSE[0]||!R.anchorSE[1]||R.anchorSE[0]===R.anchorSE[1])throw new Error("`start` and `end` are required.");function U(S){var W=k.appendChild(N.createElementNS(Ee,"mask"));return W.id=S,W.maskUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[W.x,W.y,W.width,W.height].forEach(function(Q){Q.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),W}function ee(S){var W=k.appendChild(N.createElementNS(Ee,"marker"));return W.id=S,W.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_STROKEWIDTH,W.viewBox.baseVal||W.setAttribute("viewBox","0 0 0 0"),W}function H(S){return[S.width,S.height].forEach(function(W){W.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100)}),S}c&&(I=function(S,W){var Q,D;if(!(S=tr(S))||!(Q=tr(W)))throw new Error("Cannot get frames.");return S.length&&Q.length&&(S.reverse(),Q.reverse(),S.some(function(le){return Q.some(function(oe){return oe===le&&(D=oe.contentWindow,!0)})})),D||window}(a.optionIsAttach.anchorSE[0]!==!1?ht[R.anchorSE[0]._id].element:R.anchorSE[0],a.optionIsAttach.anchorSE[1]!==!1?ht[R.anchorSE[1]._id].element:R.anchorSE[1]))!==a.baseWindow&&(b=I,L=(f=a).aplStats,N=b.document,O=Je+"-"+f._id,f.pathList={},xt(L,Oi),Object.keys(t).forEach(function(S){var W=S+"_enabled";L[W]&&(t[S].remove(f),L[W]=!1)}),f.baseWindow&&f.svg&&f.baseWindow.document.body.removeChild(f.svg),_a(f.baseWindow=b),f.bodyOffset=pa(b),f.svg=v=N.createElementNS(Ee,"svg"),v.className.baseVal=Je,v.viewBox.baseVal||v.setAttribute("viewBox","0 0 0 0"),f.defs=k=v.appendChild(N.createElementNS(Ee,"defs")),f.linePath=M=k.appendChild(N.createElementNS(Ee,"path")),M.id=Z=O+"-line-path",M.className.baseVal=Je+"-line-path",at&&(M.style.fill="none"),f.lineShape=M=k.appendChild(N.createElementNS(Ee,"use")),M.id=G=O+"-line-shape",M.href.baseVal="#"+Z,(T=k.appendChild(N.createElementNS(Ee,"g"))).id=q=O+"-caps",f.capsMaskAnchorSE=[0,1].map(function(){var S=T.appendChild(N.createElementNS(Ee,"path"));return S.className.baseVal=Je+"-caps-mask-anchor",S}),f.lineMaskMarkerIdSE=[O+"-caps-mask-marker-0",O+"-caps-mask-marker-1"],f.capsMaskMarkerSE=[0,1].map(function(S){return ee(f.lineMaskMarkerIdSE[S])}),f.capsMaskMarkerShapeSE=[0,1].map(function(S){return S=f.capsMaskMarkerSE[S].appendChild(N.createElementNS(Ee,"use")),S.className.baseVal=Je+"-caps-mask-marker-shape",S}),f.capsMaskLine=M=T.appendChild(N.createElementNS(Ee,"use")),M.className.baseVal=Je+"-caps-mask-line",M.href.baseVal="#"+G,f.maskBGRect=M=H(k.appendChild(N.createElementNS(Ee,"rect"))),M.id=I=O+"-mask-bg-rect",M.className.baseVal=Je+"-mask-bg-rect",at&&(M.style.fill="white"),f.lineMask=H(U(f.lineMaskId=O+"-line-mask")),f.lineMaskBG=M=f.lineMask.appendChild(N.createElementNS(Ee,"use")),M.href.baseVal="#"+I,f.lineMaskShape=M=f.lineMask.appendChild(N.createElementNS(Ee,"use")),M.className.baseVal=Je+"-line-mask-shape",M.href.baseVal="#"+Z,M.style.display="none",f.lineMaskCaps=M=f.lineMask.appendChild(N.createElementNS(Ee,"use")),M.href.baseVal="#"+q,f.lineOutlineMask=H(U(b=O+"-line-outline-mask")),(M=f.lineOutlineMask.appendChild(N.createElementNS(Ee,"use"))).href.baseVal="#"+I,f.lineOutlineMaskShape=M=f.lineOutlineMask.appendChild(N.createElementNS(Ee,"use")),M.className.baseVal=Je+"-line-outline-mask-shape",M.href.baseVal="#"+Z,f.lineOutlineMaskCaps=M=f.lineOutlineMask.appendChild(N.createElementNS(Ee,"use")),M.href.baseVal="#"+q,f.face=v.appendChild(N.createElementNS(Ee,"g")),f.lineFace=M=f.face.appendChild(N.createElementNS(Ee,"use")),M.href.baseVal="#"+G,f.lineOutlineFace=M=f.face.appendChild(N.createElementNS(Ee,"use")),M.href.baseVal="#"+G,M.style.mask="url(#"+b+")",M.style.display="none",f.plugMaskIdSE=[O+"-plug-mask-0",O+"-plug-mask-1"],f.plugMaskSE=[0,1].map(function(S){return U(f.plugMaskIdSE[S])}),f.plugMaskShapeSE=[0,1].map(function(S){return S=f.plugMaskSE[S].appendChild(N.createElementNS(Ee,"use")),S.className.baseVal=Je+"-plug-mask-shape",S}),C=[],f.plugOutlineMaskSE=[0,1].map(function(S){return U(C[S]=O+"-plug-outline-mask-"+S)}),f.plugOutlineMaskShapeSE=[0,1].map(function(S){return S=f.plugOutlineMaskSE[S].appendChild(N.createElementNS(Ee,"use")),S.className.baseVal=Je+"-plug-outline-mask-shape",S}),f.plugMarkerIdSE=[O+"-plug-marker-0",O+"-plug-marker-1"],f.plugMarkerSE=[0,1].map(function(S){return S=ee(f.plugMarkerIdSE[S]),at&&(S.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_USERSPACEONUSE),S}),f.plugMarkerShapeSE=[0,1].map(function(S){return f.plugMarkerSE[S].appendChild(N.createElementNS(Ee,"g"))}),f.plugFaceSE=[0,1].map(function(S){return f.plugMarkerShapeSE[S].appendChild(N.createElementNS(Ee,"use"))}),f.plugOutlineFaceSE=[0,1].map(function(S){var W=f.plugMarkerShapeSE[S].appendChild(N.createElementNS(Ee,"use"));return W.style.mask="url(#"+C[S]+")",W.style.display="none",W}),f.plugsFace=M=f.face.appendChild(N.createElementNS(Ee,"use")),M.className.baseVal=Je+"-plugs-face",M.href.baseVal="#"+G,M.style.display="none",f.curStats.show_inAnim?(f.isShown=1,r[L.show_effect].stop(f,!0)):f.isShown||(v.style.visibility="hidden"),N.body.appendChild(v),[0,1,2].forEach(function(Q){var W,Q=f.options.labelSEM[Q];Q&&o(Q,"label")&&(W=ht[Q._id]).conf.initSvg&&W.conf.initSvg(W,f)}),P.line=P.plug=P.lineOutline=P.plugOutline=P.faces=P.effect=!0),P.position=ue(R,u,"path",kn,null,null,bt.path)||P.position,P.position=ue(R,u,"startSocket",zi,"socketSE",0)||P.position,P.position=ue(R,u,"endSocket",zi,"socketSE",1)||P.position,[u.startSocketGravity,u.endSocketGravity].forEach(function(S,W){var Q,D,le=!1;S!=null&&(Array.isArray(S)?gt(S[0])&&gt(S[1])&&(le=[S[0],S[1]],Array.isArray(R.socketGravitySE[W])&&(Q=le,D=R.socketGravitySE[W],Q.length===D.length&&Q.every(function(oe,Me){return oe===D[Me]}))&&(le=!1)):((S+"").toLowerCase()===_n?le=null:gt(S)&&0<=S&&(le=S),le===R.socketGravitySE[W]&&(le=!1)),le!==!1&&(R.socketGravitySE[W]=le,P.position=!0))}),P.line=J(R,u,"color",null,"lineColor",null,bt.lineColor,null,!0)||P.line,P.line=J(R,u,"size",null,"lineSize",null,bt.lineSize,function(S){return 0<S})||P.line,["startPlug","endPlug"].forEach(function(S,W){P.plug=ue(R,u,S,$r,"plugSE",W,bt.plugSE[W])||P.plug,P.plug=J(R,u,S+"Color","string","plugColorSE",W,null,null,!0)||P.plug,P.plug=J(R,u,S+"Size",null,"plugSizeSE",W,bt.plugSizeSE[W],function(Q){return 0<Q})||P.plug}),P.lineOutline=J(R,u,"outline",null,"lineOutlineEnabled",null,bt.lineOutlineEnabled)||P.lineOutline,P.lineOutline=J(R,u,"outlineColor",null,"lineOutlineColor",null,bt.lineOutlineColor,null,!0)||P.lineOutline,P.lineOutline=J(R,u,"outlineSize",null,"lineOutlineSize",null,bt.lineOutlineSize,function(S){return 0<S&&S<=.48})||P.lineOutline,["startPlugOutline","endPlugOutline"].forEach(function(S,W){P.plugOutline=J(R,u,S,null,"plugOutlineEnabledSE",W,bt.plugOutlineEnabledSE[W])||P.plugOutline,P.plugOutline=J(R,u,S+"Color","string","plugOutlineColorSE",W,null,null,!0)||P.plugOutline,P.plugOutline=J(R,u,S+"Size",null,"plugOutlineSizeSE",W,bt.plugOutlineSizeSE[W],function(Q){return 1<=Q})||P.plugOutline}),["startLabel","endLabel","middleLabel"].forEach(function(S,W){var Q,D,le,oe=u[S],Me=R.labelSEM[W]&&!a.optionIsAttach.labelSEM[W]?ht[R.labelSEM[W]._id].text:R.labelSEM[W],De=!1;if((Q=typeof oe=="string")&&(oe=oe.trim()),(Q||oe&&(De=o(oe,"label")))&&oe!==Me){if(R.labelSEM[W]&&(Ri(a,ht[R.labelSEM[W]._id]),R.labelSEM[W]=""),oe){if(De?(D=ht[(le=oe)._id]).boundTargets.slice().forEach(function(xe){D.conf.removeOption(D,xe)}):le=new h(i.captionLabel,[oe]),!ga(a,ht[le._id],S))throw new Error("Can't bind attachment");R.labelSEM[W]=le}a.optionIsAttach.labelSEM[W]=De}}),Object.keys(t).forEach(function(S){var W,Q,D=t[S],le=S+"_enabled",oe=S+"_options";function Me(xe){var Ie={};return D.optionsConf.forEach(function(ye){var me=ye[0],ce=ye[3];ye[4]==null||Ie[ce]||(Ie[ce]=[]),(typeof me=="function"?me:me==="id"?ue:J).apply(null,[Ie,xe].concat(ye.slice(1)))}),Ie}function De(xe){var Ie,ye=S+"_animOptions";return xe.hasOwnProperty("animation")?Cn(xe.animation)?Ie=a.curStats[ye]=rr(xe.animation,D.defaultAnimOptions):(Ie=!!xe.animation,a.curStats[ye]=Ie?rr({},D.defaultAnimOptions):null):(Ie=!!D.defaultEnabled,a.curStats[ye]=Ie?rr({},D.defaultAnimOptions):null),Ie}u.hasOwnProperty(S)&&(W=u[S],Cn(W)?(a.curStats[le]=!0,Q=a.curStats[oe]=Me(W),D.anim&&(a.curStats[oe].animation=De(W))):(Q=a.curStats[le]=!!W)&&(a.curStats[oe]=Me({}),D.anim&&(a.curStats[oe].animation=De({}))),Wn(Q,R[S])&&(R[S]=Q,P.effect=!0))}),Lt(a,P)}function Vt(a,u,c){var f={options:{anchorSE:[],socketSE:[],socketGravitySE:[],plugSE:[],plugColorSE:[],plugSizeSE:[],plugOutlineEnabledSE:[],plugOutlineColorSE:[],plugOutlineSizeSE:[],labelSEM:["","",""]},optionIsAttach:{anchorSE:[!1,!1],labelSEM:[!1,!1,!1]},curStats:{},aplStats:{},attachments:[],events:{},reflowTargets:[]};xt(f.curStats,Oi),xt(f.aplStats,Oi),Object.keys(t).forEach(function(b){var v=t[b].stats;xt(f.curStats,v),xt(f.aplStats,v),f.options[b]=!1}),xt(f.curStats,Qi),xt(f.aplStats,Qi),f.curStats.show_effect=Ji,f.curStats.show_animOptions=It(r[Ji].defaultAnimOptions),Object.defineProperty(this,"_id",{value:++Lr}),f._id=this._id,mt[this._id]=f,arguments.length===1&&(c=a,a=null),c=c||{},(a||u)&&(c=It(c),a&&(c.start=a),u&&(c.end=u)),f.isShown=f.aplStats.show_on=!c.hide,this.setOptions(c)}function sr(a){return function(u){var c={};c[a]=u,this.setOptions(c)}}function ma(a,u){var c,f={conf:a,curStats:{},aplStats:{},boundTargets:[]},b={};a.argOptions.every(function(v){return!(!u.length||(typeof v.type=="string"?typeof u[0]!==v.type:typeof v.type!="function"||!v.type(u[0])))&&(b[v.optionName]=u.shift(),!0)}),c=u.length&&Cn(u[0])?It(u[0]):{},Object.keys(b).forEach(function(v){c[v]=b[v]}),a.stats&&(xt(f.curStats,a.stats),xt(f.aplStats,a.stats)),Object.defineProperty(this,"_id",{value:++ds}),Object.defineProperty(this,"isRemoved",{get:function(){return!ht[this._id]}}),f._id=this._id,a.init&&!a.init(f,c)||(ht[this._id]=f)}return t={dash:{stats:{dash_len:{},dash_gap:{},dash_maxOffset:{}},anim:!0,defaultAnimOptions:{duration:1e3,timing:"linear"},optionsConf:[["type","len","number",null,null,null,function(a){return 0<a}],["type","gap","number",null,null,null,function(a){return 0<a}]],init:function(a){ft(a,"apl_line_strokeWidth",t.dash.update),a.lineFace.style.strokeDashoffset=0,t.dash.update(a)},remove:function(a){var u=a.curStats;dt(a,"apl_line_strokeWidth",t.dash.update),u.dash_animId&&(it.remove(u.dash_animId),u.dash_animId=null),a.lineFace.style.strokeDasharray="none",a.lineFace.style.strokeDashoffset=0,xt(a.aplStats,t.dash.stats)},update:function(a){var u,c=a.curStats,f=a.aplStats,b=f.dash_options,v=!1;c.dash_len=b.len||2*f.line_strokeWidth,c.dash_gap=b.gap||f.line_strokeWidth,c.dash_maxOffset=c.dash_len+c.dash_gap,v=fe(a,f,"dash_len",c.dash_len)||v,(v=fe(a,f,"dash_gap",c.dash_gap)||v)&&(a.lineFace.style.strokeDasharray=f.dash_len+","+f.dash_gap),c.dash_animOptions?(v=fe(a,f,"dash_maxOffset",c.dash_maxOffset),f.dash_animOptions&&(v||Wn(c.dash_animOptions,f.dash_animOptions))&&(c.dash_animId&&(u=it.stop(c.dash_animId),it.remove(c.dash_animId)),f.dash_animOptions=null),f.dash_animOptions||(c.dash_animId=it.add(function(k){return(1-k)*f.dash_maxOffset+"px"},function(k){a.lineFace.style.strokeDashoffset=k},c.dash_animOptions.duration,0,c.dash_animOptions.timing,!1,u),f.dash_animOptions=It(c.dash_animOptions))):f.dash_animOptions&&(c.dash_animId&&(it.remove(c.dash_animId),c.dash_animId=null),a.lineFace.style.strokeDashoffset=0,f.dash_animOptions=null)}},gradient:{stats:{gradient_colorSE:{hasSE:!0},gradient_pointSE:{hasSE:!0,hasProps:!0}},optionsConf:[["type","startColor","string","colorSE",0,null,null,!0],["type","endColor","string","colorSE",1,null,null,!0]],init:function(a){var u=a.baseWindow.document,c=a.defs,f=Je+"-"+a._id+"-gradient";a.efc_gradient_gradient=c=c.appendChild(u.createElementNS(Ee,"linearGradient")),c.id=f,c.gradientUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[c.x1,c.y1,c.x2,c.y2].forEach(function(b){b.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),a.efc_gradient_stopSE=[0,1].map(function(b){var v=a.efc_gradient_gradient.appendChild(u.createElementNS(Ee,"stop"));try{v.offset.baseVal=b}catch(k){if(k.code!==DOMException.NO_MODIFICATION_ALLOWED_ERR)throw k;v.setAttribute("offset",b)}return v}),ft(a,"cur_plug_colorSE",t.gradient.update),ft(a,"apl_path",t.gradient.update),a.curStats.line_altColor=!0,a.lineFace.style.stroke="url(#"+f+")",t.gradient.update(a)},remove:function(a){a.efc_gradient_gradient&&(a.defs.removeChild(a.efc_gradient_gradient),a.efc_gradient_gradient=a.efc_gradient_stopSE=null),dt(a,"cur_plug_colorSE",t.gradient.update),dt(a,"apl_path",t.gradient.update),a.curStats.line_altColor=!1,a.lineFace.style.stroke=a.curStats.line_color,xt(a.aplStats,t.gradient.stats)},update:function(a){var u,c=a.curStats,f=a.aplStats,b=f.gradient_options,v=a.pathList.animVal||a.pathList.baseVal;[0,1].forEach(function(k){c.gradient_colorSE[k]=b.colorSE[k]||c.plug_colorSE[k]}),u=v[0][0],c.gradient_pointSE[0]={x:u.x,y:u.y},u=(v=v[v.length-1])[v.length-1],c.gradient_pointSE[1]={x:u.x,y:u.y},[0,1].forEach(function(k){var T;fe(a,f.gradient_colorSE,k,T=c.gradient_colorSE[k])&&(at?(T=Mi(T),a.efc_gradient_stopSE[k].style.stopColor=T[1],a.efc_gradient_stopSE[k].style.stopOpacity=T[0]):a.efc_gradient_stopSE[k].style.stopColor=T),["x","y"].forEach(function(M){(T=c.gradient_pointSE[k][M])!==f.gradient_pointSE[k][M]&&(a.efc_gradient_gradient[M+(k+1)].baseVal.value=f.gradient_pointSE[k][M]=T)})})}},dropShadow:{stats:{dropShadow_dx:{},dropShadow_dy:{},dropShadow_blur:{},dropShadow_color:{},dropShadow_opacity:{},dropShadow_x:{},dropShadow_y:{}},optionsConf:[["type","dx",null,null,null,2],["type","dy",null,null,null,4],["type","blur",null,null,null,3,function(a){return 0<=a}],["type","color",null,null,null,"#000",null,!0],["type","opacity",null,null,null,.8,function(a){return 0<=a&&a<=1}]],init:function(a){var u,c,f,b,v=a.baseWindow.document,k=a.defs,T=Je+"-"+a._id+"-dropShadow",M=(u=v,c=T,b={},typeof E!="boolean"&&(E=!!window.SVGFEDropShadowElement&&!at),b.elmsAppend=[b.elmFilter=v=u.createElementNS(Ee,"filter")],v.filterUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,v.x.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),v.y.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),v.width.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),v.height.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),v.id=c,E?(b.elmOffset=b.elmBlur=f=v.appendChild(u.createElementNS(Ee,"feDropShadow")),b.styleFlood=f.style):(b.elmBlur=v.appendChild(u.createElementNS(Ee,"feGaussianBlur")),b.elmOffset=f=v.appendChild(u.createElementNS(Ee,"feOffset")),f.result.baseVal="offsetblur",f=v.appendChild(u.createElementNS(Ee,"feFlood")),b.styleFlood=f.style,(f=v.appendChild(u.createElementNS(Ee,"feComposite"))).in2.baseVal="offsetblur",f.operator.baseVal=SVGFECompositeElement.SVG_FECOMPOSITE_OPERATOR_IN,(f=v.appendChild(u.createElementNS(Ee,"feMerge"))).appendChild(u.createElementNS(Ee,"feMergeNode")),f.appendChild(u.createElementNS(Ee,"feMergeNode")).in1.baseVal="SourceGraphic"),b);["elmFilter","elmOffset","elmBlur","styleFlood","elmsAppend"].forEach(function(Z){a["efc_dropShadow_"+Z]=M[Z]}),M.elmsAppend.forEach(function(Z){k.appendChild(Z)}),a.face.setAttribute("filter","url(#"+T+")"),ft(a,"new_edge4viewBox",t.dropShadow.adjustEdge),t.dropShadow.update(a)},remove:function(a){var u=a.defs;a.efc_dropShadow_elmsAppend&&(a.efc_dropShadow_elmsAppend.forEach(function(c){u.removeChild(c)}),a.efc_dropShadow_elmFilter=a.efc_dropShadow_elmOffset=a.efc_dropShadow_elmBlur=a.efc_dropShadow_styleFlood=a.efc_dropShadow_elmsAppend=null),dt(a,"new_edge4viewBox",t.dropShadow.adjustEdge),Lt(a,{}),a.face.removeAttribute("filter"),xt(a.aplStats,t.dropShadow.stats)},update:function(a){var u,c,f=a.curStats,b=a.aplStats,v=b.dropShadow_options;f.dropShadow_dx=u=v.dx,fe(a,b,"dropShadow_dx",u)&&(a.efc_dropShadow_elmOffset.dx.baseVal=u,c=!0),f.dropShadow_dy=u=v.dy,fe(a,b,"dropShadow_dy",u)&&(a.efc_dropShadow_elmOffset.dy.baseVal=u,c=!0),f.dropShadow_blur=u=v.blur,fe(a,b,"dropShadow_blur",u)&&(a.efc_dropShadow_elmBlur.setStdDeviation(u,u),c=!0),c&&Lt(a,{}),f.dropShadow_color=u=v.color,fe(a,b,"dropShadow_color",u)&&(a.efc_dropShadow_styleFlood.floodColor=u),f.dropShadow_opacity=u=v.opacity,fe(a,b,"dropShadow_opacity",u)&&(a.efc_dropShadow_styleFlood.floodOpacity=u)},adjustEdge:function(a,u){var c,f=a.curStats,b=a.aplStats;f.dropShadow_dx!=null&&(c=3*f.dropShadow_blur,(c={x1:u.x1-c+f.dropShadow_dx,y1:u.y1-c+f.dropShadow_dy,x2:u.x2+c+f.dropShadow_dx,y2:u.y2+c+f.dropShadow_dy}).x1<u.x1&&(u.x1=c.x1),c.y1<u.y1&&(u.y1=c.y1),c.x2>u.x2&&(u.x2=c.x2),c.y2>u.y2&&(u.y2=c.y2),["x","y"].forEach(function(v){var k,T="dropShadow_"+v;f[T]=k=u[v+"1"],fe(a,b,T,k)&&(a.efc_dropShadow_elmFilter[v].baseVal.value=k)}))}}},Object.keys(t).forEach(function(a){var u=t[a],c=u.stats;c[a+"_enabled"]={iniValue:!1},c[a+"_options"]={hasProps:!0},u.anim&&(c[a+"_animOptions"]={},c[a+"_animId"]={})}),r={none:{defaultAnimOptions:{},init:function(a,u){var c=a.curStats;c.show_animId&&(it.remove(c.show_animId),c.show_animId=null),r.none.start(a,u)},start:function(a,u){r.none.stop(a,!0)},stop:function(a,u,c){var f=a.curStats;return c=c??a.aplStats.show_on,f.show_inAnim=!1,u&&ci(a,c),c?1:0}},fade:{defaultAnimOptions:{duration:300,timing:"linear"},init:function(a,u){var c=a.curStats,f=a.aplStats;c.show_animId&&it.remove(c.show_animId),c.show_animId=it.add(function(b){return b},function(b,v){v?r.fade.stop(a,!0):(a.svg.style.opacity=b+"",wt&&(st(a,a.svg),Fr(a)))},f.show_animOptions.duration,1,f.show_animOptions.timing,null,!1),r.fade.start(a,u)},start:function(a,u){var c,f=a.curStats;f.show_inAnim&&(c=it.stop(f.show_animId)),ci(a,1),f.show_inAnim=!0,it.start(f.show_animId,!a.aplStats.show_on,u??c)},stop:function(a,u,c){var f,b=a.curStats;return c=c??a.aplStats.show_on,f=b.show_inAnim?it.stop(b.show_animId):c?1:0,b.show_inAnim=!1,u&&(a.svg.style.opacity=c?"":"0",ci(a,c)),f}},draw:{defaultAnimOptions:{duration:500,timing:[.58,0,.42,1]},init:function(a,u){var c=a.curStats,f=a.aplStats,b=a.pathList.baseVal,v=ha(b),k=v.segsLen,T=v.lenAll;c.show_animId&&it.remove(c.show_animId),c.show_animId=it.add(function(M){var Z,G,q,I=-1;if(M===0)G=[[b[0][0],b[0][0]]];else if(M===1)G=b;else{for(Z=T*M,G=[];Z>=k[++I];)G.push(b[I]),Z-=k[I];Z&&((q=b[I]).length===2?G.push([q[0],Ti(q[0],q[1],Z/k[I])]):(M=oi(q[0],q[1],q[2],q[3],Rr(q[0],q[1],q[2],q[3],Z)),G.push([q[0],M.fromP1,M.fromP2,M])))}return G},function(M,Z){Z?r.draw.stop(a,!0):(a.pathList.animVal=M,Lt(a,{path:!0}))},f.show_animOptions.duration,1,f.show_animOptions.timing,null,!1),r.draw.start(a,u)},start:function(a,u){var c,f=a.curStats;f.show_inAnim&&(c=it.stop(f.show_animId)),ci(a,1),f.show_inAnim=!0,ft(a,"apl_position",r.draw.update),it.start(f.show_animId,!a.aplStats.show_on,u??c)},stop:function(a,u,c){var f,b=a.curStats;return c=c??a.aplStats.show_on,f=b.show_inAnim?it.stop(b.show_animId):c?1:0,b.show_inAnim=!1,u&&(a.pathList.animVal=c?null:[[a.pathList.baseVal[0][0],a.pathList.baseVal[0][0]]],Lt(a,{path:!0}),ci(a,c)),f},update:function(a){dt(a,"apl_position",r.draw.update),a.curStats.show_inAnim?r.draw.init(a,r.draw.stop(a)):a.aplStats.show_animOptions={}}}},[["start","anchorSE",0],["end","anchorSE",1],["color","lineColor"],["size","lineSize"],["startSocketGravity","socketGravitySE",0],["endSocketGravity","socketGravitySE",1],["startPlugColor","plugColorSE",0],["endPlugColor","plugColorSE",1],["startPlugSize","plugSizeSE",0],["endPlugSize","plugSizeSE",1],["outline","lineOutlineEnabled"],["outlineColor","lineOutlineColor"],["outlineSize","lineOutlineSize"],["startPlugOutline","plugOutlineEnabledSE",0],["endPlugOutline","plugOutlineEnabledSE",1],["startPlugOutlineColor","plugOutlineColorSE",0],["endPlugOutlineColor","plugOutlineColorSE",1],["startPlugOutlineSize","plugOutlineSizeSE",0],["endPlugOutlineSize","plugOutlineSizeSE",1]].forEach(function(a){var u=a[0],c=a[1],f=a[2];Object.defineProperty(Vt.prototype,u,{get:function(){var b=f!=null?mt[this._id].options[c][f]:c?mt[this._id].options[c]:mt[this._id].options[u];return b==null?_n:It(b)},set:sr(u),enumerable:!0})}),[["path",kn],["startSocket",zi,"socketSE",0],["endSocket",zi,"socketSE",1],["startPlug",$r,"plugSE",0],["endPlug",$r,"plugSE",1]].forEach(function(a){var u=a[0],c=a[1],f=a[2],b=a[3];Object.defineProperty(Vt.prototype,u,{get:function(){var v,k=b!=null?mt[this._id].options[f][b]:f?mt[this._id].options[f]:mt[this._id].options[u];return k?Object.keys(c).some(function(T){return c[T]===k&&(v=T,!0)})?v:new Error("It's broken"):_n},set:sr(u),enumerable:!0})}),Object.keys(t).forEach(function(a){var u=t[a];Object.defineProperty(Vt.prototype,a,{get:function(){var c,f,b=mt[this._id].options[a];return Cn(b)?(c=b,f=u.optionsConf.reduce(function(v,I){var T,M=I[0],Z=I[1],G=I[2],q=I[3],I=I[4],C=I!=null?c[q][I]:q?c[q]:c[Z];return v[Z]=M==="id"?C?Object.keys(G).some(function(L){return G[L]===C&&(T=L,!0)})?T:new Error("It's broken"):_n:C==null?_n:It(C),v},{}),u.anim&&(f.animation=It(c.animation)),f):b},set:sr(a),enumerable:!0})}),["startLabel","endLabel","middleLabel"].forEach(function(a,u){Object.defineProperty(Vt.prototype,a,{get:function(){var c=mt[this._id],f=c.options;return f.labelSEM[u]&&!c.optionIsAttach.labelSEM[u]?ht[f.labelSEM[u]._id].text:f.labelSEM[u]||""},set:sr(a),enumerable:!0})}),Vt.prototype.setOptions=function(a){return Pi(mt[this._id],a),this},Vt.prototype.position=function(){return Lt(mt[this._id],{position:!0}),this},Vt.prototype.remove=function(){var a=mt[this._id],u=a.curStats;Object.keys(t).forEach(function(c){c+="_animId",u[c]&&it.remove(u[c])}),u.show_animId&&it.remove(u.show_animId),a.attachments.slice().forEach(function(c){Ri(a,c)}),a.baseWindow&&a.svg&&a.baseWindow.document.body.removeChild(a.svg),delete mt[this._id]},Vt.prototype.show=function(a,u){return ar(mt[this._id],!0,a,u),this},Vt.prototype.hide=function(a,u){return ar(mt[this._id],!1,a,u),this},d=function(a){a&&ht[a._id]&&(a.boundTargets.slice().forEach(function(u){Ri(u.props,a,!0)}),a.conf.remove&&a.conf.remove(a),delete ht[a._id])},ma.prototype.remove=function(){var a=this,u=ht[a._id];u&&(u.boundTargets.slice().forEach(function(c){u.conf.removeOption(u,c)}),ui(function(){var c=ht[a._id];c&&(console.error("LeaderLineAttachment was not removed by removeOption"),d(c))}))},h=ma,window.LeaderLineAttachment=h,o=function(a,u){return a instanceof h&&(!(a.isRemoved||u&&ht[a._id].conf.type!==u)||null)},i={pointAnchor:{type:"anchor",argOptions:[{optionName:"element",type:Ii}],init:function(a,u){return a.element=i.pointAnchor.checkElement(u.element),a.x=i.pointAnchor.parsePercent(u.x,!0)||[.5,!0],a.y=i.pointAnchor.parsePercent(u.y,!0)||[.5,!0],!0},removeOption:function(v,u){var c=u.props,f={},b=v.element,v=c.options.anchorSE[u.optionName==="start"?1:0];b===v&&(b=v===document.body?new h(i.pointAnchor,[b]):document.body),f[u.optionName]=b,Pi(c,f)},getBBoxNest:function(a,b){var c=Li(a.element,b.baseWindow),f=c.width,b=c.height;return c.width=c.height=0,c.left=c.right=c.left+a.x[0]*(a.x[1]?f:1),c.top=c.bottom=c.top+a.y[0]*(a.y[1]?b:1),c},parsePercent:function(a,u){var c,f,b=!1;return gt(a)?f=a:typeof a=="string"&&(c=Mr.exec(a))&&c[2]&&(b=(f=parseFloat(c[1])/100)!==0),f!=null&&(u||0<=f)?[f,b]:null},checkElement:function(a){if(a==null)a=document.body;else if(!Ii(a))throw new Error("`element` must be Element");return a}},areaAnchor:{type:"anchor",argOptions:[{optionName:"element",type:Ii},{optionName:"shape",type:"string"}],stats:{color:{},strokeWidth:{},elementWidth:{},elementHeight:{},elementLeft:{},elementTop:{},pathListRel:{},bBoxRel:{},pathData:{},viewBoxBBox:{hasProps:!0},dashLen:{},dashGap:{}},init:function(a,u){var c,f=[];return a.element=i.pointAnchor.checkElement(u.element),typeof u.color=="string"&&(a.color=u.color.trim()),typeof u.fillColor=="string"&&(a.fill=u.fillColor.trim()),gt(u.size)&&0<=u.size&&(a.size=u.size),u.dash&&(a.dash=!0,gt(u.dash.len)&&0<u.dash.len&&(a.dashLen=u.dash.len),gt(u.dash.gap)&&0<u.dash.gap&&(a.dashGap=u.dash.gap)),u.shape==="circle"?a.shape=u.shape:u.shape==="polygon"&&Array.isArray(u.points)&&3<=u.points.length&&u.points.every(function(b){var v={};return!(!(v.x=i.pointAnchor.parsePercent(b[0],!0))||!(v.y=i.pointAnchor.parsePercent(b[1],!0)))&&(f.push(v),(v.x[1]||v.y[1])&&(a.hasRatio=!0),!0)})?(a.shape=u.shape,a.points=f):(a.shape="rect",a.radius=gt(u.radius)&&0<=u.radius?u.radius:0),a.shape!=="rect"&&a.shape!=="circle"||(a.x=i.pointAnchor.parsePercent(u.x,!0)||[-.05,!0],a.y=i.pointAnchor.parsePercent(u.y,!0)||[-.05,!0],a.width=i.pointAnchor.parsePercent(u.width)||[1.1,!0],a.height=i.pointAnchor.parsePercent(u.height)||[1.1,!0],(a.x[1]||a.y[1]||a.width[1]||a.height[1])&&(a.hasRatio=!0)),c=a.element.ownerDocument,a.svg=u=c.createElementNS(Ee,"svg"),u.className.baseVal=Je+"-areaAnchor",u.viewBox.baseVal||u.setAttribute("viewBox","0 0 0 0"),a.path=u.appendChild(c.createElementNS(Ee,"path")),a.path.style.fill=a.fill||"none",a.isShown=!1,u.style.visibility="hidden",c.body.appendChild(u),_a(c=c.defaultView),a.bodyOffset=pa(c),a.updateColor=function(){var b=a.curStats,v=a.aplStats,k=a.boundTargets.length?a.boundTargets[0].props.curStats:null;b.color=k=a.color||(k?k.line_color:bt.lineColor),fe(a,v,"color",k)&&(a.path.style.stroke=k)},a.updateShow=function(){ci(a,a.boundTargets.some(function(b){return b.props.isShown===!0}))},!0},bind:function(a,u){return u=u.props,a.color||ft(u,"cur_line_color",a.updateColor),ft(u,"svgShow",a.updateShow),ui(function(){a.updateColor(),a.updateShow()}),!0},unbind:function(a,u){u=u.props,a.color||dt(u,"cur_line_color",a.updateColor),dt(u,"svgShow",a.updateShow),1<a.boundTargets.length&&ui(function(){a.updateColor(),a.updateShow(),i.areaAnchor.update(a)&&a.boundTargets.forEach(function(c){Lt(c.props,{position:!0})})})},removeOption:function(a,u){i.pointAnchor.removeOption(a,u)},remove:function(a){a.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),a.boundTargets.forEach(function(u){i.areaAnchor.unbind(a,u)})),a.svg.parentNode.removeChild(a.svg)},getStrokeWidth:function(a,u){return i.areaAnchor.update(a)&&1<a.boundTargets.length&&ui(function(){a.boundTargets.forEach(function(c){c.props!==u&&Lt(c.props,{position:!0})})}),a.curStats.strokeWidth},getPathData:function(a,u){var c=Li(a.element,u.baseWindow);return Pr(a.curStats.pathListRel,function(f){f.x+=c.left,f.y+=c.top})},getBBoxNest:function(a,u){return u=Li(a.element,u.baseWindow),a=a.curStats.bBoxRel,{left:a.left+u.left,top:a.top+u.top,right:a.right+u.left,bottom:a.bottom+u.top,width:a.width,height:a.height}},update:function(a){var u,c,f,b,v,k,T,M,Z,G,q,I,C,L,N,O,R=a.curStats,P=a.aplStats,ie=a.boundTargets.length?a.boundTargets[0].props.curStats:null,ue={};if(ue.strokeWidth=fe(a,R,"strokeWidth",a.size!=null?a.size:ie?ie.line_strokeWidth:bt.lineSize),u=er(a.element),ue.elementWidth=fe(a,R,"elementWidth",u.width),ue.elementHeight=fe(a,R,"elementHeight",u.height),ue.elementLeft=fe(a,R,"elementLeft",u.left),ue.elementTop=fe(a,R,"elementTop",u.top),ue.strokeWidth||a.hasRatio&&(ue.elementWidth||ue.elementHeight)){switch(a.shape){case"rect":(I={left:a.x[0]*(a.x[1]?u.width:1),top:a.y[0]*(a.y[1]?u.height:1),width:a.width[0]*(a.width[1]?u.width:1),height:a.height[0]*(a.height[1]?u.height:1)}).right=I.left+I.width,I.bottom=I.top+I.height,q=R.strokeWidth/2,M=(T=Math.min(I.width,I.height))?T/2*Math.SQRT2+q:0,G=(T=a.radius?a.radius<=M?a.radius:M:0)?(M=(T-q)/Math.SQRT2,G=[{x:I.left-(Z=T-M),y:I.top+M},{x:I.left+M,y:I.top-Z},{x:I.right-M,y:I.top-Z},{x:I.right+Z,y:I.top+M},{x:I.right+Z,y:I.bottom-M},{x:I.right-M,y:I.bottom+Z},{x:I.left+M,y:I.bottom+Z},{x:I.left-Z,y:I.bottom-M}],R.pathListRel=[[G[0],{x:G[0].x,y:G[0].y-(q=T*ji)},{x:G[1].x-q,y:G[1].y},G[1]]],G[1].x!==G[2].x&&R.pathListRel.push([G[1],G[2]]),R.pathListRel.push([G[2],{x:G[2].x+q,y:G[2].y},{x:G[3].x,y:G[3].y-q},G[3]]),G[3].y!==G[4].y&&R.pathListRel.push([G[3],G[4]]),R.pathListRel.push([G[4],{x:G[4].x,y:G[4].y+q},{x:G[5].x+q,y:G[5].y},G[5]]),G[5].x!==G[6].x&&R.pathListRel.push([G[5],G[6]]),R.pathListRel.push([G[6],{x:G[6].x-q,y:G[6].y},{x:G[7].x,y:G[7].y+q},G[7]]),G[7].y!==G[0].y&&R.pathListRel.push([G[7],G[0]]),R.pathListRel.push([]),Z=T-M+R.strokeWidth/2,[{x:I.left-Z,y:I.top-Z},{x:I.right+Z,y:I.bottom+Z}]):(Z=R.strokeWidth/2,G=[{x:I.left-Z,y:I.top-Z},{x:I.right+Z,y:I.bottom+Z}],R.pathListRel=[[G[0],{x:G[1].x,y:G[0].y}],[{x:G[1].x,y:G[0].y},G[1]],[G[1],{x:G[0].x,y:G[1].y}],[]],[{x:I.left-R.strokeWidth,y:I.top-R.strokeWidth},{x:I.right+R.strokeWidth,y:I.bottom+R.strokeWidth}]),R.bBoxRel={left:G[0].x,top:G[0].y,right:G[1].x,bottom:G[1].y,width:G[1].x-G[0].x,height:G[1].y-G[0].y};break;case"circle":(k={left:a.x[0]*(a.x[1]?u.width:1),top:a.y[0]*(a.y[1]?u.height:1),width:a.width[0]*(a.width[1]?u.width:1),height:a.height[0]*(a.height[1]?u.height:1)}).width||k.height||(k.width=k.height=10),k.width||(k.width=k.height),k.height||(k.height=k.width),k.right=k.left+k.width,k.bottom=k.top+k.height,q=k.left+k.width/2,T=k.top+k.height/2,v=R.strokeWidth/2,M=k.width/2,Z=k.height/2,I=M*Math.SQRT2+v,G=Z*Math.SQRT2+v,R.pathListRel=[[(v=[{x:q-I,y:T},{x:q,y:T-G},{x:q+I,y:T},{x:q,y:T+G}])[0],{x:v[0].x,y:v[0].y-(q=G*ji)},{x:v[1].x-(T=I*ji),y:v[1].y},v[1]],[v[1],{x:v[1].x+T,y:v[1].y},{x:v[2].x,y:v[2].y-q},v[2]],[v[2],{x:v[2].x,y:v[2].y+q},{x:v[3].x+T,y:v[3].y},v[3]],[v[3],{x:v[3].x-T,y:v[3].y},{x:v[0].x,y:v[0].y+q},v[0]],[]],M=I-M+R.strokeWidth/2,Z=G-Z+R.strokeWidth/2,v=[{x:k.left-M,y:k.top-Z},{x:k.right+M,y:k.bottom+Z}],R.bBoxRel={left:v[0].x,top:v[0].y,right:v[1].x,bottom:v[1].y,width:v[1].x-v[0].x,height:v[1].y-v[0].y};break;case"polygon":a.points.forEach(function(ee){var U=ee.x[0]*(ee.x[1]?u.width:1),ee=ee.y[0]*(ee.y[1]?u.height:1);f?(U<f.left&&(f.left=U),U>f.right&&(f.right=U),ee<f.top&&(f.top=ee),ee>f.bottom&&(f.bottom=ee)):f={left:U,right:U,top:ee,bottom:ee},b?R.pathListRel.push([b,{x:U,y:ee}]):R.pathListRel=[],b={x:U,y:ee}}),R.pathListRel.push([]),v=R.strokeWidth/2,v=[{x:f.left-v,y:f.top-v},{x:f.right+v,y:f.bottom+v}],R.bBoxRel={left:v[0].x,top:v[0].y,right:v[1].x,bottom:v[1].y,width:v[1].x-v[0].x,height:v[1].y-v[0].y}}ue.pathListRel=ue.bBoxRel=!0}return(ue.pathListRel||ue.elementLeft||ue.elementTop)&&(R.pathData=Pr(R.pathListRel,function(J){J.x+=u.left,J.y+=u.top})),fe(a,P,"strokeWidth",c=R.strokeWidth)&&(a.path.style.strokeWidth=c+"px"),nr(c=R.pathData,P.pathData)&&(a.path.setPathData(c),P.pathData=c,ue.pathData=!0),a.dash&&(!ue.pathData&&(!ue.strokeWidth||a.dashLen&&a.dashGap)||(R.dashLen=a.dashLen||2*R.strokeWidth,R.dashGap=a.dashGap||R.strokeWidth),ue.dash=fe(a,P,"dashLen",R.dashLen)||ue.dash,ue.dash=fe(a,P,"dashGap",R.dashGap)||ue.dash,ue.dash&&(a.path.style.strokeDasharray=P.dashLen+","+P.dashGap)),C=R.viewBoxBBox,L=P.viewBoxBBox,N=a.svg.viewBox.baseVal,O=a.svg.style,C.x=R.bBoxRel.left+u.left,C.y=R.bBoxRel.top+u.top,C.width=R.bBoxRel.width,C.height=R.bBoxRel.height,["x","y","width","height"].forEach(function(J){(c=C[J])!==L[J]&&(N[J]=L[J]=c,O[la[J]]=c+(J==="x"||J==="y"?a.bodyOffset[J]:0)+"px")}),ue.strokeWidth||ue.pathListRel||ue.bBoxRel}},mouseHoverAnchor:{type:"anchor",argOptions:[{optionName:"element",type:Ii},{optionName:"showEffectName",type:"string"}],style:{backgroundImage:"url('data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cG9seWdvbiBwb2ludHM9IjI0LDAgMCw4IDgsMTEgMCwxOSA1LDI0IDEzLDE2IDE2LDI0IiBmaWxsPSJjb3JhbCIvPjwvc3ZnPg==')",backgroundSize:"",backgroundRepeat:"no-repeat",backgroundColor:"#f8f881",cursor:"default"},hoverStyle:{backgroundImage:"none",backgroundColor:"#fadf8f"},padding:{top:1,right:15,bottom:1,left:2},minHeight:15,backgroundPosition:{right:2,top:2},backgroundSize:{width:12,height:12},dirKeys:[["top","Top"],["right","Right"],["bottom","Bottom"],["left","Left"]],init:function(a,u){var c,f,b,v,k,T,M,Z,G,q=i.mouseHoverAnchor,I={};if(a.element=i.pointAnchor.checkElement(u.element),M=a.element,!((Z=M.ownerDocument)&&(G=Z.defaultView)&&G.HTMLElement&&M instanceof G.HTMLElement))throw new Error("`element` must be HTML element");return q.style.backgroundSize=q.backgroundSize.width+"px "+q.backgroundSize.height+"px",["style","hoverStyle"].forEach(function(C){var L=q[C];a[C]=Object.keys(L).reduce(function(N,O){return N[O]=L[O],N},{})}),(c=a.element.ownerDocument.defaultView.getComputedStyle(a.element,"")).display==="inline"?a.style.display="inline-block":c.display==="none"&&(a.style.display="block"),i.mouseHoverAnchor.dirKeys.forEach(function(N){var L=N[0],N="padding"+N[1];parseFloat(c[N])<q.padding[L]&&(a.style[N]=q.padding[L]+"px")}),a.style.display&&(b=a.element.style.display,a.element.style.display=a.style.display),i.mouseHoverAnchor.dirKeys.forEach(function(C){C="padding"+C[1],a.style[C]&&(I[C]=a.element.style[C],a.element.style[C]=a.style[C])}),(M=a.element.getBoundingClientRect()).height<q.minHeight&&(wt?(G=q.minHeight,c.boxSizing==="content-box"?G-=parseFloat(c.borderTopWidth)+parseFloat(c.borderBottomWidth)+parseFloat(c.paddingTop)+parseFloat(c.paddingBottom):c.boxSizing==="padding-box"&&(G-=parseFloat(c.borderTopWidth)+parseFloat(c.borderBottomWidth)),a.style.height=G+"px"):a.style.height=parseFloat(c.height)+(q.minHeight-M.height)+"px"),a.style.backgroundPosition=at?M.width-q.backgroundSize.width-q.backgroundPosition.right+"px "+q.backgroundPosition.top+"px":"right "+q.backgroundPosition.right+"px top "+q.backgroundPosition.top+"px",a.style.display&&(a.element.style.display=b),i.mouseHoverAnchor.dirKeys.forEach(function(C){C="padding"+C[1],a.style[C]&&(a.element.style[C]=I[C])}),["style","hoverStyle"].forEach(function(C){var L=a[C],N=u[C];Cn(N)&&Object.keys(N).forEach(function(O){typeof N[O]=="string"||gt(N[O])?L[O]=N[O]:N[O]==null&&delete L[O]})}),typeof u.onSwitch=="function"&&(T=u.onSwitch),u.showEffectName&&r[u.showEffectName]&&(a.showEffectName=v=u.showEffectName),k=u.animOptions,a.elmStyle=f=a.element.style,a.mouseenter=function(C){a.hoverStyleSave=q.getStyles(f,Object.keys(a.hoverStyle)),q.setStyles(f,a.hoverStyle),a.boundTargets.forEach(function(L){ar(L.props,!0,v,k)}),T&&T(C)},a.mouseleave=function(C){q.setStyles(f,a.hoverStyleSave),a.boundTargets.forEach(function(L){ar(L.props,!1,v,k)}),T&&T(C)},!0},bind:function(a,u){var c,f,b,v,k;return u.props.svg?i.mouseHoverAnchor.llShow(u.props,!1,a.showEffectName):ui(function(){i.mouseHoverAnchor.llShow(u.props,!1,a.showEffectName)}),a.enabled||(a.styleSave=i.mouseHoverAnchor.getStyles(a.elmStyle,Object.keys(a.style)),i.mouseHoverAnchor.setStyles(a.elmStyle,a.style),a.removeEventListener=(c=a.element,f=a.mouseenter,b=a.mouseleave,"onmouseenter"in c&&"onmouseleave"in c?(c.addEventListener("mouseenter",f,!1),c.addEventListener("mouseleave",b,!1),function(){c.removeEventListener("mouseenter",f,!1),c.removeEventListener("mouseleave",b,!1)}):(console.warn("mouseenter and mouseleave events polyfill is enabled."),c.addEventListener("mouseover",v=function(T){T.relatedTarget&&(T.relatedTarget===this||this.compareDocumentPosition(T.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||f.apply(this,arguments)}),c.addEventListener("mouseout",k=function(T){T.relatedTarget&&(T.relatedTarget===this||this.compareDocumentPosition(T.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||b.apply(this,arguments)}),function(){c.removeEventListener("mouseover",v,!1),c.removeEventListener("mouseout",k,!1)})),a.enabled=!0),!0},unbind:function(a,u){a.enabled&&a.boundTargets.length<=1&&(a.removeEventListener(),i.mouseHoverAnchor.setStyles(a.elmStyle,a.styleSave),a.enabled=!1),i.mouseHoverAnchor.llShow(u.props,!0,a.showEffectName)},removeOption:function(a,u){i.pointAnchor.removeOption(a,u)},remove:function(a){a.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),a.boundTargets.forEach(function(u){i.mouseHoverAnchor.unbind(a,u)}))},getBBoxNest:function(a,u){return Li(a.element,u.baseWindow)},llShow:function(a,u,c){r[c||a.curStats.show_effect].stop(a,!0,u),a.aplStats.show_on=u},getStyles:function(a,u){return u.reduce(function(c,f){return c[f]=a[f],c},{})},setStyles:function(a,u){Object.keys(u).forEach(function(c){a[c]=u[c]})}},captionLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},x:{},y:{}},textStyleProps:["fontFamily","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","kerning","letterSpacing","wordSpacing","textDecoration"],init:function(a,u){return typeof u.text=="string"&&(a.text=u.text.trim()),!!a.text&&(typeof u.color=="string"&&(a.color=u.color.trim()),a.outlineColor=typeof u.outlineColor=="string"?u.outlineColor.trim():"#fff",Array.isArray(u.offset)&&gt(u.offset[0])&&gt(u.offset[1])&&(a.offset={x:u.offset[0],y:u.offset[1]}),gt(u.lineOffset)&&(a.lineOffset=u.lineOffset),i.captionLabel.textStyleProps.forEach(function(c){u[c]!=null&&(a[c]=u[c])}),a.updateColor=function(c){i.captionLabel.updateColor(a,c)},a.updateSocketXY=function(c){var f,b=a.curStats,v=a.aplStats,k=c.curStats,T=k.position_socketXYSE[a.socketIndex];T.x!=null&&(a.offset?(b.x=T.x+a.offset.x,b.y=T.y+a.offset.y):(f=a.height/2,c=Math.max(k.attach_plugSideLenSE[a.socketIndex]||0,k.line_strokeWidth/2),k=k.position_socketXYSE[a.socketIndex?0:1],T.socketId===En||T.socketId===jt?(b.x=T.socketId===En?T.x-f-a.width:T.x+f,b.y=k.y<T.y?T.y+c+f:T.y-c-f-a.height):(b.x=k.x<T.x?T.x+c+f:T.x-c-f-a.width,b.y=T.socketId===Wt?T.y-f-a.height:T.y+f)),fe(a,v,"x",f=b.x)&&(a.elmPosition.x.baseVal.getItem(0).value=f),fe(a,v,"y",f=b.y)&&(a.elmPosition.y.baseVal.getItem(0).value=f+a.height))},a.updatePath=function(v){var f=a.curStats,b=a.aplStats,v=v.pathList.animVal||v.pathList.baseVal;v&&(v=i.captionLabel.getMidPoint(v,a.lineOffset),f.x=v.x-a.width/2,f.y=v.y-a.height/2,fe(a,b,"x",v=f.x)&&(a.elmPosition.x.baseVal.getItem(0).value=v),fe(a,b,"y",v=f.y)&&(a.elmPosition.y.baseVal.getItem(0).value=v+a.height))},a.updateShow=function(c){i.captionLabel.updateShow(a,c)},at&&(a.adjustEdge=function(c,f){var b=a.curStats;b.x!=null&&i.captionLabel.adjustEdge(f,{x:b.x,y:b.y,width:a.width,height:a.height},a.strokeWidth/2)}),!0)},updateColor:function(a,b){var c=a.curStats,f=a.aplStats,b=b.curStats;c.color=b=a.color||b.line_color,fe(a,f,"color",b)&&(a.styleFill.fill=b)},updateShow:function(a,u){u=u.isShown===!0,u!==a.isShown&&(a.styleShow.visibility=u?"":"hidden",a.isShown=u)},adjustEdge:function(a,u,c){c={x1:u.x-c,y1:u.y-c,x2:u.x+u.width+c,y2:u.y+u.height+c},c.x1<a.x1&&(a.x1=c.x1),c.y1<a.y1&&(a.y1=c.y1),c.x2>a.x2&&(a.x2=c.x2),c.y2>a.y2&&(a.y2=c.y2)},newText:function(a,u,c,f,b){var v,k,T=u.createElementNS(Ee,"text");return T.textContent=a,[T.x,T.y].forEach(function(M){var Z=c.createSVGLength();Z.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),M.baseVal.initialize(Z)}),typeof x!="boolean"&&(x="paintOrder"in T.style),b&&!x?(v=u.createElementNS(Ee,"defs"),T.id=f,v.appendChild(T),(k=(a=u.createElementNS(Ee,"g")).appendChild(u.createElementNS(Ee,"use"))).href.baseVal="#"+f,(u=a.appendChild(u.createElementNS(Ee,"use"))).href.baseVal="#"+f,(k=k.style).strokeLinejoin="round",{elmPosition:T,styleText:T.style,styleFill:u.style,styleStroke:k,styleShow:a.style,elmsAppend:[v,a]}):(k=T.style,b&&(k.strokeLinejoin="round",k.paintOrder="stroke"),{elmPosition:T,styleText:k,styleFill:k,styleStroke:b?k:null,styleShow:k,elmsAppend:[T]})},getMidPoint:function(a,u){var c,f,v=ha(a),b=v.segsLen,v=v.lenAll,k=-1,T=v/2+(u||0);if(T<=0)return(c=a[0]).length===2?Ti(c[0],c[1],0):oi(c[0],c[1],c[2],c[3],0);if(v<=T)return(c=a[a.length-1]).length===2?Ti(c[0],c[1],1):oi(c[0],c[1],c[2],c[3],1);for(f=[];T>b[++k];)f.push(a[k]),T-=b[k];return(c=a[k]).length===2?Ti(c[0],c[1],T/b[k]):oi(c[0],c[1],c[2],c[3],Rr(c[0],c[1],c[2],c[3],T))},initSvg:function(a,u){var c,f,b=i.captionLabel.newText(a.text,u.baseWindow.document,u.svg,Je+"-captionLabel-"+a._id,a.outlineColor);["elmPosition","styleFill","styleShow","elmsAppend"].forEach(function(v){a[v]=b[v]}),a.isShown=!1,a.styleShow.visibility="hidden",i.captionLabel.textStyleProps.forEach(function(v){a[v]!=null&&(b.styleText[v]=a[v])}),b.elmsAppend.forEach(function(v){u.svg.appendChild(v)}),c=b.elmPosition.getBBox(),a.width=c.width,a.height=c.height,a.outlineColor&&(f=c.height/9,b.styleStroke.strokeWidth=(f=10<f?10:f<2?2:f)+"px",b.styleStroke.stroke=a.outlineColor),a.strokeWidth=f||0,xt(a.aplStats,i.captionLabel.stats),a.updateColor(u),a.refSocketXY?a.updateSocketXY(u):a.updatePath(u),at&&Lt(u,{}),a.updateShow(u)},bind:function(a,u){var c=u.props;return a.color||ft(c,"cur_line_color",a.updateColor),(a.refSocketXY=u.optionName==="startLabel"||u.optionName==="endLabel")?(a.socketIndex=u.optionName==="startLabel"?0:1,ft(c,"apl_position",a.updateSocketXY),a.offset||(ft(c,"cur_attach_plugSideLenSE",a.updateSocketXY),ft(c,"cur_line_strokeWidth",a.updateSocketXY))):ft(c,"apl_path",a.updatePath),ft(c,"svgShow",a.updateShow),at&&ft(c,"new_edge4viewBox",a.adjustEdge),i.captionLabel.initSvg(a,c),!0},unbind:function(a,u){var c=u.props;a.elmsAppend&&(a.elmsAppend.forEach(function(f){c.svg.removeChild(f)}),a.elmPosition=a.styleFill=a.styleShow=a.elmsAppend=null),xt(a.curStats,i.captionLabel.stats),xt(a.aplStats,i.captionLabel.stats),a.color||dt(c,"cur_line_color",a.updateColor),a.refSocketXY?(dt(c,"apl_position",a.updateSocketXY),a.offset||(dt(c,"cur_attach_plugSideLenSE",a.updateSocketXY),dt(c,"cur_line_strokeWidth",a.updateSocketXY))):dt(c,"apl_path",a.updatePath),dt(c,"svgShow",a.updateShow),at&&(dt(c,"new_edge4viewBox",a.adjustEdge),Lt(c,{}))},removeOption:function(a,u){var c=u.props,f={};f[u.optionName]="",Pi(c,f)},remove:function(a){a.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),a.boundTargets.forEach(function(u){i.captionLabel.unbind(a,u)}))}},pathLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},startOffset:{},pathData:{}},init:function(a,u){return typeof u.text=="string"&&(a.text=u.text.trim()),!!a.text&&(typeof u.color=="string"&&(a.color=u.color.trim()),a.outlineColor=typeof u.outlineColor=="string"?u.outlineColor.trim():"#fff",gt(u.lineOffset)&&(a.lineOffset=u.lineOffset),i.captionLabel.textStyleProps.forEach(function(c){u[c]!=null&&(a[c]=u[c])}),a.updateColor=function(c){i.captionLabel.updateColor(a,c)},a.updatePath=function(c){var f=a.curStats,b=a.aplStats,v=c.curStats,k=c.pathList.animVal||c.pathList.baseVal;k&&(f.pathData=v=i.pathLabel.getOffsetPathData(k,v.line_strokeWidth/2+a.strokeWidth/2+a.height/4,1.25*a.height),nr(v,b.pathData)&&(a.elmPath.setPathData(v),b.pathData=v,a.bBox=a.elmPosition.getBBox(),a.updateStartOffset(c)))},a.updateStartOffset=function(c){var f,b,v=a.curStats,k=a.aplStats,T=c.curStats;v.pathData&&(a.semIndex===2&&!a.lineOffset||(b=v.pathData.reduce(function(M,Z){var G,q=Z.values;switch(Z.type){case"M":f={x:q[0],y:q[1]};break;case"L":G={x:q[0],y:q[1]},f&&(M+=an(f,G)),f=G;break;case"C":G={x:q[4],y:q[5]},f&&(M+=zn(f,{x:q[0],y:q[1]},{x:q[2],y:q[3]},G)),f=G}return M},0),c=a.semIndex===0?0:a.semIndex===1?b:b/2,a.semIndex!==2&&(T=Math.max(T.attach_plugBackLenSE[a.semIndex]||0,T.line_strokeWidth/2)+a.strokeWidth/2+a.height/4,c=(c+=a.semIndex===0?T:-T)<0?0:b<c?b:c),a.lineOffset&&(c=(c+=a.lineOffset)<0?0:b<c?b:c),v.startOffset=c,fe(a,k,"startOffset",c)&&(a.elmOffset.startOffset.baseVal.value=c)))},a.updateShow=function(c){i.captionLabel.updateShow(a,c)},at&&(a.adjustEdge=function(c,f){a.bBox&&i.captionLabel.adjustEdge(f,a.bBox,a.strokeWidth/2)}),!0)},getOffsetPathData:function(a,u,c){var f,b,v=[];function k(T,M){return Math.abs(T.x-M.x)<3&&Math.abs(T.y-M.y)<3}return a.forEach(function(T){var M,Z,G,q,I,C,L,N,O,R,P;T.length===2?(N=T[0],O=T[1],R=u,P=Math.atan2(N.y-O.y,O.x-N.x)+.5*Math.PI,M=[{x:N.x+Math.cos(P)*R,y:N.y+Math.sin(P)*R*-1},{x:O.x+Math.cos(P)*R,y:O.y+Math.sin(P)*R*-1}],f?(G=f.points,0<=(L=Math.atan2(G[1].y-G[0].y,G[0].x-G[1].x)-Math.atan2(T[0].y-T[1].y,T[1].x-T[0].x))&&L<=Math.PI?Z={type:"line",points:M,inside:!0}:(I=li(G[0],G[1],u),q=li(M[1],M[0],u),C=G[0],N=M[1],P=(O=I).x-C.x,R=O.y-C.y,L=N.x-q.x,O=N.y-q.y,N=(-R*(C.x-q.x)+P*(C.y-q.y))/(-L*R+P*O),O=(L*(C.y-q.y)-O*(C.x-q.x))/(-L*R+P*O),Z=(R=0<=N&&N<=1&&0<=O&&O<=1?{x:C.x+O*P,y:C.y+O*R}:null)?{type:"line",points:[G[1]=R,M[1]]}:(G[1]=k(q,I)?q:I,{type:"line",points:[q,M[1]]}),f.len=an(G[0],G[1]))):Z={type:"line",points:M},Z.len=an(Z.points[0],Z.points[1]),v.push(f=Z)):(v.push({type:"cubic",points:function(ie,ue,J,U,ee,H){for(var S,W,Q=zn(ie,ue,J,U)/H,D=1/(H<ee?ee/H*Q:Q),le=[],oe=0;W=(90-(S=oi(ie,ue,J,U,oe)).angle)*(Math.PI/180),le.push({x:S.x+Math.cos(W)*ee,y:S.y+Math.sin(W)*ee*-1}),!(1<=oe);)1<(oe+=D)&&(oe=1);return le}(T[0],T[1],T[2],T[3],u,16)}),f=null)}),f=null,v.forEach(function(T){var M;f=T.type==="line"?(T.inside&&(f.len>u?((M=f.points)[1]=li(M[0],M[1],-u),f.len=an(M[0],M[1])):(f.points=null,f.len=0),T.len>u+c?((M=T.points)[0]=li(M[1],M[0],-(u+c)),T.len=an(M[0],M[1])):(T.points=null,T.len=0)),T):null}),v.reduce(function(T,M){var Z=M.points;return Z&&(b&&k(Z[0],b)||T.push({type:"M",values:[Z[0].x,Z[0].y]}),M.type==="line"?T.push({type:"L",values:[Z[1].x,Z[1].y]}):(Z.shift(),Z.forEach(function(G){T.push({type:"L",values:[G.x,G.y]})})),b=Z[Z.length-1]),T},[])},newText:function(a,u,c,f){var b,v,k,T,M=u.createElementNS(Ee,"defs"),Z=M.appendChild(u.createElementNS(Ee,"path"));return Z.id=b=c+"-path",(k=(v=u.createElementNS(Ee,"text")).appendChild(u.createElementNS(Ee,"textPath"))).href.baseVal="#"+b,k.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),k.textContent=a,typeof x!="boolean"&&(x="paintOrder"in v.style),f&&!x?(v.id=a=c+"-text",M.appendChild(v),(T=(c=u.createElementNS(Ee,"g")).appendChild(u.createElementNS(Ee,"use"))).href.baseVal="#"+a,(u=c.appendChild(u.createElementNS(Ee,"use"))).href.baseVal="#"+a,(T=T.style).strokeLinejoin="round",{elmPosition:v,elmPath:Z,elmOffset:k,styleText:v.style,styleFill:u.style,styleStroke:T,styleShow:c.style,elmsAppend:[M,c]}):(T=v.style,f&&(T.strokeLinejoin="round",T.paintOrder="stroke"),{elmPosition:v,elmPath:Z,elmOffset:k,styleText:T,styleFill:T,styleStroke:f?T:null,styleShow:T,elmsAppend:[M,v]})},initSvg:function(a,u){var c,f,b,v=i.pathLabel.newText(a.text,u.baseWindow.document,Je+"-pathLabel-"+a._id,a.outlineColor);["elmPosition","elmPath","elmOffset","styleFill","styleShow","elmsAppend"].forEach(function(k){a[k]=v[k]}),a.isShown=!1,a.styleShow.visibility="hidden",i.captionLabel.textStyleProps.forEach(function(k){a[k]!=null&&(v.styleText[k]=a[k])}),v.elmsAppend.forEach(function(k){u.svg.appendChild(k)}),v.elmPath.setPathData([{type:"M",values:[0,100]},{type:"h",values:[100]}]),gn&&(b=v.elmOffset.href.baseVal,v.elmOffset.href.baseVal=""),c=v.elmPosition.getBBox(),gn&&(v.elmOffset.href.baseVal=b),v.styleText.textAnchor=["start","end","middle"][a.semIndex],a.semIndex!==2||a.lineOffset||v.elmOffset.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,50),a.height=c.height,a.outlineColor&&(f=c.height/9,v.styleStroke.strokeWidth=(f=10<f?10:f<2?2:f)+"px",v.styleStroke.stroke=a.outlineColor),a.strokeWidth=f||0,xt(a.aplStats,i.pathLabel.stats),a.updateColor(u),a.updatePath(u),a.updateStartOffset(u),at&&Lt(u,{}),a.updateShow(u)},bind:function(a,u){var c=u.props;return a.color||ft(c,"cur_line_color",a.updateColor),ft(c,"cur_line_strokeWidth",a.updatePath),ft(c,"apl_path",a.updatePath),a.semIndex=u.optionName==="startLabel"?0:u.optionName==="endLabel"?1:2,a.semIndex===2&&!a.lineOffset||ft(c,"cur_attach_plugBackLenSE",a.updateStartOffset),ft(c,"svgShow",a.updateShow),at&&ft(c,"new_edge4viewBox",a.adjustEdge),i.pathLabel.initSvg(a,c),!0},unbind:function(a,u){var c=u.props;a.elmsAppend&&(a.elmsAppend.forEach(function(f){c.svg.removeChild(f)}),a.elmPosition=a.elmPath=a.elmOffset=a.styleFill=a.styleShow=a.elmsAppend=null),xt(a.curStats,i.pathLabel.stats),xt(a.aplStats,i.pathLabel.stats),a.color||dt(c,"cur_line_color",a.updateColor),dt(c,"cur_line_strokeWidth",a.updatePath),dt(c,"apl_path",a.updatePath),a.semIndex===2&&!a.lineOffset||dt(c,"cur_attach_plugBackLenSE",a.updateStartOffset),dt(c,"svgShow",a.updateShow),at&&(dt(c,"new_edge4viewBox",a.adjustEdge),Lt(c,{}))},removeOption:function(a,u){var c=u.props,f={};f[u.optionName]="",Pi(c,f)},remove:function(a){a.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),a.boundTargets.forEach(function(u){i.pathLabel.unbind(a,u)}))}}},Object.keys(i).forEach(function(a){Vt[a]=function(){return new h(i[a],Array.prototype.slice.call(arguments))}}),Vt.positionByWindowResize=!0,window.addEventListener("resize",Bn.add(function(){Vt.positionByWindowResize&&Object.keys(mt).forEach(function(a){Lt(mt[a],{position:!0})})}),!1),Vt}();const Y1={props:["hits_data","set_hits_data","current_hit","edits_dict","set_edits_dict","editor_open","set_editor_state","refresh_interface_edit","annotating_edit_span_category_id","set_annotating_edit_span_category_id","annotating_edit_span","set_annotating_edit_span","lines","set_lines","config"],data(){return{edits_html:""}},watch:{current_hit(){$(`#circle-${this.current_hit}`).addClass("circle-active"),this.process_edits_html()},hits_data(){this.process_edits_html()},edits_dict(){this.draw_lines()}},methods:{annotate_edit(t){const r=this.hits_data[this.current_hit-1].original,i=this.hits_data[this.current_hit-1].simplified,h=this.edits_dict,o=t.target.dataset.category,d=t.target.dataset.id,_=parseInt(t.target.dataset.id.split("-")[1]);if($(".child-question").hide(),this.editor_open){$(`.quality-selection[data-category=${o}]`).hide(400),this.refresh_interface_edit();return}else $(".quality-selection").hide(400),$(`.quality-selection[data-category=${o}]`).slideDown(400),$(t.target).addClass(`txt-${o}`),this.set_editor_state(!this.editor_open);if($(`.${o}[data-id=${d}]`).removeClass(`border-${o}-light`).addClass(`white border-${o} bg-${o}`),o=="substitution"){let m=h[o][_].original,x=h[o][_].simplified,E="";for(let V=0;V<m.length;V++)V!=0&&(E+=`<span class="edit-type txt-${o} f3"> and </span>`),E+=`<span class="pa1 edit-text br-pill-ns txt-${o} border-${o}-all ${o}_below">
                        &nbsp${r.substring(m[V][1],m[V][2])}&nbsp</span>`;this.set_annotating_edit_span(E,"original"),E="";for(let V=0;V<x.length;V++)V!=0&&(E+=`<span class="edit-type txt-${o} f3"> and </span>`),E+=`<span class="pa1 edit-text br-pill-ns txt-${o} border-${o}-all ${o}_below">
                        &nbsp${i.substring(x[V][1],x[V][2])}&nbsp</span>`;this.set_annotating_edit_span(E,"simplified")}else if(o=="split"){let m="",x=h[o][_],E=o,V="",K=0;for(let se in x)if(se!="split")for(let he in x[se])if(K==0?(m+=`<span class="edit-type txt-${E}${V} f3"> (</span>`,K=1):m+=`<span class="edit-type txt-${E}${V} f3"> , </span>`,se=="insertion")m+=`<span class="edit-type txt-${E}${V} f3"> ${se} </span>`,m+=`<span class="pa1 edit-text br-pill-ns txt-${E}${V} border-${E}${V}-all ${E}_below">`,m+=`&nbsp${i.substring(x[se][he][1],x[se][he][2])}&nbsp`,m+="</span>";else if(se=="deletion")m+=`<span class="edit-type txt-${E}${V} f3"> ${se} </span>`,m+=`<span class="pa1 edit-text br-pill-ns txt-${E}${V} border-${E}${V}-all ${E}_below">`,m+=`&nbsp${r.substring(x[se][he][1],x[se][he][2])}&nbsp`,m+="</span>";else if(se=="substitution"){m+=`<span class="edit-type txt-${E}${V} f3"> ${se} </span>`;let we=x[se][he].original,ke=x[se][he].simplified;for(let ge=0;ge<we.length;ge++)ge!=0&&(m+=`<span class="edit-type txt-${E}${V} f3"> and </span>`),m+=`<span class="pa1 edit-text br-pill-ns txt-${E}${V} border-${E}${V}-all ${E}_below">`,m+=`&nbsp${r.substring(we[ge][1],we[ge][2])}&nbsp`,m+="</span>";this.annotating_edit_span_for_split+=`<span class="edit-type txt-${E}${V} f3"> with </span>`;for(let ge=0;ge<ke.length;ge++)ge!=0&&(m+=`<span class="edit-type txt-${E}${V} f3"> and </span>`),m+=`<span class="pa1 edit-text br-pill-ns txt-${E}${V} border-${E}${V}-all ${E}_below">`,m+=`&nbsp${i.substring(ke[ge][1],ke[ge][2])}&nbsp`,m+="</span>"}else se=="reorder"&&(m+=`<span class="edit-type txt-${E}${V} f3"> ${se} </span>`,m+=`<span class="pa1 edit-text br-pill-ns txt-${E}${V} border-${E}${V}-all ${E}_below" data-id="${E}-${_}" data-category="${E}">`,m+=`&nbsp${r.substring(x[se][he][0][1],x[se][he][0][2])}&nbsp`,m+="</span>");K==1&&(m+=`<span class="edit-type txt-${E}${V} f3"> ) </span>`),this.set_annotating_edit_span(m,"","split")}else if(o=="structure"){let m="",x=h[o][_],E=o,V="",K=0;for(let se in x)for(let he in x[se])if(K==0?(m+=`<span class="edit-type txt-${E}${V} f3"> (</span>`,K=1):m+=`<span class="edit-type txt-${E}${V} f3"> , </span>`,se=="insertion")m+=`<span class="edit-type txt-${E}${V} f3"> ${se} </span>`,m+=`<span class="pa1 edit-text br-pill-ns txt-${E}${V} border-${E}${V}-all ${E}_below" data-id="${E}-${_}" data-category="${E}">`,m+=`&nbsp${i.substring(x[se][he][1],x[se][he][2])}&nbsp`,m+="</span>";else if(se=="deletion")m+=`<span class="edit-type txt-${E}${V} f3"> ${se} </span>`,m+=`<span class="pa1 edit-text br-pill-ns txt-${E}${V} border-${E}${V}-all ${E}_below" data-id="${E}-${_}" data-category="${E}">`,m+=`&nbsp${r.substring(x[se][he][1],x[se][he][2])}&nbsp`,m+="</span>";else if(se=="substitution"){m+=`<span class="edit-type txt-${E}${V} f3"> ${se} </span>`;let we=x[se][he].original,ke=x[se][he].simplified;for(let ge=0;ge<we.length;ge++)ge!=0&&(m+=`<span class="edit-type txt-${E}${V} f3"> and </span>`),m+=`<span class="pa1 edit-text br-pill-ns txt-${E}${V} border-${E}${V}-all ${E}_below">`,m+=`&nbsp${r.substring(we[ge][1],we[ge][2])}&nbsp`,m+="</span>";m+=`<span class="edit-type txt-${E}${V} f3"> with </span>`;for(let ge=0;ge<ke.length;ge++)ge!=0&&(m+=`<span class="edit-type txt-${E}${V} f3"> and </span>`),m+=`<span class="pa1 edit-text br-pill-ns txt-${E}${V} border-${E}${V}-all ${E}_below">`,m+=`&nbsp${i.substring(ke[ge][1],ke[ge][2])}&nbsp`,m+="</span>"}else se=="reorder"&&(m+=`<span class="edit-type txt-${E}${V} f3"> ${se} </span>`,m+=`<span class="pa1 edit-text br-pill-ns txt-${E}${V} border-${E}${V}-all ${E}_below" data-id="${E}-${_}" data-category="${E}">`,m+=`&nbsp${r.substring(x[se][he][0][1],x[se][he][0][2])}&nbsp`,m+="</span>");K==1&&(m+=`<span class="edit-type txt-${E}${V} f3"> ) </span>`),this.set_annotating_edit_span(m,"","structure")}else{let m=h.find(function(x){return x.category===o&&x.id===_});if(m.hasOwnProperty("input_idx")){let x=m.input_idx[0];this.set_annotating_edit_span(r.substring(x[0],x[1]),"original")}if(m.hasOwnProperty("output_idx")){let x=m.output_idx[0];this.set_annotating_edit_span(i.substring(x[0],x[1]),"simplified")}}this.set_annotating_edit_span_category_id(_)},trash_edit(t){const r=parseInt(t.target.dataset.id.split("-")[1]),i=t.target.dataset.category,h=this.hits_data[this.current_hit-1].edits;let o=[];for(const _ of h)_.id==r&&_.category==i||o.push(_);let d=ut.cloneDeep(this.hits_data);d[this.current_hit-1].edits=o,this.set_hits_data(d)},hasAnnotation(t){return t.annotation!=null},getEditConfig(t){return this.config.config.edits.find(function(r){return r.name===t})},getAnnotationHtml(t,r){if(r==null)return"";let i="";for(let h of t){let o=h.name;if(h.hasOwnProperty("options"))if(h.options=="binary")r[o]=="yes"&&(i+=` <span class="brown ba bw1 pa1 br-pills">${o}</span>`);else if(h.options=="likert-3")r[o]!=null&&(i+=`<span class="light-pink br-pills ba bw1 pa1">${o}: ${r[o]}</span>`);else{let d=r[o].val;d!=null&&d!=""&&(i=`<span class="light-purple ba bw1 pa1">${d}</span>`,h.hasOwnProperty("options")&&(i+=this.getAnnotationHtml(h.options,r[o])))}}return i},process_edits_html(){let t="",r=ut.cloneDeep(this.hits_data[this.current_hit-1].edits);for(let i of r){let h=i.id,o=i.category,d=this.hasAnnotation(i)?"":"-light";if(t+=`
                    <div class='cf'>
                        <div class="fl w-80 mb4 edit">
                            <span data-id="${o}-${h}" data-category="${o}" class="default_cursor" @mouseover="hover_span" @mouseout="un_hover_span">
                                <span class="edit-type txt-${o}${d} f3">${o} </span>
                                <span class="pa1 edit-text br-pill-ns txt-${o}${d} border-${o}${d}-all ${o}_below" data-id="${o}-${h}" data-category="${o}">`,i.hasOwnProperty("input_idx")){let _=i.input_idx[0];t+=`
                        &nbsp${this.hits_data[this.current_hit-1].original.substring(_[0],_[1])}&nbsp</span>`}else if(i.hasOwnProperty("output_idx")){let _=i.output_idx[0];t+=`
                        &nbsp${this.hits_data[this.current_hit-1].simplified.substring(_[0],_[1])}&nbsp</span>`}if(this.getEditConfig(o).multi_span){if(i.hasOwnProperty("input_idx")){let _=i.input_idx.slice(1);for(let m of _)(m[0]!=in_span[0]||m[1]!=in_span[1])&&(t+=`
                                    <span class="edit-type txt-${o}${d} f3"> and </span>
                                        <span class="pa1 edit-text br-pill-ns txt-${o}${d} border-${o}${d}-all ${o}_below" data-id="${o}-${h}" data-category="${o}">
                                            &nbsp${this.hits_data[this.current_hit-1].original.substring(m[0],m[1])}&nbsp
                                        </span>`)}if(t+=`<span class="edit-type txt-${o}${d} f3"> with </span>`,i.hasOwnProperty("output_idx")){let _=i.output_idx;for(let m=0;m<_.length;m++){let x=_[m];m!=0&&(t+=`<span class="edit-type txt-${o}${d} f3"> and </span>`),t+=`
                                <span class="pa1 edit-text br-pill-ns txt-${o}${d} border-${o}${d}-all ${o}_below" data-id="${o}-${h}" data-category="${o}">
                                    &nbsp${this.hits_data[this.current_hit-1].simplified.substring(x[0],x[1])}&nbsp</span>`}}}if(t+=" : ",!this.hasAnnotation(i))t+=`
                        <span class="f4 i black-60">this edit is not annotated yet, click <i class="fa-solid fa-pencil"></i> to start!</span>
                    `;else{const _=this.getEditConfig(o);let m=this.getAnnotationHtml(_.annotation,i.annotation);t+=`<span class="f4 i">${m}</span>`}t+=`
                        </span>
                    </div>
                    <div class="fl w-20 mb4 operation tc">
                        <i @click="annotate_edit" class="annotation-icon fa-solid fa-pencil mr3 pointer dim" data-id="${o}-${h}" data-category="${o}"></i>
                        <i @click="trash_edit" class="fa-solid fa-trash-can ml4 pointer dim" data-id="${o}-${h}" data-category="${o}"></i>
                    </div>
                </div>`}this.set_edits_dict(r),this.edits_html=t},draw_lines:function(){let t=ut.cloneDeep(this.lines);for(let d in t)for(let _ in t[d])if(d=="substitution"||d=="reorder")t[d][_].remove();else for(let m in t[d][_])t[d][_][m].remove();t=oc;let r=this.edits_dict.substitution;if($(".substitution.original_span")[0]!=null)for(let d in r){let _="rgba(173, 197, 250, 0.4)";"annotations"in this.hits_data[[this.current_hit-1]]&&d in this.hits_data[[this.current_hit-1]].annotations.substitution&&(_="rgba(33, 134, 235, 0.46)"),t.substitution[d]=new Ui($(`.substitution.original_span[data-id='substitution-${d}']`)[0],$(`.substitution.simplified_span[data-id='substitution-${d}']`)[0],{endPlug:"behind",size:3,path:"straight",color:_})}let i=this.edits_dict.reorder;if($(".reorder.original_span")[0]!=null)for(let d in i){let _="rgba(182, 227, 229, 0.4)";"annotations"in this.hits_data[[this.current_hit-1]]&&d in this.hits_data[[this.current_hit-1]].annotations.reorder&&(_="rgba(60, 163, 167, 0.46)"),t.reorder[d]=new Ui($(`.reorder.original_span[data-id='reorder-${d}']`)[0],$(`.reorder.simplified_span[data-id='reorder-${d}']`)[0],{endPlug:"behind",size:3,path:"straight",color:_})}let h=this.edits_dict.split;if(h!={})for(let d in h){let _="rgba(250, 229, 175, 0.4)";"annotations"in this.hits_data[[this.current_hit-1]]&&d in this.hits_data[[this.current_hit-1]].annotations.split&&(_="rgba(247, 206, 70, 0.46)"),t.split[d]=[];for(let m in h[d])for(let x in h[d][m])h[d][m][x],m=="deletion"?t.split[d].push(new Ui($(`.split.original_span[data-id='split-${d}'][data-childcategory=${m}][data-childid=${x}]`)[0],$(`.split.split-sign[data-id='split-${d}']`)[0],{endPlug:"arrow3",size:3,path:"straight",color:_})):m=="insertion"?t.split[d].push(new Ui($(`.split.simplified_span[data-id='split-${d}'][data-childcategory=${m}][data-childid=${x}]`)[0],$(`.split.split-sign[data-id='split-${d}']`)[0],{endPlug:"arrow3",size:3,path:"arc",color:_})):(m=="substitution"||m=="reorder")&&(t.split[d].push(new Ui($(`.split.original_span[data-id='split-${d}'][data-childcategory=${m}][data-childid=${x}]`)[0],$(`.split.simplified_span[data-id='split-${d}'][data-childcategory=${m}][data-childid=${x}]`)[0],{endPlug:"behind",size:3,path:"straight",color:_})),t.split[d].push(new Ui($(`.split.simplified_span[data-id='split-${d}'][data-childcategory=${m}][data-childid=${x}]`)[0],$(`.split.split-sign[data-id='split-${d}']`)[0],{endPlug:"arrow3",size:3,path:"arc",color:_})))}let o=this.edits_dict.structure;if(o!={})for(let d in o){let _="rgba(242, 189, 161, 0.4)";"annotations"in this.hits_data[[this.current_hit-1]]&&d in this.hits_data[[this.current_hit-1]].annotations.structure&&(_="rgba(230, 124, 67, 0.46)"),t.structure[d]=[];for(let m in o[d])for(let x in o[d][m])o[d][m][x],(m=="substitution"||m=="reorder")&&t.structure[d].push(new Ui($(`.structure.original_span[data-id='structure-${d}'][data-childcategory=${m}][data-childid=${x}]`)[0],$(`.structure.simplified_span[data-id='structure-${d}'][data-childcategory=${m}][data-childid=${x}]`)[0],{endPlug:"behind",size:3,path:"straight",color:_}))}this.set_lines(t)}},computed:{get_edits_html(){return{template:`<div id="edits_html" class="f4 lh-paras">${this.edits_html}</div>`,methods:{annotate_edit:this.annotate_edit,trash_edit:this.trash_edit}}}}},K1=Object.assign(Y1,{__name:"EditList",setup(t){return(r,i)=>(qe(),ta(Cl(r.get_edits_html)))}}),Z1={class:"mt1 cf"},X1={class:"fl w-80"},j1={class:"f3 courier ttu"},Q1={class:"fl w-20 tc"},J1=ae("i",{class:"fa-solid fa-plus fa-1-5x icon-default pointer mr2"},null,-1),em=ae("span",{class:"f4"},"Add Edit",-1),tm=[J1,em],nm={id:"hits-data",class:"mt1 dn"},im={props:["hits_data","set_hits_data","current_hit","edits_dict","set_edits_dict","editor_open","set_editor_state","refresh_interface_edit","annotating_edit_span_category_id","set_annotating_edit_span_category_id","annotating_edit_span","set_annotating_edit_span","lines","set_lines","config"],data(){return{}},methods:{add_an_edit(){this.editor_open?($("#add_an_edit").hide(400),$(".icon-default").removeClass("open")):($("#add_an_edit").slideDown(400),$(".icon-default").addClass("open")),this.set_editor_state(!this.editor_open)}},computed:{annotated_edits(){if(this.hits_data==null)return 0;let t=this.hits_data[this.current_hit-1].edits;if(t==null)return 0;var r=0;return t.forEach(function(i){i.hasOwnProperty("annotation")&&i.annotation!==null&&r++}),r},total_edits(){if(this.hits_data==null)return 0;let t=this.hits_data[this.current_hit-1].edits;return t==null?0:t.length}}},rm=Object.assign(im,{__name:"AnnotationViewer",setup(t){return(r,i)=>(qe(),Xe("section",null,[ae("div",Z1,[ae("div",X1,[ae("p",j1,[At("Edit Annotations ("),ae("span",null,_t(r.annotated_edits)+"/"+_t(r.total_edits),1),At(")")])]),ae("div",Q1,[ae("p",{onClick:i[0]||(i[0]=(...h)=>r.add_an_edit&&r.add_an_edit(...h)),class:"add_button pa2 br-pill-ns ba bw1 grow"},tm)])]),ae("div",null,[Si(K1,wi(r.$props,{config:t.config}),null,16,["config"])]),ae("div",nm,_t(t.hits_data),1)]))}}),am={data(){return{original_html:"",enable_select_original_sentence:!0}},props:["hits_data","current_hit","edits_dict","selected_span_in_original","selected_span_in_original_indexs","selected_span_in_original_category","selected_edits_html","selected_edits","set_selected_edits","selected_split","selected_split_id","set_span_text","set_span_indices","set_span_category","remove_selected","lines","set_lines","process_edit_list","hasAnnotations","is_selected","get_selected_index","multi_select_enabled","render_sentence"],watch:{current_hit(){this.process_original_html()},hits_data(){this.process_original_html()},set_span_text(){this.process_original_html()},selected_span_in_original(){this.process_original_html_with_selected_span(this.selected_span_in_original_category)}},methods:{process_original_html(){this.process_original_html_with_selected_span(null)},process_original_html_with_selected_span(t){const r="input_idx",i="original_span",h=this.hits_data[this.current_hit-1].original;this.original_html=this.render_sentence(h,r,i,t)},click_span(t){const r=this.edits_dict,i=t.target.dataset.category,h=t.target.dataset.id,o=h.split("-")[1];if($(".quality-selection").is(":visible")){let d=ut.cloneDeep(this.selected_edits);const _=$("input[name=edit_cotegory]:checked").val();(_=="split"||_=="structure")&&(o in d[i]?delete d[i][o]:d[i][o]=r[i][o]),this.set_selected_edits(d)}else $(`.annotation-icon[data-id=${h}]`).click()},hover_span(t){if($(".quality-selection").is(":visible"))return;const r=t.target.dataset.category,h=t.target.dataset.id.split("-")[1];let o,d;t.target.classList.contains(`border-${r}-light`)?(o=`bg-${r}-light`,d="rgba(173, 197, 250, 1.0)"):(o=`bg-${r}`,d="rgba(33, 134, 235, 1.0)");let _=$(`.${r}[data-id=${t.target.dataset.id}]`),m=$(`.${r}_below[data-id=${t.target.dataset.id}]`);_.addClass(`white ${o}`),m.addClass(`white ${o}`),m.removeClass(`txt-${r} txt-${r}-light`);let x=ut.cloneDeep(this.lines);try{r=="substitution"&&(x[r][h].color=d)}catch(E){console.log(E)}this.set_lines(x)},un_hover_span(t){if($(".quality-selection").is(":visible"))return;const r=t.target.dataset.category,h=t.target.dataset.id.split("-")[1];let o,d;t.target.classList.contains(`border-${r}-light`)?(o="rgba(173, 197, 250, 0.4)",d=`txt-${r}-light`):(o="rgba(33, 134, 235, 0.46)",d=`txt-${r}`);let _=$(`.${r}[data-id=${t.target.dataset.id}]`),m=$(`.${r}_below[data-id=${t.target.dataset.id}]`);m.addClass(d),_.removeClass(`white bg-${r} bg-${r}-light`),m.removeClass(`white bg-${r} bg-${r}-light`);let x=ut.cloneDeep(this.lines);try{r=="substitution"&&(x[r][h].color=o)}catch(E){console.log(E)}this.set_lines(x)},select_original_html(){if(!this.enable_select_original_sentence)return;let t=$("input[name=edit_cotegory]:checked").val(),r=window.getSelection();if(r.anchorNode!=r.focusNode||r.anchorNode==null){this.process_original_html_with_selected_span(t);return}let i=r.getRangeAt(0),[h,o]=[i.startOffset,i.endOffset];if(h==o)return;o-=1;let d=this.hits_data[this.current_hit-1].original;for(;d.charAt(h)==" ";)h+=1;for(;h-1>=0&&d.charAt(h-1)!=" ";)h-=1;for(;d.charAt(o)==" ";)o-=1;for(;o+1<=d.length-1&&d.charAt(o+1)!=" ";)o+=1;if(o+=1,h>=o){this.process_original_html_with_selected_span(t);return}if(this.set_span_text(" "+d.substring(h,o)+" ","original"),this.enable_multi_select_original_sentence){let _=this.selected_span_in_original_indexs;_.push([h,o]),set_span_indices(_,"original");let m="";for(let x=0;x<_.length;x++){let[E,V]=_[x];m+=`
                    <span class="bg-substitution-light"> 
                        <span @click="remove_selected('${t}', ${E}, ${V})" class="hover-white black br-pill mr1 pointer">✘</span>
                            ${d.substring(E,V)} 
                        </span>
                    &nbsp&nbsp`}this.set_span_text(m,"original")}else this.set_span_indices([h,o],"original");this.set_span_category(t,"original"),this.process_original_html_with_selected_span(t)},deselect_original_html(){this.enable_select_original_sentence&&($("#original-sentence").html(this.hits_data[this.current_hit-1].original),this.original_html=this.hits_data[this.current_hit-1].original)}},computed:{get_original_html(){return{template:`<div @mousedown='deselect_original_html' @mouseup='select_original_html' id="original-sentence" class="f4 lh-paras">${this.original_html}</div>`,methods:{remove_selected:this.remove_selected,select_original_html:this.select_original_html,deselect_original_html:this.deselect_original_html,hover_span:this.hover_span,un_hover_span:this.un_hover_span,click_span:this.click_span}}}}},sm=Object.assign(am,{__name:"OriginalSent",setup(t){return(r,i)=>(qe(),ta(Cl(r.get_original_html)))}}),lm={data(){return{simplified_html:"",enable_select_simplified_sentence:!0}},props:["hits_data","current_hit","edits_dict","selected_span_in_simplified","selected_span_in_simplified_indexs","selected_span_in_simplified_category","selected_edits_html","selected_edits","set_selected_edits","selected_split","selected_split_id","set_span_text","set_span_indices","set_span_category","remove_selected","lines","set_lines","process_edit_list","hasAnnotations","is_selected","get_selected_index","multi_select_enabled","render_sentence"],watch:{current_hit(){this.process_simplified_html()},hits_data(){this.process_simplified_html()},set_span_text(){this.process_simplified_html()},selected_span_in_simplified(t){this.process_simplified_html_with_selected_span(this.selected_span_in_simplified_category)}},methods:{process_simplified_html(){const t="output_idx",r="simplified_span",i=this.hits_data[this.current_hit-1].simplified;this.simplified_html=this.render_sentence(i,t,r,null)},process_simplified_html_with_selected_span(t){const r="output_idx",i="simplified_span",h=this.hits_data[this.current_hit-1].simplified;this.simplified_html=this.render_sentence(h,r,i,t)},click_span(t){let r=this.edits_dict,i=t.target.dataset.category,h=t.target.dataset.id,o=h.split("-")[1];if($(".quality-selection").is(":visible")){if($("input[name=edit_cotegory]:checked").val()=="split"){let d=parseInt(o)+1;if(t.target.classList.contains("split-sign"))d==1?this.selected_split="the 1st split":d==2?this.selected_split="the 2nd split":d==3?this.selected_split="the 3rd split":this.selected_split=`the ${d}th split`,this.selected_split_id=parseInt(o);else{let _=ut.cloneDeep(this.selected_edits);o in _[i]?delete _[i][o]:_[i][o]=r[i][o],this.set_selected_edits(_)}}if($("input[name=edit_cotegory]:checked").val()=="structure"){let d=ut.cloneDeep(this.selected_edits);o in d[i]?delete d[i][o]:d[i][o]=r[i][o],this.set_selected_edits(d)}}else $(`.annotation-icon[data-id=${h}]`).click()},hover_span(t){if($(".quality-selection").is(":visible"))return;let r=t.target.dataset.category,i=$(`.${r}[data-id=${t.target.dataset.id}]`);i.addClass("white");let h=$(`.split-sign[data-id=${t.target.dataset.id}]`),o=$(`.${r}_below[data-id=${t.target.dataset.id}]`);o.addClass("white"),o.removeClass(`txt-${r}`),o.removeClass(`txt-${r}-light`);let _=t.target.dataset.id.split("-")[1];if(t.target.classList.contains("split-sign"))if(t.target.classList.contains(`txt-${r}-light`)){i.addClass(`bg-${r}-light`),i.addClass("white"),i.removeClass(`txt-${r}-light`),o.addClass(`bg-${r}-light`);return}else{i.addClass(`bg-${r}`),i.addClass("white"),i.removeClass(`txt-${r}`),o.addClass(`bg-${r}`);return}let m=ut.cloneDeep(this.lines);if(t.target.classList.contains(`border-${r}-light`)){i.addClass(`bg-${r}-light`),r=="split"&&h.removeClass(`txt-${r}-light`),o.addClass(`bg-${r}-light`);try{r=="substitution"&&(m[r][_].color="rgba(173, 197, 250, 1.0)")}catch(x){console.log(x)}}else{i.addClass(`bg-${r}`),r=="split"&&h.removeClass(`txt-${r}`),o.addClass(`bg-${r}`);try{r=="substitution"&&(m[r][_].color="rgba(33, 134, 235, 1.0)")}catch(x){console.log(x)}}this.set_lines(m)},un_hover_span(t){if($(".quality-selection").is(":visible"))return;let r=t.target.dataset.category,i=$(`.${r}[data-id=${t.target.dataset.id}]`);i.removeClass("white");let h=$(`.split-sign[data-id=${t.target.dataset.id}]`),o=$(`.${r}_below[data-id=${t.target.dataset.id}]`);o.removeClass("white");let _=t.target.dataset.id.split("-")[1],m=o.attr("class").split(/\s+/);if(t.target.classList.contains("split-sign"))if(m.includes(`bg-${r}-light`)){i.removeClass(`bg-${r}-light`),i.removeClass("white"),h.addClass(`txt-${r}-light`),o.removeClass(`bg-${r}-light`),o.addClass(`txt-${r}-light`);return}else{i.removeClass(`bg-${r}`),i.removeClass("white"),h.addClass(`txt-${r}`),o.removeClass(`bg-${r}`),o.addClass(`txt-${r}`);return}let x=ut.cloneDeep(this.lines);if(t.target.classList.contains(`border-${r}-light`)){o.addClass(`txt-${r}-light`),r=="split"&&h.addClass(`txt-${r}-light`);try{r=="substitution"&&(x[r][_].color="rgba(173, 197, 250, 0.4)")}catch(E){console.log(E)}}else{o.addClass(`txt-${r}`),r=="split"&&h.addClass(`txt-${r}`);try{r=="substitution"&&(console.log(x[r]),x[r][_].color="rgba(33, 134, 235, 0.46)")}catch(E){console.log(E)}}this.set_lines(x),i.removeClass(`bg-${r}`),i.removeClass(`bg-${r}-light`),o.removeClass(`bg-${r}`),o.removeClass(`bg-${r}-light`)},select_simplified_html(t){if(!this.enable_select_simplified_sentence)return;let r=$("input[name=edit_cotegory]:checked").val(),i=window.getSelection();if(i.anchorNode!=i.focusNode||i.anchorNode==null){this.process_simplified_html_with_selected_span(r);return}let h=i.getRangeAt(0),[o,d]=[h.startOffset,h.endOffset];if(o==d)return;d-=1;let _=this.hits_data[this.current_hit-1].simplified;for(;_.charAt(o)==" ";)o+=1;for(;o-1>=0&&_.charAt(o-1)!=" ";)o-=1;for(;_.charAt(d)==" ";)d-=1;for(;d+1<=_.length-1&&_.charAt(d+1)!=" ";)d+=1;if(d+=1,o>=d){this.process_simplified_html_with_selected_span(r);return}if(this.set_span_text(" "+_.substring(o,d)+" ","simplified"),this.enable_multi_select_simplified_sentence){let m=this.selected_span_in_simplified_indexs;m.push([o,d]),this.set_span_indices(m,"simplified");let x="";for(let E=0;E<m.length;E++){let[V,K]=m[E];x+=`<span class="bg-substitution-light"> 
                        <span @click="remove_selected('${r}',${V},${K})" class="hover-white black br-pill mr1 pointer">✘</span>
                            ${_.substring(V,K)} </span>&nbsp&nbsp`}this.set_span_text(x,"simplified")}else this.set_span_indices([o,d],"simplified");this.set_span_category(r,"simplified"),this.process_simplified_html_with_selected_span(r)},deselect_simplified_html(t){this.enable_select_simplified_sentence&&($("#simplified-sentence").html(this.hits_data[this.current_hit-1].simplified),this.simplified_html=this.hits_data[this.current_hit-1].simplified)}},computed:{get_simplified_html(){return{template:` <div @mousedown='deselect_simplified_html' @mouseup='select_simplified_html' id="simplified-sentence" class="f4 lh-paras"> ${this.simplified_html} </div> `,methods:{remove_selected:this.remove_selected,select_simplified_html:this.select_simplified_html,deselect_simplified_html:this.deselect_simplified_html,hover_span:this.hover_span,un_hover_span:this.un_hover_span,click_span:this.click_span}}}}},om=Object.assign(lm,{__name:"SimplifiedSent",setup(t){return(r,i)=>(qe(),ta(Cl(r.get_simplified_html)))}}),um={data(){return{}},props:["hits_data","current_hit","edits_dict","selected_edits_html","selected_edits","set_selected_edits","selected_split","selected_split_id","set_span_text","set_span_indices","set_span_category","remove_selected","lines","set_lines","sent_type","selected_span_in_original","selected_span_in_original_indexs","selected_span_in_original_category","selected_span_in_simplified","selected_span_in_simplified_indexs","selected_span_in_simplified_category"],methods:{process_edit_list(t,r){return t=t.map(i=>{let h=[];if(i.hasOwnProperty("constituent_edits")){for(const o of i.constituent_edits)if(o.hasOwnProperty(r))for(const d of o[r])h.push({[r]:d,category:i.category,child_category:o.category,id:i.id,child_id:o.id,annotation:i.annotation})}if(i.hasOwnProperty(r))for(const o of i[r])h.push({[r]:o,category:i.category,id:i.id,annotation:i.annotation});return h}),t=[].concat(...t),t.sort(function(i,h){return i[r][0]-h[r][0]||i[r][1]-h[r][1]}),t},hasAnnotations(t){return"annotation"in t&&t.annotation!=null&&t.annotation!=""},is_selected(t,r,i){let h;const o=this.get_selected_index(r);return this.multi_select_enabled(r)?h=o.some(d=>next_edit[r][0]==d[0]&&next_edit[r][1]==d[1]&&next_edit.category==i):h=t[r][0]==o[0]&&t[r][1]==o[1]&&t.category==i,h},get_selected_index(t){if(t=="input_idx")return ut.cloneDeep(this.selected_span_in_original_indexs);if(t=="output_idx")return ut.cloneDeep(this.selected_span_in_simplified_indexs)},multi_select_enabled(t){if(t=="input_idx")return this.enable_multi_select_original_sentence;if(t=="output_idx")return this.enable_multi_select_simplified_sentence},render_sentence(t,r,i,h){let o=0,d="",_=ut.cloneDeep(this.hits_data[this.current_hit-1].edits);const m=h!=null;if(m){const E=this.get_selected_index(r);if(this.multi_select_enabled(r)&&Array.isArray(E[0]))for(let V=0;V<E.length;V++)_.push({category:h,[r]:[E[V]]});else _.push({category:h,[r]:[E]})}const x=this.process_edit_list(_,r);for(let E=0;E<x.length;E++){let V=x[E],K=x[E+1];d+=t.substring(o,V[r][0]);let se=this.hasAnnotations(V)?"":"-light",he=E<x.length-1&&K[r][0]<=V[r][1]?"outside":"",we=V.hasOwnProperty("child_category")?`data-childcategory=${V.child_category} data-childid=${V.child_id}`:"";m&&this.is_selected(V,r,h)?d+=`
                        <span @mouseover.stop @mouseout.stop class="bg-${V.category}-light span ${he}">`:d+=`
                        <span @click="click_span" @mouseover="hover_span" @mouseout="un_hover_span" class="${V.category} border-${V.category}${se} pointer span ${i} ${he}" data-category="${V.category}" data-id="${V.category}-${V.id}" ${we}>`;let ke=E,ge=!1;for(;E<x.length-1&&K[r][0]<=x[ke][r][1];){if(E==ke)d+=t.substring(V[r][0],K[r][0]);else{let nt=E;ge&&(nt-=1),d+=t.substring(x[nt][r][1],K[r][0])}ge=!1;let Qe=E<x.length-2&&x[E+2][r][0]<=K[r][1]?"middleside":"",Pe=this.hasAnnotations(V)?"":"-light",Pt=V.hasOwnProperty("child_category")?`data-childcategory=${V.child_category} data-childid=${V.child_id}`:"";if(m&&this.is_selected(V,r,h)?d+=`
                            <span @mouseover.stop @mouseout.stop class="bg-${V.category}-light span ${Qe}">`:d+=`
                            <span @mouseover.stop @mouseout.stop @click.stop @click="click_span" @mouseover="hover_span" @mouseout="un_hover_span" class="${K.category} border-${K.category}${Pe} pointer span ${i} ${Qe}" data-category="${K.category}" data-id="${K.category}-${K.id}" ${Pt}>`,E++,V=x[E],K=x[E+1],E<x.length-1&&K[r][0]<=V[r][1]){ge=!0;let nt=x[E+1];d+=t.substring(V[r][0],nt[r][0]);let Bt=this.hasAnnotations(nt)?"":"-light";Pt=nt.hasOwnProperty("child_category")?`data-childcategory=${nt.child_category} data-childid=${nt.child_id}`:"",m&&this.is_selected(V,r,h)?d+=`
                                <span @mouseover.stop @mouseout.stop class="bg-${next_category}-light span">`:d+=`
                                <span @mouseover.stop @mouseout.stop @click.stop @click="click_span" @mouseover="hover_span" @mouseout="un_hover_span" class="${nt.category} border-${nt.category}${Bt} pointer span ${i}" data-category="${nt.category}" data-id="${nt.category}-${nt.id}" ${Pt}>`,d+=`
                                ${t.substring(nt[r][0],nt[r][1])}</span>
                            ${t.substring(nt[r][1],V[r][1])}</span>`,E++,V=x[E],K=x[E+1]}else K=x[E+1],d+=`
                            ${t.substring(K[r][0],K[r][1])}</span>`}if(ke!=E){let Qe=E;ke!=E&&ge&&(Qe-=1),d+=`
                        ${t.substring(x[Qe][r][1],x[ke][r][1])}</span>`,o=x[ke][r][1]}else d+=`
                        ${t.substring(x[ke][r][0],x[ke][r][1])}</span>`,o=x[ke][r][1]}return d+=t.substring(o),d}}},Wu=Object.assign(um,{__name:"Sent",setup(t){return(r,i)=>(qe(),Xe("div",null,[t.sent_type==="original"?(qe(),ta(sm,wi({key:0,sent_type:"original"},r.$props,{remove_selected:t.remove_selected,process_edit_list:r.process_edit_list,hasAnnotations:r.hasAnnotations,is_selected:r.is_selected,get_selected_index:r.get_selected_index,multi_select_enabled:r.multi_select_enabled,render_sentence:r.render_sentence}),null,16,["remove_selected","process_edit_list","hasAnnotations","is_selected","get_selected_index","multi_select_enabled","render_sentence"])):t.sent_type==="simplified"?(qe(),ta(om,wi({key:1,sent_type:"simplified"},r.$props,{remove_selected:t.remove_selected,process_edit_list:r.process_edit_list,hasAnnotations:r.hasAnnotations,is_selected:r.is_selected,get_selected_index:r.get_selected_index,multi_select_enabled:r.multi_select_enabled,render_sentence:r.render_sentence}),null,16,["remove_selected","process_edit_list","hasAnnotations","is_selected","get_selected_index","multi_select_enabled","render_sentence"])):ri("",!0)]))}});async function cm(t){return new Promise((r,i)=>{const h=new FileReader;h.onload=o=>r(JSON.parse(o.target.result)),h.onerror=o=>i(o),h.readAsText(t)})}async function hm(t){let r=t.target.files[0];return await cm(r)}function fm(t){var r=JSON.stringify(t),i=URL.createObjectURL(new Blob([r],{type:"application/json"}));$("<a>").attr({href:i,download:o1}).appendTo("body")[0].click(),URL.revokeObjectURL(i)}function Ob(){let r=new URLSearchParams(window.location.search).get("data");return r??null}function $b(t){return fetch(t).then(r=>r.json()).then(r=>r)}function Mb(t){return fetch(t).then(r=>r.text()).then(r=>r)}const dm={id:"hit"},pm={class:"cf mt1"},_m={class:"fl mb3 tc f3 w-20 mt1 hit-selector"},gm={class:"fr mt1 mr1"},mm=ae("label",{class:"file-upload file-download br-100 w2-5 h2-5 pointer",for:"download-btn"},[ae("i",{class:"fa fa-arrow-down"})],-1),vm={class:"fr mt1 mr2 ml2"},ym=ae("label",{class:"file-upload br-100 w2-5 h2-5 pointer",for:"upload-btn"},[ae("i",{class:"fa fa-arrow-up"})],-1),bm={class:"fr mr3"},xm=["onClick"],Sm={class:"tooltiptext"},wm={class:"mt2"},Em=["onClick"],km={class:"tooltiptext"},Am={class:"ba b--black-80 br2 pa2"},Cm={class:"cf"},Om={class:"fl f3 mt1 mb1 orig-sentence-header"},$m={class:"f5"},Mm={class:"fr"},Im={class:"f3 mb1"},Lm={class:"f5"},Tm={props:["hits_data","current_hit","total_hits","edits_dict","set_hit","selected_span_in_simplified","selected_span_in_simplified_indexs","selected_span_in_simplified_category","selected_span_in_original","selected_span_in_original_indexs","selected_span_in_original_category","selected_edits_html","selected_edits","set_selected_edits","selected_split","selected_split_id","set_span_text","set_span_indices","set_edit_html","set_span_category","refresh_interface_edit","set_hits_data","lines","set_lines","config"],data(){return{}},watch:{current_hit(){this.setup_hit_box()},hits_data(){this.setup_hit_box()}},methods:{setup_hit_box(){$(".circle").removeClass("circle-active"),$(`#circle-${this.current_hit}`).addClass("circle-active"),"bookmark"in this.hits_data[this.current_hit-1]&&this.hits_data[this.current_hit-1].bookmark?$(".bookmark").addClass("bookmark-active"):$(".bookmark").removeClass("bookmark-active"),"comment"in this.hits_data[this.current_hit-1]?$("#comment_area").val(this.hits_data[this.current_hit-1].comment):$("#comment_area").val("")},go_to_hit(t){t>this.total_hits?this.set_hit(this.total_hits):t<1?this.set_hit(1):this.set_hit(t),this.setup_hit_box()},go_to_hit_circle(t){t>this.total_hits?this.set_hit(this.total_hits):t<1?this.set_hit(1):this.set_hit(t),this.setup_hit_box()},bookmark_hit(){let t=ut.cloneDeep(this.hits_data);"bookmark"in this.hits_data[this.current_hit-1]?(t[this.current_hit-1].bookmark=!this.hits_data[this.current_hit-1].bookmark,this.set_hits_data(t)):(t[this.current_hit-1].bookmark=!0,this.set_hits_data(t)),$(".bookmark").hasClass("bookmark-active")?($(".bookmark").removeClass("bookmark-active"),$(`#circle-${this.current_hit}`).removeClass("circle-bookmark")):($(".bookmark").addClass("bookmark-active"),$(`#circle-${this.current_hit}`).addClass("circle-bookmark"))},restart_hit(){let t=ut.cloneDeep(this.hits_data);t[this.current_hit-1].edits=[],this.set_hits_data(t),this.refresh_interface_edit(),this.setup_hit_box()},remove_selected(t,r,i){if(this.span_type=="original"){let h=this.hits_data[this.current_hit-1].original,o=this.selected_span_in_original_indexs;for(let _ in o){let m=o[_];if(m[0]==r&&m[1]==i){o.splice(_,1);break}}this.set_span_indices(o,"original");let d="";for(let _=0;_<o.length;_++){let[m,x]=o[_];d+='<span class="bg-substitution-light"> ',d+=`<span @click="remove_selected('${t}',${m},${x})" class="hover-white black br-pill mr1 pointer">✘</span>`,d+=h.substring(m,x)+" ",d+="</span>",d+="&nbsp&nbsp"}this.set_span_text(d,"original")}else if(this.span_type=="simplified"){let h=this.hits_data[this.current_hit-1].simplified,o=this.selected_span_in_simplified_indexs;for(let _ in o){let m=o[_];if(m[0]==r&&m[1]==i){o.splice(_,1);break}}this.set_span_indices(o,"simplified");let d="";for(let _=0;_<o.length;_++){let[m,x]=o[_];d.substring(m,x),d+='<span class="bg-substitution-light"> ',d+=`<span @click="remove_selected('${t}',${m},${x})" class="hover-white black br-pill mr1 pointer">✘</span>`,d+=h.substring(m,x)+" ",d+="</span>",d+="&nbsp&nbsp"}this.set_span_text(d,"simplified")}},file_download(){fm(this.hits_data)},async file_upload(t){let r=await hm(t);this.set_hits_data(r),this.set_hit(1),this.setup_hit_box()}}},Rm=Object.assign(Tm,{__name:"HitBox",setup(t){return(r,i)=>(qe(),Xe("section",dm,[ae("div",pm,[ae("div",_m,[ae("button",{onClick:i[0]||(i[0]=h=>r.go_to_hit(t.current_hit-1)),class:"mid-gray br-100 pa1 bw0 bg-near-white pointer prev-next-btns"}," < "),At(" Hit "),ae("span",null,_t(t.current_hit),1),At(" / "),ae("span",null,_t(t.total_hits)+" ",1),ae("button",{onClick:i[1]||(i[1]=h=>r.go_to_hit(t.current_hit+1)),class:"mid-gray br-100 pa1 bw0 bg-near-white pointer prev-next-btns"}," > ")]),ae("div",gm,[ae("input",{type:"button",id:"download-btn",onClick:i[2]||(i[2]=(...h)=>r.file_download&&r.file_download(...h))}),mm]),ae("div",vm,[ae("input",{type:"file",id:"upload-btn",onChange:i[3]||(i[3]=(...h)=>r.file_upload&&r.file_upload(...h))},null,32),ym]),ae("div",bm,[ae("div",null,[(qe(!0),Xe(bi,null,xi(Math.floor(t.total_hits/2),h=>(qe(),Xe("span",{key:"circle-"+h,onClick:o=>r.go_to_hit_circle(h,r.$e),class:"circle pointer"},[ae("span",Sm,_t(h),1)],8,xm))),128))]),ae("div",wm,[(qe(!0),Xe(bi,null,xi(Math.ceil(t.total_hits/2),h=>(qe(),Xe("span",{key:"circle-"+(h+Math.floor(t.total_hits/2)),onClick:o=>r.go_to_hit_circle(h+Math.floor(t.total_hits/2),r.$e),class:"circle pointer"},[ae("span",km,_t(h+Math.floor(t.total_hits/2)),1)],8,Em))),128))])])]),ae("div",null,[ae("div",Am,[ae("div",Cm,[ae("p",Om,[ae("span",$m,_t(this.config.config.input_label)+":",1)]),ae("div",Mm,[ae("i",{onClick:i[4]||(i[4]=(...h)=>r.restart_hit&&r.restart_hit(...h)),class:"fa-solid fa-arrows-rotate fa-lg pointer mr2"}),ae("i",{onClick:i[5]||(i[5]=(...h)=>r.bookmark_hit&&r.bookmark_hit(...h)),class:"bookmark fa-regular fa-bookmark fa-lg pointer ml1"})])]),Si(Wu,wi({sent_type:"original"},r.$props,{remove_selected:r.remove_selected}),null,16,["remove_selected"]),ae("p",Im,[ae("span",Lm,_t(this.config.config.output_label)+":",1)]),Si(Wu,wi({sent_type:"simplified"},r.$props,{remove_selected:r.remove_selected}),null,16,["remove_selected"])])])]))}});function rs(t){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},rs(t)}var Pm=/^\s+/,Fm=/\s+$/;function be(t,r){if(t=t||"",r=r||{},t instanceof be)return t;if(!(this instanceof be))return new be(t,r);var i=Nm(t);this._originalInput=t,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=Math.round(100*this._a)/100,this._format=r.format||i.format,this._gradientType=r.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=i.ok}be.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var r=this.toRgb();return(r.r*299+r.g*587+r.b*114)/1e3},getLuminance:function(){var r=this.toRgb(),i,h,o,d,_,m;return i=r.r/255,h=r.g/255,o=r.b/255,i<=.03928?d=i/12.92:d=Math.pow((i+.055)/1.055,2.4),h<=.03928?_=h/12.92:_=Math.pow((h+.055)/1.055,2.4),o<=.03928?m=o/12.92:m=Math.pow((o+.055)/1.055,2.4),.2126*d+.7152*_+.0722*m},setAlpha:function(r){return this._a=uc(r),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var r=Hu(this._r,this._g,this._b);return{h:r.h*360,s:r.s,v:r.v,a:this._a}},toHsvString:function(){var r=Hu(this._r,this._g,this._b),i=Math.round(r.h*360),h=Math.round(r.s*100),o=Math.round(r.v*100);return this._a==1?"hsv("+i+", "+h+"%, "+o+"%)":"hsva("+i+", "+h+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var r=Vu(this._r,this._g,this._b);return{h:r.h*360,s:r.s,l:r.l,a:this._a}},toHslString:function(){var r=Vu(this._r,this._g,this._b),i=Math.round(r.h*360),h=Math.round(r.s*100),o=Math.round(r.l*100);return this._a==1?"hsl("+i+", "+h+"%, "+o+"%)":"hsla("+i+", "+h+"%, "+o+"%, "+this._roundA+")"},toHex:function(r){return Gu(this._r,this._g,this._b,r)},toHexString:function(r){return"#"+this.toHex(r)},toHex8:function(r){return Vm(this._r,this._g,this._b,this._a,r)},toHex8String:function(r){return"#"+this.toHex8(r)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(ot(this._r,255)*100)+"%",g:Math.round(ot(this._g,255)*100)+"%",b:Math.round(ot(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(ot(this._r,255)*100)+"%, "+Math.round(ot(this._g,255)*100)+"%, "+Math.round(ot(this._b,255)*100)+"%)":"rgba("+Math.round(ot(this._r,255)*100)+"%, "+Math.round(ot(this._g,255)*100)+"%, "+Math.round(ot(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Jm[Gu(this._r,this._g,this._b,!0)]||!1},toFilter:function(r){var i="#"+Uu(this._r,this._g,this._b,this._a),h=i,o=this._gradientType?"GradientType = 1, ":"";if(r){var d=be(r);h="#"+Uu(d._r,d._g,d._b,d._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+i+",endColorstr="+h+")"},toString:function(r){var i=!!r;r=r||this._format;var h=!1,o=this._a<1&&this._a>=0,d=!i&&o&&(r==="hex"||r==="hex6"||r==="hex3"||r==="hex4"||r==="hex8"||r==="name");return d?r==="name"&&this._a===0?this.toName():this.toRgbString():(r==="rgb"&&(h=this.toRgbString()),r==="prgb"&&(h=this.toPercentageRgbString()),(r==="hex"||r==="hex6")&&(h=this.toHexString()),r==="hex3"&&(h=this.toHexString(!0)),r==="hex4"&&(h=this.toHex8String(!0)),r==="hex8"&&(h=this.toHex8String()),r==="name"&&(h=this.toName()),r==="hsl"&&(h=this.toHslString()),r==="hsv"&&(h=this.toHsvString()),h||this.toHexString())},clone:function(){return be(this.toString())},_applyModification:function(r,i){var h=r.apply(null,[this].concat([].slice.call(i)));return this._r=h._r,this._g=h._g,this._b=h._b,this.setAlpha(h._a),this},lighten:function(){return this._applyModification(qm,arguments)},brighten:function(){return this._applyModification(zm,arguments)},darken:function(){return this._applyModification(Ym,arguments)},desaturate:function(){return this._applyModification(Hm,arguments)},saturate:function(){return this._applyModification(Gm,arguments)},greyscale:function(){return this._applyModification(Um,arguments)},spin:function(){return this._applyModification(Km,arguments)},_applyCombination:function(r,i){return r.apply(null,[this].concat([].slice.call(i)))},analogous:function(){return this._applyCombination(jm,arguments)},complement:function(){return this._applyCombination(Zm,arguments)},monochromatic:function(){return this._applyCombination(Qm,arguments)},splitcomplement:function(){return this._applyCombination(Xm,arguments)},triad:function(){return this._applyCombination(qu,[3])},tetrad:function(){return this._applyCombination(qu,[4])}};be.fromRatio=function(t,r){if(rs(t)=="object"){var i={};for(var h in t)t.hasOwnProperty(h)&&(h==="a"?i[h]=t[h]:i[h]=Jr(t[h]));t=i}return be(t,r)};function Nm(t){var r={r:0,g:0,b:0},i=1,h=null,o=null,d=null,_=!1,m=!1;return typeof t=="string"&&(t=iv(t)),rs(t)=="object"&&(ii(t.r)&&ii(t.g)&&ii(t.b)?(r=Dm(t.r,t.g,t.b),_=!0,m=String(t.r).substr(-1)==="%"?"prgb":"rgb"):ii(t.h)&&ii(t.s)&&ii(t.v)?(h=Jr(t.s),o=Jr(t.v),r=Wm(t.h,h,o),_=!0,m="hsv"):ii(t.h)&&ii(t.s)&&ii(t.l)&&(h=Jr(t.s),d=Jr(t.l),r=Bm(t.h,h,d),_=!0,m="hsl"),t.hasOwnProperty("a")&&(i=t.a)),i=uc(i),{ok:_,format:t.format||m,r:Math.min(255,Math.max(r.r,0)),g:Math.min(255,Math.max(r.g,0)),b:Math.min(255,Math.max(r.b,0)),a:i}}function Dm(t,r,i){return{r:ot(t,255)*255,g:ot(r,255)*255,b:ot(i,255)*255}}function Vu(t,r,i){t=ot(t,255),r=ot(r,255),i=ot(i,255);var h=Math.max(t,r,i),o=Math.min(t,r,i),d,_,m=(h+o)/2;if(h==o)d=_=0;else{var x=h-o;switch(_=m>.5?x/(2-h-o):x/(h+o),h){case t:d=(r-i)/x+(r<i?6:0);break;case r:d=(i-t)/x+2;break;case i:d=(t-r)/x+4;break}d/=6}return{h:d,s:_,l:m}}function Bm(t,r,i){var h,o,d;t=ot(t,360),r=ot(r,100),i=ot(i,100);function _(E,V,K){return K<0&&(K+=1),K>1&&(K-=1),K<1/6?E+(V-E)*6*K:K<1/2?V:K<2/3?E+(V-E)*(2/3-K)*6:E}if(r===0)h=o=d=i;else{var m=i<.5?i*(1+r):i+r-i*r,x=2*i-m;h=_(x,m,t+1/3),o=_(x,m,t),d=_(x,m,t-1/3)}return{r:h*255,g:o*255,b:d*255}}function Hu(t,r,i){t=ot(t,255),r=ot(r,255),i=ot(i,255);var h=Math.max(t,r,i),o=Math.min(t,r,i),d,_,m=h,x=h-o;if(_=h===0?0:x/h,h==o)d=0;else{switch(h){case t:d=(r-i)/x+(r<i?6:0);break;case r:d=(i-t)/x+2;break;case i:d=(t-r)/x+4;break}d/=6}return{h:d,s:_,v:m}}function Wm(t,r,i){t=ot(t,360)*6,r=ot(r,100),i=ot(i,100);var h=Math.floor(t),o=t-h,d=i*(1-r),_=i*(1-o*r),m=i*(1-(1-o)*r),x=h%6,E=[i,_,d,d,m,i][x],V=[m,i,i,_,d,d][x],K=[d,d,m,i,i,_][x];return{r:E*255,g:V*255,b:K*255}}function Gu(t,r,i,h){var o=[Pn(Math.round(t).toString(16)),Pn(Math.round(r).toString(16)),Pn(Math.round(i).toString(16))];return h&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function Vm(t,r,i,h,o){var d=[Pn(Math.round(t).toString(16)),Pn(Math.round(r).toString(16)),Pn(Math.round(i).toString(16)),Pn(cc(h))];return o&&d[0].charAt(0)==d[0].charAt(1)&&d[1].charAt(0)==d[1].charAt(1)&&d[2].charAt(0)==d[2].charAt(1)&&d[3].charAt(0)==d[3].charAt(1)?d[0].charAt(0)+d[1].charAt(0)+d[2].charAt(0)+d[3].charAt(0):d.join("")}function Uu(t,r,i,h){var o=[Pn(cc(h)),Pn(Math.round(t).toString(16)),Pn(Math.round(r).toString(16)),Pn(Math.round(i).toString(16))];return o.join("")}be.equals=function(t,r){return!t||!r?!1:be(t).toRgbString()==be(r).toRgbString()};be.random=function(){return be.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Hm(t,r){r=r===0?0:r||10;var i=be(t).toHsl();return i.s-=r/100,i.s=cs(i.s),be(i)}function Gm(t,r){r=r===0?0:r||10;var i=be(t).toHsl();return i.s+=r/100,i.s=cs(i.s),be(i)}function Um(t){return be(t).desaturate(100)}function qm(t,r){r=r===0?0:r||10;var i=be(t).toHsl();return i.l+=r/100,i.l=cs(i.l),be(i)}function zm(t,r){r=r===0?0:r||10;var i=be(t).toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(255*-(r/100)))),i.g=Math.max(0,Math.min(255,i.g-Math.round(255*-(r/100)))),i.b=Math.max(0,Math.min(255,i.b-Math.round(255*-(r/100)))),be(i)}function Ym(t,r){r=r===0?0:r||10;var i=be(t).toHsl();return i.l-=r/100,i.l=cs(i.l),be(i)}function Km(t,r){var i=be(t).toHsl(),h=(i.h+r)%360;return i.h=h<0?360+h:h,be(i)}function Zm(t){var r=be(t).toHsl();return r.h=(r.h+180)%360,be(r)}function qu(t,r){if(isNaN(r)||r<=0)throw new Error("Argument to polyad must be a positive number");for(var i=be(t).toHsl(),h=[be(t)],o=360/r,d=1;d<r;d++)h.push(be({h:(i.h+d*o)%360,s:i.s,l:i.l}));return h}function Xm(t){var r=be(t).toHsl(),i=r.h;return[be(t),be({h:(i+72)%360,s:r.s,l:r.l}),be({h:(i+216)%360,s:r.s,l:r.l})]}function jm(t,r,i){r=r||6,i=i||30;var h=be(t).toHsl(),o=360/i,d=[be(t)];for(h.h=(h.h-(o*r>>1)+720)%360;--r;)h.h=(h.h+o)%360,d.push(be(h));return d}function Qm(t,r){r=r||6;for(var i=be(t).toHsv(),h=i.h,o=i.s,d=i.v,_=[],m=1/r;r--;)_.push(be({h,s:o,v:d})),d=(d+m)%1;return _}be.mix=function(t,r,i){i=i===0?0:i||50;var h=be(t).toRgb(),o=be(r).toRgb(),d=i/100,_={r:(o.r-h.r)*d+h.r,g:(o.g-h.g)*d+h.g,b:(o.b-h.b)*d+h.b,a:(o.a-h.a)*d+h.a};return be(_)};be.readability=function(t,r){var i=be(t),h=be(r);return(Math.max(i.getLuminance(),h.getLuminance())+.05)/(Math.min(i.getLuminance(),h.getLuminance())+.05)};be.isReadable=function(t,r,i){var h=be.readability(t,r),o,d;switch(d=!1,o=rv(i),o.level+o.size){case"AAsmall":case"AAAlarge":d=h>=4.5;break;case"AAlarge":d=h>=3;break;case"AAAsmall":d=h>=7;break}return d};be.mostReadable=function(t,r,i){var h=null,o=0,d,_,m,x;i=i||{},_=i.includeFallbackColors,m=i.level,x=i.size;for(var E=0;E<r.length;E++)d=be.readability(t,r[E]),d>o&&(o=d,h=be(r[E]));return be.isReadable(t,h,{level:m,size:x})||!_?h:(i.includeFallbackColors=!1,be.mostReadable(t,["#fff","#000"],i))};var xl=be.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Jm=be.hexNames=ev(xl);function ev(t){var r={};for(var i in t)t.hasOwnProperty(i)&&(r[t[i]]=i);return r}function uc(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function ot(t,r){tv(t)&&(t="100%");var i=nv(t);return t=Math.min(r,Math.max(0,parseFloat(t))),i&&(t=parseInt(t*r,10)/100),Math.abs(t-r)<1e-6?1:t%r/parseFloat(r)}function cs(t){return Math.min(1,Math.max(0,t))}function fn(t){return parseInt(t,16)}function tv(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function nv(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Pn(t){return t.length==1?"0"+t:""+t}function Jr(t){return t<=1&&(t=t*100+"%"),t}function cc(t){return Math.round(parseFloat(t)*255).toString(16)}function zu(t){return fn(t)/255}var Rn=function(){var t="[-\\+]?\\d+%?",r="[-\\+]?\\d*\\.\\d+%?",i="(?:"+r+")|(?:"+t+")",h="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?",o="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?";return{CSS_UNIT:new RegExp(i),rgb:new RegExp("rgb"+h),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+h),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+h),hsva:new RegExp("hsva"+o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ii(t){return!!Rn.CSS_UNIT.exec(t)}function iv(t){t=t.replace(Pm,"").replace(Fm,"").toLowerCase();var r=!1;if(xl[t])t=xl[t],r=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var i;return(i=Rn.rgb.exec(t))?{r:i[1],g:i[2],b:i[3]}:(i=Rn.rgba.exec(t))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=Rn.hsl.exec(t))?{h:i[1],s:i[2],l:i[3]}:(i=Rn.hsla.exec(t))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=Rn.hsv.exec(t))?{h:i[1],s:i[2],v:i[3]}:(i=Rn.hsva.exec(t))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=Rn.hex8.exec(t))?{r:fn(i[1]),g:fn(i[2]),b:fn(i[3]),a:zu(i[4]),format:r?"name":"hex8"}:(i=Rn.hex6.exec(t))?{r:fn(i[1]),g:fn(i[2]),b:fn(i[3]),format:r?"name":"hex"}:(i=Rn.hex4.exec(t))?{r:fn(i[1]+""+i[1]),g:fn(i[2]+""+i[2]),b:fn(i[3]+""+i[3]),a:zu(i[4]+""+i[4]),format:r?"name":"hex8"}:(i=Rn.hex3.exec(t))?{r:fn(i[1]+""+i[1]),g:fn(i[2]+""+i[2]),b:fn(i[3]+""+i[3]),format:r?"name":"hex"}:!1}function rv(t){var r,i;return t=t||{level:"AA",size:"small"},r=(t.level||"AA").toUpperCase(),i=(t.size||"small").toLowerCase(),r!=="AA"&&r!=="AAA"&&(r="AA"),i!=="small"&&i!=="large"&&(i="small"),{level:r,size:i}}const av={class:"container w-65 mv3 mb-3 card-body"},sv=ae("div",{class:"custom_style",id:"custom_style"},"Custom style has not loaded!",-1),lv={data(){return{ann_state:{total_hits:0,current_hit:1,hits_data:null,edits_dict:l1,selected_span_in_original:"",selected_span_in_simplified:"",selected_span_in_original_indexs:[],selected_span_in_simplified_indexs:[],selected_span_in_original_category:"",selected_span_in_simplified_category:"",selected_edits_html:"",selected_edits:bl,selected_split:"",selected_split_id:null,lines:oc,set_lines:this.set_lines,set_hit:this.set_hit,set_hits_data:this.set_hits_data,set_edits_dict:this.set_edits_dict,set_span_text:this.set_span_text,set_span_indices:this.set_span_indices,set_span_category:this.set_span_category,set_edit_html:this.set_edit_html,set_selected_edits:this.set_selected_edits,refresh_interface_edit:this.refresh_interface_edit,editor_open:!1,set_editor_state:this.set_editor_state,annotating_edit_span_category_id:null,set_annotating_edit_span_category_id:this.set_annotating_edit_span_category_id,annotating_edit_span:{original:"",original_for_substitution:"",simplified:"",simplified_for_substitution:"",split:"",structure:""},set_annotating_edit_span:this.set_annotating_edit_span}}},props:["input_data","config"],watch:{input_data(){this.consume_data()},config(){this.config.config.template_label&&$("title").text(this.config.config.template_label)}},methods:{consume_data(){let t=ut.cloneDeep(this.input_data.data);this.set_hits_data(t),this.set_hit(1)},set_hit(t){this.ann_state.current_hit=t},set_hits_data(t){this.ann_state.hits_data=t,this.ann_state.total_hits=t.length},set_edits_dict(t){this.ann_state.edits_dict=t},set_span_text(t,r){r=="original"?this.ann_state.selected_span_in_original=t:r=="simplified"&&(this.ann_state.selected_span_in_simplified=t)},set_span_indices(t,r){r=="original"?this.ann_state.selected_span_in_original_indexs=t:r=="simplified"&&(this.ann_state.selected_span_in_simplified_indexs=t)},set_span_category(t,r){r=="original"?this.ann_state.selected_span_in_original_category=t:r=="simplified"&&(this.ann_state.selected_span_in_simplified_category=t)},set_edit_html(t){this.ann_state.selected_edits_html=t},set_selected_edits(t){this.ann_state.selected_edits=t},refresh_interface_edit(){this.selected_split="",this.selected_add_edit_category_temp="",this.selected_span_in_original="",this.selected_span_in_simplified="",this.selected_span_in_original_indexs=[],this.selected_span_in_simplified_indexs=[],this.selected_edits=bl,this.selected_edits_html="",this.enable_select_original_sentence=!1,this.enable_select_simplified_sentence=!1,this.enable_multi_select_original_sentence=!1,this.enable_multi_select_simplified_sentence=!1},set_editor_state(t){this.ann_state.editor_open=t},set_annotating_edit_span_category_id(t){this.ann_state.annotating_edit_span_category_id=t},set_annotating_edit_span(t,r=null,i=null){i=="split"?this.ann_state.annotating_edit_span.split=t:i=="structure"&&(this.ann_state.annotating_edit_span.structure=t),r=="original"?i=="substitution"?this.ann_state.annotating_edit_span.original_for_substitution=t:this.ann_state.annotating_edit_span.original=t:r=="simplified"&&(i=="substitution"?this.ann_state.annotating_edit_span.simplified_for_substitution=t:this.ann_state.annotating_edit_span.simplified=t)},set_lines(t){this.ann_state.lines=t},compile_style(){var t={red:"#ee2a2a",green:"#64c466",blue:"#2186eb",yellow:"#ee2a2a",light_green:"#3ca3a7",orange:"#e67c43"};let r="";for(const i of this.config.config.edits){let h=i.color;t.hasOwnProperty(h)&&(h=t[h]);let o=be(h).lighten(25).toHexString();r+=`
              .border-${i.name} { border-bottom: 3px solid ${h}; }
              .border-${i.name}-all { border: 2px solid ${h}; }
              .bg-${i.name} { background-color: ${h}; }
              .txt-${i.name} { color: ${h}; }
              .bg-${i.name}-light { background-color: ${o}; }
              .border-${i.name}-light { border-bottom: 3px solid ${o}; }
              .border-${i.name}-light-all { border: 2px solid ${o}; }
              .txt-${i.name}-light { color: ${o}; }
            `}return r}},updated(){$("#custom_style").html(`<style>${this.compile_style()}</style>`)},mounted(){this.consume_data()}},Ib=Object.assign(lv,{__name:"Interface",setup(t){return(r,i)=>(qe(),Xe("div",av,[sv,Si(Rm,wi(r.ann_state,{config:t.config}),null,16,["config"]),Si(z1,wi(r.ann_state,{config:t.config}),null,16,["config"]),Si(rm,wi(r.ann_state,{config:t.config}),null,16,["config"])]))}});/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function hc(t){return typeof t>"u"||t===null}function ov(t){return typeof t=="object"&&t!==null}function uv(t){return Array.isArray(t)?t:hc(t)?[]:[t]}function cv(t,r){var i,h,o,d;if(r)for(d=Object.keys(r),i=0,h=d.length;i<h;i+=1)o=d[i],t[o]=r[o];return t}function hv(t,r){var i="",h;for(h=0;h<r;h+=1)i+=t;return i}function fv(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var dv=hc,pv=ov,_v=uv,gv=hv,mv=fv,vv=cv,Ct={isNothing:dv,isObject:pv,toArray:_v,repeat:gv,isNegativeZero:mv,extend:vv};function fc(t,r){var i="",h=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(i+='in "'+t.mark.name+'" '),i+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!r&&t.mark.snippet&&(i+=`

`+t.mark.snippet),h+" "+i):h}function na(t,r){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=r,this.message=fc(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}na.prototype=Object.create(Error.prototype);na.prototype.constructor=na;na.prototype.toString=function(r){return this.name+": "+fc(this,r)};var Xt=na;function ml(t,r,i,h,o){var d="",_="",m=Math.floor(o/2)-1;return h-r>m&&(d=" ... ",r=h-m+d.length),i-h>m&&(_=" ...",i=h+m-_.length),{str:d+t.slice(r,i).replace(/\t/g,"→")+_,pos:h-r+d.length}}function vl(t,r){return Ct.repeat(" ",r-t.length)+t}function yv(t,r){if(r=Object.create(r||null),!t.buffer)return null;r.maxLength||(r.maxLength=79),typeof r.indent!="number"&&(r.indent=1),typeof r.linesBefore!="number"&&(r.linesBefore=3),typeof r.linesAfter!="number"&&(r.linesAfter=2);for(var i=/\r?\n|\r|\0/g,h=[0],o=[],d,_=-1;d=i.exec(t.buffer);)o.push(d.index),h.push(d.index+d[0].length),t.position<=d.index&&_<0&&(_=h.length-2);_<0&&(_=h.length-1);var m="",x,E,V=Math.min(t.line+r.linesAfter,o.length).toString().length,K=r.maxLength-(r.indent+V+3);for(x=1;x<=r.linesBefore&&!(_-x<0);x++)E=ml(t.buffer,h[_-x],o[_-x],t.position-(h[_]-h[_-x]),K),m=Ct.repeat(" ",r.indent)+vl((t.line-x+1).toString(),V)+" | "+E.str+`
`+m;for(E=ml(t.buffer,h[_],o[_],t.position,K),m+=Ct.repeat(" ",r.indent)+vl((t.line+1).toString(),V)+" | "+E.str+`
`,m+=Ct.repeat("-",r.indent+V+3+E.pos)+`^
`,x=1;x<=r.linesAfter&&!(_+x>=o.length);x++)E=ml(t.buffer,h[_+x],o[_+x],t.position-(h[_]-h[_+x]),K),m+=Ct.repeat(" ",r.indent)+vl((t.line+x+1).toString(),V)+" | "+E.str+`
`;return m.replace(/\n$/,"")}var bv=yv,xv=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Sv=["scalar","sequence","mapping"];function wv(t){var r={};return t!==null&&Object.keys(t).forEach(function(i){t[i].forEach(function(h){r[String(h)]=i})}),r}function Ev(t,r){if(r=r||{},Object.keys(r).forEach(function(i){if(xv.indexOf(i)===-1)throw new Xt('Unknown option "'+i+'" is met in definition of "'+t+'" YAML type.')}),this.options=r,this.tag=t,this.kind=r.kind||null,this.resolve=r.resolve||function(){return!0},this.construct=r.construct||function(i){return i},this.instanceOf=r.instanceOf||null,this.predicate=r.predicate||null,this.represent=r.represent||null,this.representName=r.representName||null,this.defaultStyle=r.defaultStyle||null,this.multi=r.multi||!1,this.styleAliases=wv(r.styleAliases||null),Sv.indexOf(this.kind)===-1)throw new Xt('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var Dt=Ev;function Yu(t,r){var i=[];return t[r].forEach(function(h){var o=i.length;i.forEach(function(d,_){d.tag===h.tag&&d.kind===h.kind&&d.multi===h.multi&&(o=_)}),i[o]=h}),i}function kv(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},r,i;function h(o){o.multi?(t.multi[o.kind].push(o),t.multi.fallback.push(o)):t[o.kind][o.tag]=t.fallback[o.tag]=o}for(r=0,i=arguments.length;r<i;r+=1)arguments[r].forEach(h);return t}function Sl(t){return this.extend(t)}Sl.prototype.extend=function(r){var i=[],h=[];if(r instanceof Dt)h.push(r);else if(Array.isArray(r))h=h.concat(r);else if(r&&(Array.isArray(r.implicit)||Array.isArray(r.explicit)))r.implicit&&(i=i.concat(r.implicit)),r.explicit&&(h=h.concat(r.explicit));else throw new Xt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");i.forEach(function(d){if(!(d instanceof Dt))throw new Xt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(d.loadKind&&d.loadKind!=="scalar")throw new Xt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(d.multi)throw new Xt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),h.forEach(function(d){if(!(d instanceof Dt))throw new Xt("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var o=Object.create(Sl.prototype);return o.implicit=(this.implicit||[]).concat(i),o.explicit=(this.explicit||[]).concat(h),o.compiledImplicit=Yu(o,"implicit"),o.compiledExplicit=Yu(o,"explicit"),o.compiledTypeMap=kv(o.compiledImplicit,o.compiledExplicit),o};var dc=Sl,pc=new Dt("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),_c=new Dt("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),gc=new Dt("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),mc=new dc({explicit:[pc,_c,gc]});function Av(t){if(t===null)return!0;var r=t.length;return r===1&&t==="~"||r===4&&(t==="null"||t==="Null"||t==="NULL")}function Cv(){return null}function Ov(t){return t===null}var vc=new Dt("tag:yaml.org,2002:null",{kind:"scalar",resolve:Av,construct:Cv,predicate:Ov,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function $v(t){if(t===null)return!1;var r=t.length;return r===4&&(t==="true"||t==="True"||t==="TRUE")||r===5&&(t==="false"||t==="False"||t==="FALSE")}function Mv(t){return t==="true"||t==="True"||t==="TRUE"}function Iv(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var yc=new Dt("tag:yaml.org,2002:bool",{kind:"scalar",resolve:$v,construct:Mv,predicate:Iv,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function Lv(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function Tv(t){return 48<=t&&t<=55}function Rv(t){return 48<=t&&t<=57}function Pv(t){if(t===null)return!1;var r=t.length,i=0,h=!1,o;if(!r)return!1;if(o=t[i],(o==="-"||o==="+")&&(o=t[++i]),o==="0"){if(i+1===r)return!0;if(o=t[++i],o==="b"){for(i++;i<r;i++)if(o=t[i],o!=="_"){if(o!=="0"&&o!=="1")return!1;h=!0}return h&&o!=="_"}if(o==="x"){for(i++;i<r;i++)if(o=t[i],o!=="_"){if(!Lv(t.charCodeAt(i)))return!1;h=!0}return h&&o!=="_"}if(o==="o"){for(i++;i<r;i++)if(o=t[i],o!=="_"){if(!Tv(t.charCodeAt(i)))return!1;h=!0}return h&&o!=="_"}}if(o==="_")return!1;for(;i<r;i++)if(o=t[i],o!=="_"){if(!Rv(t.charCodeAt(i)))return!1;h=!0}return!(!h||o==="_")}function Fv(t){var r=t,i=1,h;if(r.indexOf("_")!==-1&&(r=r.replace(/_/g,"")),h=r[0],(h==="-"||h==="+")&&(h==="-"&&(i=-1),r=r.slice(1),h=r[0]),r==="0")return 0;if(h==="0"){if(r[1]==="b")return i*parseInt(r.slice(2),2);if(r[1]==="x")return i*parseInt(r.slice(2),16);if(r[1]==="o")return i*parseInt(r.slice(2),8)}return i*parseInt(r,10)}function Nv(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Ct.isNegativeZero(t)}var bc=new Dt("tag:yaml.org,2002:int",{kind:"scalar",resolve:Pv,construct:Fv,predicate:Nv,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Dv=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Bv(t){return!(t===null||!Dv.test(t)||t[t.length-1]==="_")}function Wv(t){var r,i;return r=t.replace(/_/g,"").toLowerCase(),i=r[0]==="-"?-1:1,"+-".indexOf(r[0])>=0&&(r=r.slice(1)),r===".inf"?i===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:r===".nan"?NaN:i*parseFloat(r,10)}var Vv=/^[-+]?[0-9]+e/;function Hv(t,r){var i;if(isNaN(t))switch(r){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(r){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(r){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ct.isNegativeZero(t))return"-0.0";return i=t.toString(10),Vv.test(i)?i.replace("e",".e"):i}function Gv(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Ct.isNegativeZero(t))}var xc=new Dt("tag:yaml.org,2002:float",{kind:"scalar",resolve:Bv,construct:Wv,predicate:Gv,represent:Hv,defaultStyle:"lowercase"}),Sc=mc.extend({implicit:[vc,yc,bc,xc]}),wc=Sc,Ec=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),kc=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Uv(t){return t===null?!1:Ec.exec(t)!==null||kc.exec(t)!==null}function qv(t){var r,i,h,o,d,_,m,x=0,E=null,V,K,se;if(r=Ec.exec(t),r===null&&(r=kc.exec(t)),r===null)throw new Error("Date resolve error");if(i=+r[1],h=+r[2]-1,o=+r[3],!r[4])return new Date(Date.UTC(i,h,o));if(d=+r[4],_=+r[5],m=+r[6],r[7]){for(x=r[7].slice(0,3);x.length<3;)x+="0";x=+x}return r[9]&&(V=+r[10],K=+(r[11]||0),E=(V*60+K)*6e4,r[9]==="-"&&(E=-E)),se=new Date(Date.UTC(i,h,o,d,_,m,x)),E&&se.setTime(se.getTime()-E),se}function zv(t){return t.toISOString()}var Ac=new Dt("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Uv,construct:qv,instanceOf:Date,represent:zv});function Yv(t){return t==="<<"||t===null}var Cc=new Dt("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Yv}),Ol=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Kv(t){if(t===null)return!1;var r,i,h=0,o=t.length,d=Ol;for(i=0;i<o;i++)if(r=d.indexOf(t.charAt(i)),!(r>64)){if(r<0)return!1;h+=6}return h%8===0}function Zv(t){var r,i,h=t.replace(/[\r\n=]/g,""),o=h.length,d=Ol,_=0,m=[];for(r=0;r<o;r++)r%4===0&&r&&(m.push(_>>16&255),m.push(_>>8&255),m.push(_&255)),_=_<<6|d.indexOf(h.charAt(r));return i=o%4*6,i===0?(m.push(_>>16&255),m.push(_>>8&255),m.push(_&255)):i===18?(m.push(_>>10&255),m.push(_>>2&255)):i===12&&m.push(_>>4&255),new Uint8Array(m)}function Xv(t){var r="",i=0,h,o,d=t.length,_=Ol;for(h=0;h<d;h++)h%3===0&&h&&(r+=_[i>>18&63],r+=_[i>>12&63],r+=_[i>>6&63],r+=_[i&63]),i=(i<<8)+t[h];return o=d%3,o===0?(r+=_[i>>18&63],r+=_[i>>12&63],r+=_[i>>6&63],r+=_[i&63]):o===2?(r+=_[i>>10&63],r+=_[i>>4&63],r+=_[i<<2&63],r+=_[64]):o===1&&(r+=_[i>>2&63],r+=_[i<<4&63],r+=_[64],r+=_[64]),r}function jv(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var Oc=new Dt("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Kv,construct:Zv,predicate:jv,represent:Xv}),Qv=Object.prototype.hasOwnProperty,Jv=Object.prototype.toString;function ey(t){if(t===null)return!0;var r=[],i,h,o,d,_,m=t;for(i=0,h=m.length;i<h;i+=1){if(o=m[i],_=!1,Jv.call(o)!=="[object Object]")return!1;for(d in o)if(Qv.call(o,d))if(!_)_=!0;else return!1;if(!_)return!1;if(r.indexOf(d)===-1)r.push(d);else return!1}return!0}function ty(t){return t!==null?t:[]}var $c=new Dt("tag:yaml.org,2002:omap",{kind:"sequence",resolve:ey,construct:ty}),ny=Object.prototype.toString;function iy(t){if(t===null)return!0;var r,i,h,o,d,_=t;for(d=new Array(_.length),r=0,i=_.length;r<i;r+=1){if(h=_[r],ny.call(h)!=="[object Object]"||(o=Object.keys(h),o.length!==1))return!1;d[r]=[o[0],h[o[0]]]}return!0}function ry(t){if(t===null)return[];var r,i,h,o,d,_=t;for(d=new Array(_.length),r=0,i=_.length;r<i;r+=1)h=_[r],o=Object.keys(h),d[r]=[o[0],h[o[0]]];return d}var Mc=new Dt("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:iy,construct:ry}),ay=Object.prototype.hasOwnProperty;function sy(t){if(t===null)return!0;var r,i=t;for(r in i)if(ay.call(i,r)&&i[r]!==null)return!1;return!0}function ly(t){return t!==null?t:{}}var Ic=new Dt("tag:yaml.org,2002:set",{kind:"mapping",resolve:sy,construct:ly}),$l=wc.extend({implicit:[Ac,Cc],explicit:[Oc,$c,Mc,Ic]}),ki=Object.prototype.hasOwnProperty,as=1,Lc=2,Tc=3,ss=4,yl=1,oy=2,Ku=3,uy=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,cy=/[\x85\u2028\u2029]/,hy=/[,\[\]\{\}]/,Rc=/^(?:!|!!|![a-z\-]+!)$/i,Pc=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Zu(t){return Object.prototype.toString.call(t)}function Un(t){return t===10||t===13}function qi(t){return t===9||t===32}function rn(t){return t===9||t===32||t===10||t===13}function wr(t){return t===44||t===91||t===93||t===123||t===125}function fy(t){var r;return 48<=t&&t<=57?t-48:(r=t|32,97<=r&&r<=102?r-97+10:-1)}function dy(t){return t===120?2:t===117?4:t===85?8:0}function py(t){return 48<=t&&t<=57?t-48:-1}function Xu(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?" ":t===76?"\u2028":t===80?"\u2029":""}function _y(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var Fc=new Array(256),Nc=new Array(256);for(var xr=0;xr<256;xr++)Fc[xr]=Xu(xr)?1:0,Nc[xr]=Xu(xr);function gy(t,r){this.input=t,this.filename=r.filename||null,this.schema=r.schema||$l,this.onWarning=r.onWarning||null,this.legacy=r.legacy||!1,this.json=r.json||!1,this.listener=r.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Dc(t,r){var i={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return i.snippet=bv(i),new Xt(r,i)}function Se(t,r){throw Dc(t,r)}function ls(t,r){t.onWarning&&t.onWarning.call(null,Dc(t,r))}var ju={YAML:function(r,i,h){var o,d,_;r.version!==null&&Se(r,"duplication of %YAML directive"),h.length!==1&&Se(r,"YAML directive accepts exactly one argument"),o=/^([0-9]+)\.([0-9]+)$/.exec(h[0]),o===null&&Se(r,"ill-formed argument of the YAML directive"),d=parseInt(o[1],10),_=parseInt(o[2],10),d!==1&&Se(r,"unacceptable YAML version of the document"),r.version=h[0],r.checkLineBreaks=_<2,_!==1&&_!==2&&ls(r,"unsupported YAML version of the document")},TAG:function(r,i,h){var o,d;h.length!==2&&Se(r,"TAG directive accepts exactly two arguments"),o=h[0],d=h[1],Rc.test(o)||Se(r,"ill-formed tag handle (first argument) of the TAG directive"),ki.call(r.tagMap,o)&&Se(r,'there is a previously declared suffix for "'+o+'" tag handle'),Pc.test(d)||Se(r,"ill-formed tag prefix (second argument) of the TAG directive");try{d=decodeURIComponent(d)}catch{Se(r,"tag prefix is malformed: "+d)}r.tagMap[o]=d}};function Ei(t,r,i,h){var o,d,_,m;if(r<i){if(m=t.input.slice(r,i),h)for(o=0,d=m.length;o<d;o+=1)_=m.charCodeAt(o),_===9||32<=_&&_<=1114111||Se(t,"expected valid JSON character");else uy.test(m)&&Se(t,"the stream contains non-printable characters");t.result+=m}}function Qu(t,r,i,h){var o,d,_,m;for(Ct.isObject(i)||Se(t,"cannot merge mappings; the provided source object is unacceptable"),o=Object.keys(i),_=0,m=o.length;_<m;_+=1)d=o[_],ki.call(r,d)||(r[d]=i[d],h[d]=!0)}function Er(t,r,i,h,o,d,_,m,x){var E,V;if(Array.isArray(o))for(o=Array.prototype.slice.call(o),E=0,V=o.length;E<V;E+=1)Array.isArray(o[E])&&Se(t,"nested arrays are not supported inside keys"),typeof o=="object"&&Zu(o[E])==="[object Object]"&&(o[E]="[object Object]");if(typeof o=="object"&&Zu(o)==="[object Object]"&&(o="[object Object]"),o=String(o),r===null&&(r={}),h==="tag:yaml.org,2002:merge")if(Array.isArray(d))for(E=0,V=d.length;E<V;E+=1)Qu(t,r,d[E],i);else Qu(t,r,d,i);else!t.json&&!ki.call(i,o)&&ki.call(r,o)&&(t.line=_||t.line,t.lineStart=m||t.lineStart,t.position=x||t.position,Se(t,"duplicated mapping key")),o==="__proto__"?Object.defineProperty(r,o,{configurable:!0,enumerable:!0,writable:!0,value:d}):r[o]=d,delete i[o];return r}function Ml(t){var r;r=t.input.charCodeAt(t.position),r===10?t.position++:r===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):Se(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function St(t,r,i){for(var h=0,o=t.input.charCodeAt(t.position);o!==0;){for(;qi(o);)o===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),o=t.input.charCodeAt(++t.position);if(r&&o===35)do o=t.input.charCodeAt(++t.position);while(o!==10&&o!==13&&o!==0);if(Un(o))for(Ml(t),o=t.input.charCodeAt(t.position),h++,t.lineIndent=0;o===32;)t.lineIndent++,o=t.input.charCodeAt(++t.position);else break}return i!==-1&&h!==0&&t.lineIndent<i&&ls(t,"deficient indentation"),h}function hs(t){var r=t.position,i;return i=t.input.charCodeAt(r),!!((i===45||i===46)&&i===t.input.charCodeAt(r+1)&&i===t.input.charCodeAt(r+2)&&(r+=3,i=t.input.charCodeAt(r),i===0||rn(i)))}function Il(t,r){r===1?t.result+=" ":r>1&&(t.result+=Ct.repeat(`
`,r-1))}function my(t,r,i){var h,o,d,_,m,x,E,V,K=t.kind,se=t.result,he;if(he=t.input.charCodeAt(t.position),rn(he)||wr(he)||he===35||he===38||he===42||he===33||he===124||he===62||he===39||he===34||he===37||he===64||he===96||(he===63||he===45)&&(o=t.input.charCodeAt(t.position+1),rn(o)||i&&wr(o)))return!1;for(t.kind="scalar",t.result="",d=_=t.position,m=!1;he!==0;){if(he===58){if(o=t.input.charCodeAt(t.position+1),rn(o)||i&&wr(o))break}else if(he===35){if(h=t.input.charCodeAt(t.position-1),rn(h))break}else{if(t.position===t.lineStart&&hs(t)||i&&wr(he))break;if(Un(he))if(x=t.line,E=t.lineStart,V=t.lineIndent,St(t,!1,-1),t.lineIndent>=r){m=!0,he=t.input.charCodeAt(t.position);continue}else{t.position=_,t.line=x,t.lineStart=E,t.lineIndent=V;break}}m&&(Ei(t,d,_,!1),Il(t,t.line-x),d=_=t.position,m=!1),qi(he)||(_=t.position+1),he=t.input.charCodeAt(++t.position)}return Ei(t,d,_,!1),t.result?!0:(t.kind=K,t.result=se,!1)}function vy(t,r){var i,h,o;if(i=t.input.charCodeAt(t.position),i!==39)return!1;for(t.kind="scalar",t.result="",t.position++,h=o=t.position;(i=t.input.charCodeAt(t.position))!==0;)if(i===39)if(Ei(t,h,t.position,!0),i=t.input.charCodeAt(++t.position),i===39)h=t.position,t.position++,o=t.position;else return!0;else Un(i)?(Ei(t,h,o,!0),Il(t,St(t,!1,r)),h=o=t.position):t.position===t.lineStart&&hs(t)?Se(t,"unexpected end of the document within a single quoted scalar"):(t.position++,o=t.position);Se(t,"unexpected end of the stream within a single quoted scalar")}function yy(t,r){var i,h,o,d,_,m;if(m=t.input.charCodeAt(t.position),m!==34)return!1;for(t.kind="scalar",t.result="",t.position++,i=h=t.position;(m=t.input.charCodeAt(t.position))!==0;){if(m===34)return Ei(t,i,t.position,!0),t.position++,!0;if(m===92){if(Ei(t,i,t.position,!0),m=t.input.charCodeAt(++t.position),Un(m))St(t,!1,r);else if(m<256&&Fc[m])t.result+=Nc[m],t.position++;else if((_=dy(m))>0){for(o=_,d=0;o>0;o--)m=t.input.charCodeAt(++t.position),(_=fy(m))>=0?d=(d<<4)+_:Se(t,"expected hexadecimal character");t.result+=_y(d),t.position++}else Se(t,"unknown escape sequence");i=h=t.position}else Un(m)?(Ei(t,i,h,!0),Il(t,St(t,!1,r)),i=h=t.position):t.position===t.lineStart&&hs(t)?Se(t,"unexpected end of the document within a double quoted scalar"):(t.position++,h=t.position)}Se(t,"unexpected end of the stream within a double quoted scalar")}function by(t,r){var i=!0,h,o,d,_=t.tag,m,x=t.anchor,E,V,K,se,he,we=Object.create(null),ke,ge,Qe,Pe;if(Pe=t.input.charCodeAt(t.position),Pe===91)V=93,he=!1,m=[];else if(Pe===123)V=125,he=!0,m={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=m),Pe=t.input.charCodeAt(++t.position);Pe!==0;){if(St(t,!0,r),Pe=t.input.charCodeAt(t.position),Pe===V)return t.position++,t.tag=_,t.anchor=x,t.kind=he?"mapping":"sequence",t.result=m,!0;i?Pe===44&&Se(t,"expected the node content, but found ','"):Se(t,"missed comma between flow collection entries"),ge=ke=Qe=null,K=se=!1,Pe===63&&(E=t.input.charCodeAt(t.position+1),rn(E)&&(K=se=!0,t.position++,St(t,!0,r))),h=t.line,o=t.lineStart,d=t.position,kr(t,r,as,!1,!0),ge=t.tag,ke=t.result,St(t,!0,r),Pe=t.input.charCodeAt(t.position),(se||t.line===h)&&Pe===58&&(K=!0,Pe=t.input.charCodeAt(++t.position),St(t,!0,r),kr(t,r,as,!1,!0),Qe=t.result),he?Er(t,m,we,ge,ke,Qe,h,o,d):K?m.push(Er(t,null,we,ge,ke,Qe,h,o,d)):m.push(ke),St(t,!0,r),Pe=t.input.charCodeAt(t.position),Pe===44?(i=!0,Pe=t.input.charCodeAt(++t.position)):i=!1}Se(t,"unexpected end of the stream within a flow collection")}function xy(t,r){var i,h,o=yl,d=!1,_=!1,m=r,x=0,E=!1,V,K;if(K=t.input.charCodeAt(t.position),K===124)h=!1;else if(K===62)h=!0;else return!1;for(t.kind="scalar",t.result="";K!==0;)if(K=t.input.charCodeAt(++t.position),K===43||K===45)yl===o?o=K===43?Ku:oy:Se(t,"repeat of a chomping mode identifier");else if((V=py(K))>=0)V===0?Se(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):_?Se(t,"repeat of an indentation width identifier"):(m=r+V-1,_=!0);else break;if(qi(K)){do K=t.input.charCodeAt(++t.position);while(qi(K));if(K===35)do K=t.input.charCodeAt(++t.position);while(!Un(K)&&K!==0)}for(;K!==0;){for(Ml(t),t.lineIndent=0,K=t.input.charCodeAt(t.position);(!_||t.lineIndent<m)&&K===32;)t.lineIndent++,K=t.input.charCodeAt(++t.position);if(!_&&t.lineIndent>m&&(m=t.lineIndent),Un(K)){x++;continue}if(t.lineIndent<m){o===Ku?t.result+=Ct.repeat(`
`,d?1+x:x):o===yl&&d&&(t.result+=`
`);break}for(h?qi(K)?(E=!0,t.result+=Ct.repeat(`
`,d?1+x:x)):E?(E=!1,t.result+=Ct.repeat(`
`,x+1)):x===0?d&&(t.result+=" "):t.result+=Ct.repeat(`
`,x):t.result+=Ct.repeat(`
`,d?1+x:x),d=!0,_=!0,x=0,i=t.position;!Un(K)&&K!==0;)K=t.input.charCodeAt(++t.position);Ei(t,i,t.position,!1)}return!0}function Ju(t,r){var i,h=t.tag,o=t.anchor,d=[],_,m=!1,x;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=d),x=t.input.charCodeAt(t.position);x!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Se(t,"tab characters must not be used in indentation")),!(x!==45||(_=t.input.charCodeAt(t.position+1),!rn(_))));){if(m=!0,t.position++,St(t,!0,-1)&&t.lineIndent<=r){d.push(null),x=t.input.charCodeAt(t.position);continue}if(i=t.line,kr(t,r,Tc,!1,!0),d.push(t.result),St(t,!0,-1),x=t.input.charCodeAt(t.position),(t.line===i||t.lineIndent>r)&&x!==0)Se(t,"bad indentation of a sequence entry");else if(t.lineIndent<r)break}return m?(t.tag=h,t.anchor=o,t.kind="sequence",t.result=d,!0):!1}function Sy(t,r,i){var h,o,d,_,m,x,E=t.tag,V=t.anchor,K={},se=Object.create(null),he=null,we=null,ke=null,ge=!1,Qe=!1,Pe;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=K),Pe=t.input.charCodeAt(t.position);Pe!==0;){if(!ge&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Se(t,"tab characters must not be used in indentation")),h=t.input.charCodeAt(t.position+1),d=t.line,(Pe===63||Pe===58)&&rn(h))Pe===63?(ge&&(Er(t,K,se,he,we,null,_,m,x),he=we=ke=null),Qe=!0,ge=!0,o=!0):ge?(ge=!1,o=!0):Se(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,Pe=h;else{if(_=t.line,m=t.lineStart,x=t.position,!kr(t,i,Lc,!1,!0))break;if(t.line===d){for(Pe=t.input.charCodeAt(t.position);qi(Pe);)Pe=t.input.charCodeAt(++t.position);if(Pe===58)Pe=t.input.charCodeAt(++t.position),rn(Pe)||Se(t,"a whitespace character is expected after the key-value separator within a block mapping"),ge&&(Er(t,K,se,he,we,null,_,m,x),he=we=ke=null),Qe=!0,ge=!1,o=!1,he=t.tag,we=t.result;else if(Qe)Se(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=E,t.anchor=V,!0}else if(Qe)Se(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=E,t.anchor=V,!0}if((t.line===d||t.lineIndent>r)&&(ge&&(_=t.line,m=t.lineStart,x=t.position),kr(t,r,ss,!0,o)&&(ge?we=t.result:ke=t.result),ge||(Er(t,K,se,he,we,ke,_,m,x),he=we=ke=null),St(t,!0,-1),Pe=t.input.charCodeAt(t.position)),(t.line===d||t.lineIndent>r)&&Pe!==0)Se(t,"bad indentation of a mapping entry");else if(t.lineIndent<r)break}return ge&&Er(t,K,se,he,we,null,_,m,x),Qe&&(t.tag=E,t.anchor=V,t.kind="mapping",t.result=K),Qe}function wy(t){var r,i=!1,h=!1,o,d,_;if(_=t.input.charCodeAt(t.position),_!==33)return!1;if(t.tag!==null&&Se(t,"duplication of a tag property"),_=t.input.charCodeAt(++t.position),_===60?(i=!0,_=t.input.charCodeAt(++t.position)):_===33?(h=!0,o="!!",_=t.input.charCodeAt(++t.position)):o="!",r=t.position,i){do _=t.input.charCodeAt(++t.position);while(_!==0&&_!==62);t.position<t.length?(d=t.input.slice(r,t.position),_=t.input.charCodeAt(++t.position)):Se(t,"unexpected end of the stream within a verbatim tag")}else{for(;_!==0&&!rn(_);)_===33&&(h?Se(t,"tag suffix cannot contain exclamation marks"):(o=t.input.slice(r-1,t.position+1),Rc.test(o)||Se(t,"named tag handle cannot contain such characters"),h=!0,r=t.position+1)),_=t.input.charCodeAt(++t.position);d=t.input.slice(r,t.position),hy.test(d)&&Se(t,"tag suffix cannot contain flow indicator characters")}d&&!Pc.test(d)&&Se(t,"tag name cannot contain such characters: "+d);try{d=decodeURIComponent(d)}catch{Se(t,"tag name is malformed: "+d)}return i?t.tag=d:ki.call(t.tagMap,o)?t.tag=t.tagMap[o]+d:o==="!"?t.tag="!"+d:o==="!!"?t.tag="tag:yaml.org,2002:"+d:Se(t,'undeclared tag handle "'+o+'"'),!0}function Ey(t){var r,i;if(i=t.input.charCodeAt(t.position),i!==38)return!1;for(t.anchor!==null&&Se(t,"duplication of an anchor property"),i=t.input.charCodeAt(++t.position),r=t.position;i!==0&&!rn(i)&&!wr(i);)i=t.input.charCodeAt(++t.position);return t.position===r&&Se(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(r,t.position),!0}function ky(t){var r,i,h;if(h=t.input.charCodeAt(t.position),h!==42)return!1;for(h=t.input.charCodeAt(++t.position),r=t.position;h!==0&&!rn(h)&&!wr(h);)h=t.input.charCodeAt(++t.position);return t.position===r&&Se(t,"name of an alias node must contain at least one character"),i=t.input.slice(r,t.position),ki.call(t.anchorMap,i)||Se(t,'unidentified alias "'+i+'"'),t.result=t.anchorMap[i],St(t,!0,-1),!0}function kr(t,r,i,h,o){var d,_,m,x=1,E=!1,V=!1,K,se,he,we,ke,ge;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,d=_=m=ss===i||Tc===i,h&&St(t,!0,-1)&&(E=!0,t.lineIndent>r?x=1:t.lineIndent===r?x=0:t.lineIndent<r&&(x=-1)),x===1)for(;wy(t)||Ey(t);)St(t,!0,-1)?(E=!0,m=d,t.lineIndent>r?x=1:t.lineIndent===r?x=0:t.lineIndent<r&&(x=-1)):m=!1;if(m&&(m=E||o),(x===1||ss===i)&&(as===i||Lc===i?ke=r:ke=r+1,ge=t.position-t.lineStart,x===1?m&&(Ju(t,ge)||Sy(t,ge,ke))||by(t,ke)?V=!0:(_&&xy(t,ke)||vy(t,ke)||yy(t,ke)?V=!0:ky(t)?(V=!0,(t.tag!==null||t.anchor!==null)&&Se(t,"alias node should not have any properties")):my(t,ke,as===i)&&(V=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):x===0&&(V=m&&Ju(t,ge))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&Se(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),K=0,se=t.implicitTypes.length;K<se;K+=1)if(we=t.implicitTypes[K],we.resolve(t.result)){t.result=we.construct(t.result),t.tag=we.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(ki.call(t.typeMap[t.kind||"fallback"],t.tag))we=t.typeMap[t.kind||"fallback"][t.tag];else for(we=null,he=t.typeMap.multi[t.kind||"fallback"],K=0,se=he.length;K<se;K+=1)if(t.tag.slice(0,he[K].tag.length)===he[K].tag){we=he[K];break}we||Se(t,"unknown tag !<"+t.tag+">"),t.result!==null&&we.kind!==t.kind&&Se(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+we.kind+'", not "'+t.kind+'"'),we.resolve(t.result,t.tag)?(t.result=we.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):Se(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||V}function Ay(t){var r=t.position,i,h,o,d=!1,_;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(_=t.input.charCodeAt(t.position))!==0&&(St(t,!0,-1),_=t.input.charCodeAt(t.position),!(t.lineIndent>0||_!==37));){for(d=!0,_=t.input.charCodeAt(++t.position),i=t.position;_!==0&&!rn(_);)_=t.input.charCodeAt(++t.position);for(h=t.input.slice(i,t.position),o=[],h.length<1&&Se(t,"directive name must not be less than one character in length");_!==0;){for(;qi(_);)_=t.input.charCodeAt(++t.position);if(_===35){do _=t.input.charCodeAt(++t.position);while(_!==0&&!Un(_));break}if(Un(_))break;for(i=t.position;_!==0&&!rn(_);)_=t.input.charCodeAt(++t.position);o.push(t.input.slice(i,t.position))}_!==0&&Ml(t),ki.call(ju,h)?ju[h](t,h,o):ls(t,'unknown document directive "'+h+'"')}if(St(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,St(t,!0,-1)):d&&Se(t,"directives end mark is expected"),kr(t,t.lineIndent-1,ss,!1,!0),St(t,!0,-1),t.checkLineBreaks&&cy.test(t.input.slice(r,t.position))&&ls(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&hs(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,St(t,!0,-1));return}if(t.position<t.length-1)Se(t,"end of the stream or a document separator is expected");else return}function Bc(t,r){t=String(t),r=r||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var i=new gy(t,r),h=t.indexOf("\0");for(h!==-1&&(i.position=h,Se(i,"null byte is not allowed in input")),i.input+="\0";i.input.charCodeAt(i.position)===32;)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)Ay(i);return i.documents}function Cy(t,r,i){r!==null&&typeof r=="object"&&typeof i>"u"&&(i=r,r=null);var h=Bc(t,i);if(typeof r!="function")return h;for(var o=0,d=h.length;o<d;o+=1)r(h[o])}function Oy(t,r){var i=Bc(t,r);if(i.length!==0){if(i.length===1)return i[0];throw new Xt("expected a single document in the stream, but found more")}}var $y=Cy,My=Oy,Wc={loadAll:$y,load:My},Vc=Object.prototype.toString,Hc=Object.prototype.hasOwnProperty,Ll=65279,Iy=9,ia=10,Ly=13,Ty=32,Ry=33,Py=34,wl=35,Fy=37,Ny=38,Dy=39,By=42,Gc=44,Wy=45,os=58,Vy=61,Hy=62,Gy=63,Uy=64,Uc=91,qc=93,qy=96,zc=123,zy=124,Yc=125,Ut={};Ut[0]="\\0";Ut[7]="\\a";Ut[8]="\\b";Ut[9]="\\t";Ut[10]="\\n";Ut[11]="\\v";Ut[12]="\\f";Ut[13]="\\r";Ut[27]="\\e";Ut[34]='\\"';Ut[92]="\\\\";Ut[133]="\\N";Ut[160]="\\_";Ut[8232]="\\L";Ut[8233]="\\P";var Yy=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Ky=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Zy(t,r){var i,h,o,d,_,m,x;if(r===null)return{};for(i={},h=Object.keys(r),o=0,d=h.length;o<d;o+=1)_=h[o],m=String(r[_]),_.slice(0,2)==="!!"&&(_="tag:yaml.org,2002:"+_.slice(2)),x=t.compiledTypeMap.fallback[_],x&&Hc.call(x.styleAliases,m)&&(m=x.styleAliases[m]),i[_]=m;return i}function Xy(t){var r,i,h;if(r=t.toString(16).toUpperCase(),t<=255)i="x",h=2;else if(t<=65535)i="u",h=4;else if(t<=4294967295)i="U",h=8;else throw new Xt("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+i+Ct.repeat("0",h-r.length)+r}var jy=1,ra=2;function Qy(t){this.schema=t.schema||$l,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=Ct.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=Zy(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?ra:jy,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function ec(t,r){for(var i=Ct.repeat(" ",r),h=0,o=-1,d="",_,m=t.length;h<m;)o=t.indexOf(`
`,h),o===-1?(_=t.slice(h),h=m):(_=t.slice(h,o+1),h=o+1),_.length&&_!==`
`&&(d+=i),d+=_;return d}function El(t,r){return`
`+Ct.repeat(" ",t.indent*r)}function Jy(t,r){var i,h,o;for(i=0,h=t.implicitTypes.length;i<h;i+=1)if(o=t.implicitTypes[i],o.resolve(r))return!0;return!1}function us(t){return t===Ty||t===Iy}function aa(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==Ll||65536<=t&&t<=1114111}function tc(t){return aa(t)&&t!==Ll&&t!==Ly&&t!==ia}function nc(t,r,i){var h=tc(t),o=h&&!us(t);return(i?h:h&&t!==Gc&&t!==Uc&&t!==qc&&t!==zc&&t!==Yc)&&t!==wl&&!(r===os&&!o)||tc(r)&&!us(r)&&t===wl||r===os&&o}function eb(t){return aa(t)&&t!==Ll&&!us(t)&&t!==Wy&&t!==Gy&&t!==os&&t!==Gc&&t!==Uc&&t!==qc&&t!==zc&&t!==Yc&&t!==wl&&t!==Ny&&t!==By&&t!==Ry&&t!==zy&&t!==Vy&&t!==Hy&&t!==Dy&&t!==Py&&t!==Fy&&t!==Uy&&t!==qy}function tb(t){return!us(t)&&t!==os}function ea(t,r){var i=t.charCodeAt(r),h;return i>=55296&&i<=56319&&r+1<t.length&&(h=t.charCodeAt(r+1),h>=56320&&h<=57343)?(i-55296)*1024+h-56320+65536:i}function Kc(t){var r=/^\n* /;return r.test(t)}var Zc=1,kl=2,Xc=3,jc=4,Sr=5;function nb(t,r,i,h,o,d,_,m){var x,E=0,V=null,K=!1,se=!1,he=h!==-1,we=-1,ke=eb(ea(t,0))&&tb(ea(t,t.length-1));if(r||_)for(x=0;x<t.length;E>=65536?x+=2:x++){if(E=ea(t,x),!aa(E))return Sr;ke=ke&&nc(E,V,m),V=E}else{for(x=0;x<t.length;E>=65536?x+=2:x++){if(E=ea(t,x),E===ia)K=!0,he&&(se=se||x-we-1>h&&t[we+1]!==" ",we=x);else if(!aa(E))return Sr;ke=ke&&nc(E,V,m),V=E}se=se||he&&x-we-1>h&&t[we+1]!==" "}return!K&&!se?ke&&!_&&!o(t)?Zc:d===ra?Sr:kl:i>9&&Kc(t)?Sr:_?d===ra?Sr:kl:se?jc:Xc}function ib(t,r,i,h,o){t.dump=function(){if(r.length===0)return t.quotingType===ra?'""':"''";if(!t.noCompatMode&&(Yy.indexOf(r)!==-1||Ky.test(r)))return t.quotingType===ra?'"'+r+'"':"'"+r+"'";var d=t.indent*Math.max(1,i),_=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-d),m=h||t.flowLevel>-1&&i>=t.flowLevel;function x(E){return Jy(t,E)}switch(nb(r,m,t.indent,_,x,t.quotingType,t.forceQuotes&&!h,o)){case Zc:return r;case kl:return"'"+r.replace(/'/g,"''")+"'";case Xc:return"|"+ic(r,t.indent)+rc(ec(r,d));case jc:return">"+ic(r,t.indent)+rc(ec(rb(r,_),d));case Sr:return'"'+ab(r)+'"';default:throw new Xt("impossible error: invalid scalar style")}}()}function ic(t,r){var i=Kc(t)?String(r):"",h=t[t.length-1]===`
`,o=h&&(t[t.length-2]===`
`||t===`
`),d=o?"+":h?"":"-";return i+d+`
`}function rc(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function rb(t,r){for(var i=/(\n+)([^\n]*)/g,h=function(){var E=t.indexOf(`
`);return E=E!==-1?E:t.length,i.lastIndex=E,ac(t.slice(0,E),r)}(),o=t[0]===`
`||t[0]===" ",d,_;_=i.exec(t);){var m=_[1],x=_[2];d=x[0]===" ",h+=m+(!o&&!d&&x!==""?`
`:"")+ac(x,r),o=d}return h}function ac(t,r){if(t===""||t[0]===" ")return t;for(var i=/ [^ ]/g,h,o=0,d,_=0,m=0,x="";h=i.exec(t);)m=h.index,m-o>r&&(d=_>o?_:m,x+=`
`+t.slice(o,d),o=d+1),_=m;return x+=`
`,t.length-o>r&&_>o?x+=t.slice(o,_)+`
`+t.slice(_+1):x+=t.slice(o),x.slice(1)}function ab(t){for(var r="",i=0,h,o=0;o<t.length;i>=65536?o+=2:o++)i=ea(t,o),h=Ut[i],!h&&aa(i)?(r+=t[o],i>=65536&&(r+=t[o+1])):r+=h||Xy(i);return r}function sb(t,r,i){var h="",o=t.tag,d,_,m;for(d=0,_=i.length;d<_;d+=1)m=i[d],t.replacer&&(m=t.replacer.call(i,String(d),m)),(ai(t,r,m,!1,!1)||typeof m>"u"&&ai(t,r,null,!1,!1))&&(h!==""&&(h+=","+(t.condenseFlow?"":" ")),h+=t.dump);t.tag=o,t.dump="["+h+"]"}function sc(t,r,i,h){var o="",d=t.tag,_,m,x;for(_=0,m=i.length;_<m;_+=1)x=i[_],t.replacer&&(x=t.replacer.call(i,String(_),x)),(ai(t,r+1,x,!0,!0,!1,!0)||typeof x>"u"&&ai(t,r+1,null,!0,!0,!1,!0))&&((!h||o!=="")&&(o+=El(t,r)),t.dump&&ia===t.dump.charCodeAt(0)?o+="-":o+="- ",o+=t.dump);t.tag=d,t.dump=o||"[]"}function lb(t,r,i){var h="",o=t.tag,d=Object.keys(i),_,m,x,E,V;for(_=0,m=d.length;_<m;_+=1)V="",h!==""&&(V+=", "),t.condenseFlow&&(V+='"'),x=d[_],E=i[x],t.replacer&&(E=t.replacer.call(i,x,E)),ai(t,r,x,!1,!1)&&(t.dump.length>1024&&(V+="? "),V+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),ai(t,r,E,!1,!1)&&(V+=t.dump,h+=V));t.tag=o,t.dump="{"+h+"}"}function ob(t,r,i,h){var o="",d=t.tag,_=Object.keys(i),m,x,E,V,K,se;if(t.sortKeys===!0)_.sort();else if(typeof t.sortKeys=="function")_.sort(t.sortKeys);else if(t.sortKeys)throw new Xt("sortKeys must be a boolean or a function");for(m=0,x=_.length;m<x;m+=1)se="",(!h||o!=="")&&(se+=El(t,r)),E=_[m],V=i[E],t.replacer&&(V=t.replacer.call(i,E,V)),ai(t,r+1,E,!0,!0,!0)&&(K=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,K&&(t.dump&&ia===t.dump.charCodeAt(0)?se+="?":se+="? "),se+=t.dump,K&&(se+=El(t,r)),ai(t,r+1,V,!0,K)&&(t.dump&&ia===t.dump.charCodeAt(0)?se+=":":se+=": ",se+=t.dump,o+=se));t.tag=d,t.dump=o||"{}"}function lc(t,r,i){var h,o,d,_,m,x;for(o=i?t.explicitTypes:t.implicitTypes,d=0,_=o.length;d<_;d+=1)if(m=o[d],(m.instanceOf||m.predicate)&&(!m.instanceOf||typeof r=="object"&&r instanceof m.instanceOf)&&(!m.predicate||m.predicate(r))){if(i?m.multi&&m.representName?t.tag=m.representName(r):t.tag=m.tag:t.tag="?",m.represent){if(x=t.styleMap[m.tag]||m.defaultStyle,Vc.call(m.represent)==="[object Function]")h=m.represent(r,x);else if(Hc.call(m.represent,x))h=m.represent[x](r,x);else throw new Xt("!<"+m.tag+'> tag resolver accepts not "'+x+'" style');t.dump=h}return!0}return!1}function ai(t,r,i,h,o,d,_){t.tag=null,t.dump=i,lc(t,i,!1)||lc(t,i,!0);var m=Vc.call(t.dump),x=h,E;h&&(h=t.flowLevel<0||t.flowLevel>r);var V=m==="[object Object]"||m==="[object Array]",K,se;if(V&&(K=t.duplicates.indexOf(i),se=K!==-1),(t.tag!==null&&t.tag!=="?"||se||t.indent!==2&&r>0)&&(o=!1),se&&t.usedDuplicates[K])t.dump="*ref_"+K;else{if(V&&se&&!t.usedDuplicates[K]&&(t.usedDuplicates[K]=!0),m==="[object Object]")h&&Object.keys(t.dump).length!==0?(ob(t,r,t.dump,o),se&&(t.dump="&ref_"+K+t.dump)):(lb(t,r,t.dump),se&&(t.dump="&ref_"+K+" "+t.dump));else if(m==="[object Array]")h&&t.dump.length!==0?(t.noArrayIndent&&!_&&r>0?sc(t,r-1,t.dump,o):sc(t,r,t.dump,o),se&&(t.dump="&ref_"+K+t.dump)):(sb(t,r,t.dump),se&&(t.dump="&ref_"+K+" "+t.dump));else if(m==="[object String]")t.tag!=="?"&&ib(t,t.dump,r,d,x);else{if(m==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new Xt("unacceptable kind of an object to dump "+m)}t.tag!==null&&t.tag!=="?"&&(E=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?E="!"+E:E.slice(0,18)==="tag:yaml.org,2002:"?E="!!"+E.slice(18):E="!<"+E+">",t.dump=E+" "+t.dump)}return!0}function ub(t,r){var i=[],h=[],o,d;for(Al(t,i,h),o=0,d=h.length;o<d;o+=1)r.duplicates.push(i[h[o]]);r.usedDuplicates=new Array(d)}function Al(t,r,i){var h,o,d;if(t!==null&&typeof t=="object")if(o=r.indexOf(t),o!==-1)i.indexOf(o)===-1&&i.push(o);else if(r.push(t),Array.isArray(t))for(o=0,d=t.length;o<d;o+=1)Al(t[o],r,i);else for(h=Object.keys(t),o=0,d=h.length;o<d;o+=1)Al(t[h[o]],r,i)}function cb(t,r){r=r||{};var i=new Qy(r);i.noRefs||ub(t,i);var h=t;return i.replacer&&(h=i.replacer.call({"":h},"",h)),ai(i,0,h,!0,!0)?i.dump+`
`:""}var hb=cb,fb={dump:hb};function Tl(t,r){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+r+" instead, which is now safe by default.")}}var db=Dt,pb=dc,_b=mc,gb=Sc,mb=wc,vb=$l,yb=Wc.load,bb=Wc.loadAll,xb=fb.dump,Sb=Xt,wb={binary:Oc,float:xc,map:gc,null:vc,pairs:Mc,set:Ic,timestamp:Ac,bool:yc,int:bc,merge:Cc,omap:$c,seq:_c,str:pc},Eb=Tl("safeLoad","load"),kb=Tl("safeLoadAll","loadAll"),Ab=Tl("safeDump","dump"),Lb={Type:db,Schema:pb,FAILSAFE_SCHEMA:_b,JSON_SCHEMA:gb,CORE_SCHEMA:mb,DEFAULT_SCHEMA:vb,load:yb,loadAll:bb,dump:xb,YAMLException:Sb,types:wb,safeLoad:Eb,safeLoadAll:kb,safeDump:Ab};export{Ib as _,Mb as a,$b as d,Ob as g,Lb as j};
