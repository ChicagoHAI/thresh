import{_ as r,h as g,d as u,a as p,b as f,j as m}from"./js-yaml-42e21bc3.js";import{o,c as i,a as t,t as d,b as l,d as c,e as _,n as h,g as b,F as v}from"./index-6433f4c8.js";const w={class:"landing-box"},y={class:"container landing-container"},k=t("h4",null,"Annotating With",-1),D={class:"flex justify-center"},T=t("label",{for:"assetsFieldHandle",class:"block cursor-pointer"},[t("div",null,[c(" Drag & drop, or "),t("span",{class:"underline"},"click here"),c(" an annotation file ")])],-1),L=t("div",{class:"separator"},[t("span",null,"or")],-1),C={class:"option-buttons"},V=["href"],j=t("button",{class:"pa2 ph3 br-pill-ns ba bw1 grow hit-instructions-btn"},"See Tutorial",-1),F=[j],P=t("button",{class:"pa2 ph3 br-pill-ns ba bw1 grow hit-instructions-btn"},"View Example Data",-1),N=[P],O=["href"],B=t("button",{class:"pa2 ph3 br-pill-ns ba bw1 grow hit-instructions-btn"},"Customize this Template",-1),H=[B],z=["href"],E=t("button",{class:"pa2 ph3 br-pill-ns ba bw1 grow hit-instructions-btn"},"View Paper",-1),S=[E],Y={data(){return{filelist:[],config:{}}},props:["consumed_config","set_data"],watch:{consumed_config(){this.consume_config()}},methods:{consume_config(){this.consumed_config.hasOwnProperty("consumed_config")?this.config=r.cloneDeep(this.consumed_config.consumed_config):this.consumed_config.hasOwnProperty("config")?this.config=r.cloneDeep(this.consumed_config.config):this.config=r.cloneDeep(this.consumed_config),this.config.template_label&&$("title").text(this.config.template_label)},async onChange(n){let e=await g(n);this.set_data(e)},remove(n){this.filelist.splice(n,1)},dragover(n){n.preDefault(),n.currentTarget.classList.contains("bg-green-300")||(n.currentTarget.classList.remove("bg-gray-100"),n.currentTarget.classList.add("bg-green-300"))},dragleave(n){n.currentTarget.classList.add("bg-gray-100"),n.currentTarget.classList.remove("bg-green-300")},async drop(n){n.preDefault(),await onChange(n),n.currentTarget.classList.add("bg-gray-100"),n.currentTarget.classList.remove("bg-green-300")},get_example_data(){let n=`data/${this.config.template_name}.json`;u(n).then(e=>{this.set_data(e)})}},created(){this.consume_config()}},A=Object.assign(Y,{__name:"Landing",setup(n){return(e,s)=>(o(),i("main",w,[t("div",y,[k,t("h2",null,d(e.config.template_label),1),t("h3",null,d(e.config.template_description),1),t("div",D,[t("div",{class:"ba b--dashed bw2 file-box",onDragover:s[1]||(s[1]=(...a)=>e.dragover&&e.dragover(...a)),onDragleave:s[2]||(s[2]=(...a)=>e.dragleave&&e.dragleave(...a)),onDrop:s[3]||(s[3]=(...a)=>e.drop&&e.drop(...a))},[t("input",{type:"file",multiple:"",name:"fields[assetsFieldHandle][]",id:"assetsFieldHandle",class:"file-input-field",onChange:s[0]||(s[0]=(...a)=>e.onChange&&e.onChange(...a)),ref:"file",accept:".json"},null,544),T],32)]),L,t("div",C,[e.config.tutorial_link?(o(),i("a",{key:0,href:e.config.tutorial_link},F,8,V)):l("",!0),t("a",{onClick:s[4]||(s[4]=(...a)=>e.get_example_data&&e.get_example_data(...a))},N),t("a",{href:e.config.template_name},H,8,O),e.config.paper_link?(o(),i("a",{key:1,href:e.config.paper_link},S,8,z)):l("",!0)])])]))}});const R={key:0},W={key:1},q={data(){return{data:null,consumed_config:null,set_data:this.set_data}},props:["template"],methods:{set_data(n){this.data=n},set_config(n){this.consumed_config=n}},created:async function(){let e=`templates/${this.template}.yml`;f(e).then(s=>{const a=m.load(s);this.set_config(a)})}},J=Object.assign(q,{__name:"Viewer",setup(n){return(e,s)=>(o(),i(v,null,[e.consumed_config!=null&&e.consumed_config!=null&&e.data!=null&&e.data!=null?(o(),i("main",R,[_(p,{input_data:{data:e.data},consumed_config:{consumed_config:e.consumed_config}},null,8,["input_data","consumed_config"])])):l("",!0),e.consumed_config!=null&&e.consumed_config!=null&&(e.data==null||e.data==null)?(o(),i("main",W,[_(A,h(b(e.$data)),null,16)])):l("",!0)],64))}});export{J as default};
