import{b as d,h,a as b,_ as w,d as c,j as _}from"./Interface-cda93668.js";import{o,c as i,b as n,t as g,a as l,f as u,d as p,n as v,i as y,F as k}from"./index-b6488879.js";const D={class:"landing-box"},T={class:"container landing-container"},L=n("h4",null,"Annotating with",-1),C={class:"flex justify-center"},V=n("label",{for:"assetsFieldHandle",class:"block cursor-pointer"},[n("div",null,[u(" Drag & drop, or "),n("span",{class:"underline"},"click here"),u(" to add an annotation file ")])],-1),j=n("div",{class:"separator"},[n("span",null,"or")],-1),F={class:"option-buttons"},P=["href"],N=n("button",{class:"pa2 ph3 br-pill-ns ba bw1 grow hit-instructions-btn"},"See Tutorial",-1),O=[N],B=n("button",{class:"pa2 ph3 br-pill-ns ba bw1 grow hit-instructions-btn"},"View Example Data",-1),H=[B],z=["href"],E=n("button",{class:"pa2 ph3 br-pill-ns ba bw1 grow hit-instructions-btn"},"Customize this Template",-1),S=[E],A=["href"],R=n("button",{class:"pa2 ph3 br-pill-ns ba bw1 grow hit-instructions-btn"},"View Paper",-1),Y=[R],q={data(){return{filelist:[],config:{}}},props:["consumed_config","set_data"],watch:{consumed_config(){this.consume_config()}},methods:{consume_config(){this.consumed_config.hasOwnProperty("consumed_config")?this.config=d.cloneDeep(this.consumed_config.consumed_config):this.consumed_config.hasOwnProperty("config")?this.config=d.cloneDeep(this.consumed_config.config):this.config=d.cloneDeep(this.consumed_config),this.config.template_label&&$("title").text(this.config.template_label)},async onChange(t){let e=await h(t);this.set_data(e)},remove(t){this.filelist.splice(t,1)},dragover(t){t.preDefault(),t.currentTarget.classList.contains("bg-green-300")||(t.currentTarget.classList.remove("bg-gray-100"),t.currentTarget.classList.add("bg-green-300"))},dragleave(t){t.currentTarget.classList.add("bg-gray-100"),t.currentTarget.classList.remove("bg-green-300")},async drop(t){t.preDefault(),await onChange(t),t.currentTarget.classList.add("bg-gray-100"),t.currentTarget.classList.remove("bg-green-300")},get_example_data(){let t=`data/${this.config.template_name}.json`;b(t).then(e=>{this.set_data(e)})}},created(){this.consume_config()},computed:{template_link(){return`/?t=${this.config.template_name}`}}},G=Object.assign(q,{__name:"Landing",setup(t){return(e,a)=>(o(),i("main",D,[n("div",T,[L,n("h2",null,g(e.config.template_label),1),n("h3",null,g(e.config.template_description),1),n("div",C,[n("div",{class:"ba b--dashed bw2 file-box",onDragover:a[1]||(a[1]=(...s)=>e.dragover&&e.dragover(...s)),onDragleave:a[2]||(a[2]=(...s)=>e.dragleave&&e.dragleave(...s)),onDrop:a[3]||(a[3]=(...s)=>e.drop&&e.drop(...s))},[n("input",{type:"file",multiple:"",name:"fields[assetsFieldHandle][]",id:"assetsFieldHandle",class:"file-input-field",onChange:a[0]||(a[0]=(...s)=>e.onChange&&e.onChange(...s)),ref:"file",accept:".json"},null,544),V],32)]),j,n("div",F,[e.config.tutorial_link?(o(),i("a",{key:0,href:e.config.tutorial_link},O,8,P)):l("",!0),n("a",{onClick:a[4]||(a[4]=(...s)=>e.get_example_data&&e.get_example_data(...s))},H),n("a",{href:e.template_link},S,8,z),e.config.paper_link?(o(),i("a",{key:1,href:e.config.paper_link},Y,8,A)):l("",!0)])])]))}});const I={key:0},J={key:1},K={data(){return{data:null,consumed_config:null,set_data:this.set_data}},props:["template_path"],methods:{set_data(t){this.data=t},set_config(t){this.consumed_config=t}},created:async function(){const e=`templates/${this.template_path}.yml`;let a=await c(e).then(r=>_.load(r));const f=`lang/${a.language||"en"}.yml`;let m=await c(f).then(r=>_.load(r));a.interface_text=m,this.set_config(a)}},U=Object.assign(K,{__name:"Viewer",setup(t){return(e,a)=>(o(),i(k,null,[e.consumed_config!=null&&e.consumed_config!=null&&e.data!=null&&e.data!=null?(o(),i("main",I,[p(w,{input_data:{data:e.data},consumed_config:{consumed_config:e.consumed_config}},null,8,["input_data","consumed_config"])])):l("",!0),e.consumed_config!=null&&e.consumed_config!=null&&(e.data==null||e.data==null)?(o(),i("main",J,[p(G,v(y(e.$data)),null,16)])):l("",!0)],64))}});export{U as default};
